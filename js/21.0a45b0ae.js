(self["define"]=self["define"]||[]).push([[21],{76392:function(e){!function(t,n){e.exports=n()}(0,(function(){"use strict";var e=1e3,t=6e4,n=36e5,a="millisecond",o="second",i="minute",s="hour",l="day",r="week",c="month",u="quarter",d="year",v="date",m="Invalid Date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},g=function(e,t,n){var a=String(e);return!a||a.length>=t?e:""+Array(t+1-a.length).join(n)+e},y={s:g,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),a=Math.floor(n/60),o=n%60;return(t<=0?"+":"-")+g(a,2,"0")+":"+g(o,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var a=12*(n.year()-t.year())+(n.month()-t.month()),o=t.clone().add(a,c),i=n-o<0,s=t.clone().add(a+(i?-1:1),c);return+(-(a+(n-o)/(i?o-s:s-o))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:d,w:r,d:l,D:v,h:s,m:i,s:o,ms:a,Q:u}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},w="en",b={};b[w]=h;var C=function(e){return e instanceof $},k=function(e,t,n){var a;if(!e)return w;if("string"==typeof e)b[e]&&(a=e),t&&(b[e]=t,a=e);else{var o=e.name;b[o]=e,a=o}return!n&&a&&(w=a),a||!n&&w},_=function(e,t){if(C(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new $(n)},S=y;S.l=k,S.i=C,S.w=function(e,t){return _(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var $=function(){function h(e){this.$L=k(e.locale,null,!0),this.parse(e)}var g=h.prototype;return g.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(S.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var a=t.match(f);if(a){var o=a[2]-1||0,i=(a[7]||"0").substring(0,3);return n?new Date(Date.UTC(a[1],o,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)):new Date(a[1],o,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},g.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},g.$utils=function(){return S},g.isValid=function(){return!(this.$d.toString()===m)},g.isSame=function(e,t){var n=_(e);return this.startOf(t)<=n&&n<=this.endOf(t)},g.isAfter=function(e,t){return _(e)<this.startOf(t)},g.isBefore=function(e,t){return this.endOf(t)<_(e)},g.$g=function(e,t,n){return S.u(e)?this[t]:this.set(n,e)},g.unix=function(){return Math.floor(this.valueOf()/1e3)},g.valueOf=function(){return this.$d.getTime()},g.startOf=function(e,t){var n=this,a=!!S.u(t)||t,u=S.p(e),m=function(e,t){var o=S.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return a?o:o.endOf(l)},f=function(e,t){return S.w(n.toDate()[e].apply(n.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},p=this.$W,h=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(u){case d:return a?m(1,0):m(31,11);case c:return a?m(1,h):m(0,h+1);case r:var w=this.$locale().weekStart||0,b=(p<w?p+7:p)-w;return m(a?g-b:g+(6-b),h);case l:case v:return f(y+"Hours",0);case s:return f(y+"Minutes",1);case i:return f(y+"Seconds",2);case o:return f(y+"Milliseconds",3);default:return this.clone()}},g.endOf=function(e){return this.startOf(e,!1)},g.$set=function(e,t){var n,r=S.p(e),u="set"+(this.$u?"UTC":""),m=(n={},n[l]=u+"Date",n[v]=u+"Date",n[c]=u+"Month",n[d]=u+"FullYear",n[s]=u+"Hours",n[i]=u+"Minutes",n[o]=u+"Seconds",n[a]=u+"Milliseconds",n)[r],f=r===l?this.$D+(t-this.$W):t;if(r===c||r===d){var p=this.clone().set(v,1);p.$d[m](f),p.init(),this.$d=p.set(v,Math.min(this.$D,p.daysInMonth())).$d}else m&&this.$d[m](f);return this.init(),this},g.set=function(e,t){return this.clone().$set(e,t)},g.get=function(e){return this[S.p(e)]()},g.add=function(a,u){var v,m=this;a=Number(a);var f=S.p(u),p=function(e){var t=_(m);return S.w(t.date(t.date()+Math.round(e*a)),m)};if(f===c)return this.set(c,this.$M+a);if(f===d)return this.set(d,this.$y+a);if(f===l)return p(1);if(f===r)return p(7);var h=(v={},v[i]=t,v[s]=n,v[o]=e,v)[f]||1,g=this.$d.getTime()+a*h;return S.w(g,this)},g.subtract=function(e,t){return this.add(-1*e,t)},g.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||m;var a=e||"YYYY-MM-DDTHH:mm:ssZ",o=S.z(this),i=this.$H,s=this.$m,l=this.$M,r=n.weekdays,c=n.months,u=function(e,n,o,i){return e&&(e[n]||e(t,a))||o[n].substr(0,i)},d=function(e){return S.s(i%12||12,e,"0")},v=n.meridiem||function(e,t,n){var a=e<12?"AM":"PM";return n?a.toLowerCase():a},f={YY:String(this.$y).slice(-2),YYYY:this.$y,M:l+1,MM:S.s(l+1,2,"0"),MMM:u(n.monthsShort,l,c,3),MMMM:u(c,l),D:this.$D,DD:S.s(this.$D,2,"0"),d:String(this.$W),dd:u(n.weekdaysMin,this.$W,r,2),ddd:u(n.weekdaysShort,this.$W,r,3),dddd:r[this.$W],H:String(i),HH:S.s(i,2,"0"),h:d(1),hh:d(2),a:v(i,s,!0),A:v(i,s,!1),m:String(s),mm:S.s(s,2,"0"),s:String(this.$s),ss:S.s(this.$s,2,"0"),SSS:S.s(this.$ms,3,"0"),Z:o};return a.replace(p,(function(e,t){return t||f[e]||o.replace(":","")}))},g.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},g.diff=function(a,v,m){var f,p=S.p(v),h=_(a),g=(h.utcOffset()-this.utcOffset())*t,y=this-h,w=S.m(this,h);return w=(f={},f[d]=w/12,f[c]=w,f[u]=w/3,f[r]=(y-g)/6048e5,f[l]=(y-g)/864e5,f[s]=y/n,f[i]=y/t,f[o]=y/e,f)[p]||y,m?w:S.a(w)},g.daysInMonth=function(){return this.endOf(c).$D},g.$locale=function(){return b[this.$L]},g.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),a=k(e,t,!0);return a&&(n.$L=a),n},g.clone=function(){return S.w(this.$d,this)},g.toDate=function(){return new Date(this.valueOf())},g.toJSON=function(){return this.isValid()?this.toISOString():null},g.toISOString=function(){return this.$d.toISOString()},g.toString=function(){return this.$d.toUTCString()},h}(),I=$.prototype;return _.prototype=I,[["$ms",a],["$s",o],["$m",i],["$H",s],["$W",l],["$M",c],["$y",d],["$D",v]].forEach((function(e){I[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),_.extend=function(e,t){return e.$i||(e(t,$,_),e.$i=!0),_},_.locale=k,_.isDayjs=C,_.unix=function(e){return _(1e3*e)},_.en=b[w],_.Ls=b,_.p={},_}))},86022:function(e,t,n){"use strict";n(21703);const a=(e,t)=>Math.floor(Math.random()*(t-e+1)+e),o=()=>{const e=new Error("Delay aborted");return e.name="AbortError",e},i=({clearTimeout:e,setTimeout:t,willResolve:n})=>(a,{value:i,signal:s}={})=>{if(s&&s.aborted)return Promise.reject(o());let l,r,c;const u=e||clearTimeout,d=()=>{u(l),c(o())},v=()=>{s&&s.removeEventListener("abort",d)},m=new Promise(((e,o)=>{r=()=>{v(),n?e(i):o(i)},c=o,l=(t||setTimeout)(r,a)}));return s&&s.addEventListener("abort",d,{once:!0}),m.clear=()=>{u(l),l=null,r()},m},s=e=>{const t=i({...e,willResolve:!0});return t.reject=i({...e,willResolve:!1}),t.range=(e,n,o)=>t(a(e,n),o),t},l=s();l.createWithTimers=s,e.exports=l,e.exports["default"]=l},72867:function(e,t,n){"use strict";n.d(t,{HU:function(){return s}});const a={global:"https://77.cocogoat.work",cn:"https://cocogoat-1251105598.file.myqcloud.com/77"};let o=navigator.language.startsWith("zh")?"cn":"global",i=!1;const s=async(e="")=>(i||(i=!0,await l()),a[o]+e),l=async()=>{const e=await s("/v1/utils/api-region");try{const t=await fetch(e);if(t.ok){const e=await t.text();a[e]&&(o=e)}}catch(t){console.error("API Region Probe Faild",t),o="global"===o?"cn":"global"}}},11296:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var a=n(19812);const o={viewBox:"0 0 204 204"},i=(0,a._)("g",null,[(0,a._)("path",{d:" M 92.79 59.13 C 94.98 55.32 98.53 52.56 101.92 49.88 C 105.14 52.74 108.92 55.30 111.02 59.15 C 110.63 62.49 107.80 65.92 104.21 65.83 C 101.15 65.86 97.27 66.68 95.10 63.91 C 93.97 62.56 92.73 60.98 92.79 59.13 Z"}),(0,a._)("path",{d:" M 82.38 54.26 C 82.72 54.23 83.41 54.17 83.76 54.14 C 86.77 57.18 89.10 60.84 92.29 63.72 C 93.95 65.58 96.89 67.68 95.57 70.52 C 93.68 75.27 90.04 79.03 87.26 83.27 C 85.94 84.91 84.25 87.99 81.72 86.52 C 79.39 83.07 77.68 79.20 75.02 75.95 C 73.64 73.84 70.87 71.42 72.69 68.75 C 75.49 63.69 78.35 58.47 82.38 54.26 Z"}),(0,a._)("path",{d:" M 119.11 54.95 C 120.87 52.96 122.79 55.72 123.89 57.04 C 126.97 61.41 130.22 65.85 132.00 70.92 C 128.93 76.45 124.76 81.37 121.83 87.03 C 121.20 86.96 119.95 86.83 119.33 86.77 C 116.16 82.55 113.06 78.28 110.00 73.99 C 108.50 71.78 106.78 68.39 109.16 66.15 C 112.65 62.58 116.01 58.89 119.11 54.95 Z"}),(0,a._)("path",{d:" M 51.82 63.56 C 58.70 63.02 64.12 67.97 68.08 72.99 C 72.28 77.62 75.21 83.19 78.32 88.57 C 80.70 92.48 79.50 97.42 81.68 101.44 C 84.44 88.13 95.06 78.87 101.41 67.39 C 103.21 69.06 104.59 71.10 105.93 73.15 C 111.83 81.55 119.56 89.46 121.42 99.94 C 121.88 99.79 122.79 99.50 123.25 99.35 C 123.62 95.93 123.59 92.31 125.30 89.22 C 129.75 80.82 134.83 72.41 142.47 66.52 C 145.21 64.40 148.62 63.50 152.06 63.57 C 150.18 68.18 148.61 72.98 148.91 78.04 C 148.87 91.80 143.22 105.66 132.73 114.74 C 129.22 118.10 124.49 120.51 122.54 125.21 C 127.83 124.55 132.04 121.10 136.38 118.32 C 145.39 112.57 154.03 106.14 161.79 98.78 C 167.77 93.07 171.20 85.51 174.16 77.96 C 176.45 77.74 177.07 80.44 178.09 81.97 C 181.72 88.26 181.50 95.83 180.67 102.81 C 179.03 109.41 175.27 115.68 169.55 119.51 C 161.87 124.32 153.00 127.10 143.98 127.83 C 140.96 128.00 137.94 128.52 135.19 129.85 C 136.01 134.37 136.26 139.44 133.24 143.26 C 129.03 150.23 118.48 151.96 112.25 146.74 C 108.03 143.08 106.71 137.40 103.80 132.82 C 102.28 133.14 100.11 132.48 99.28 134.22 C 96.79 138.38 95.66 143.53 91.73 146.71 C 87.38 150.49 80.82 150.55 75.80 148.14 C 72.69 146.31 70.33 143.26 68.96 139.95 C 67.64 136.66 68.75 133.04 68.04 129.67 C 65.75 128.01 62.69 128.23 60.02 127.83 C 51.21 127.21 42.64 124.39 35.05 119.91 C 28.95 116.19 24.96 109.66 23.29 102.82 C 22.58 95.83 22.21 88.24 25.83 81.92 C 26.84 80.41 27.51 77.79 29.76 77.99 C 31.70 81.87 32.72 86.19 35.15 89.83 C 41.41 100.09 51.57 106.93 61.00 113.98 C 67.60 117.93 73.49 123.71 81.26 125.19 C 79.42 120.47 74.79 118.01 71.24 114.75 C 60.50 105.43 54.82 91.11 55.06 76.99 C 55.35 72.26 53.43 67.89 51.82 63.56 M 72.72 129.22 C 72.52 135.00 78.56 138.93 83.85 138.62 C 87.70 138.20 90.56 135.35 93.11 132.70 C 87.27 128.33 79.61 128.62 72.72 129.22 M 110.90 132.29 C 112.59 134.55 114.51 136.81 117.21 137.86 C 123.13 140.54 131.06 135.91 131.17 129.27 C 124.29 128.39 117.05 128.76 110.90 132.29 Z"})],-1),s=[i];function l(e,t){return(0,a.wg)(),(0,a.iD)("svg",o,s)}var r=n(48998);const c={},u=(0,r.Z)(c,[["render",l]]);var d=u},34875:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Mt}});n(28228),n(98379),n(93955),n(25597),n(10085),n(94314),n(5018),n(26216),n(83454),n(9917),n(89765);var a=n(59084),o=n(41189),i=n(32770),s=n(30693),l=n(62702),r=n(93776),c=n(6504),u=n(62619),d=n(19812),v=n(55893),m=n(44220),f=n(24701);const p={class:"teleport-title"},h={style:{"font-family":"genshin"}},g=(0,d.Uk)(" 成就 "),y={class:"count"},w={class:"reward"},b=(0,d._)("img",{src:f,alt:"原石"},null,-1),C={class:"actions"},k={class:"a-line"},_=(0,d._)("div",{style:{"text-align":"center"}},"真的要清空吗？",-1),S={style:{"text-align":"center",margin:"0","margin-top":"15px"}},$=(0,d.Uk)("取消"),I=(0,d.Uk)("清空当前"),D=(0,d.Uk)("清空全部"),M=(0,d.Uk)(" 清空 "),x={class:"a-line"},E=(0,d.Uk)(" 导入 "),O={class:"dropdown"},W=(0,d.Uk)(" 导出 "),F=(0,d.Uk)(" Paimon.moe "),L=(0,d.Uk)("代码"),A=(0,d.Uk)(" Seelie.me "),H=(0,d.Uk)("代码"),T={class:"a-line"},V=["src"],z=(0,d._)("div",{class:"scanner-back"},[(0,d._)("div",{class:"scanner-box"},[(0,d._)("div",{class:"scanner-title"},"成就识别")])],-1),N=(0,d.Uk)(" 以下为失败和识别到的未完成成就列表，您可以自行检查确认后手动添加。 "),Y={class:"faildResults"},j=["src"],B={class:"progress"},q={class:"page-before"},R={class:"left"},U={class:"right"},Z={class:"fa-icon"},P={class:"page-after"},J={class:"select-this-page"},Q=(0,d.Uk)(" 全选本页 ");function K(e,t,n,f,K,X){const G=u.E2,ee=c.mi,te=(0,d.up)("fa-icon"),ne=r.$t,ae=l.Df,oe=l.o2,ie=l.YK,se=s.EZ,le=i.d0,re=(0,d.up)("import-dialog"),ce=(0,d.up)("achievement-detail"),ue=(0,d.up)("achievement-sidebar"),de=o.BT,ve=o.km,me=(0,d.up)("achievement-item"),fe=(0,d.up)("DynamicScrollerItem"),pe=(0,d.up)("icon-cocogoat"),he=a.os,ge=(0,d.up)("DynamicScroller"),ye=(0,d.up)("Layout");return(0,d.wg)(),(0,d.j4)(ye,{"full-height":"",style:{background:"#eee"}},{title:(0,d.w5)((()=>[(0,d._)("div",p,[(0,d._)("span",h,[g,(0,d._)("small",{class:(0,v.C_)(e.$style.totalPercent)},[(0,d._)("div",y,(0,v.zw)(e.totalFin.count)+" / "+(0,v.zw)(e.totalCount),1),(0,d._)("div",w,[(0,d.Uk)((0,v.zw)(e.totalFin.reward)+" / "+(0,v.zw)(e.totalReward)+" ",1),b])],2)])])])),actions:(0,d.w5)((()=>[(0,d._)("div",C,[(0,d._)("div",k,[(0,d.Wm)(ne,{visible:e.showClear,"onUpdate:visible":t[4]||(t[4]=t=>e.showClear=t),width:190,placement:e.isMobile?"left-start":"bottom"},{reference:(0,d.w5)((()=>[(0,d.wy)((0,d.Wm)(ee,{type:"danger",plain:"",onClick:t[3]||(t[3]=t=>e.showClear=!0)},{default:(0,d.w5)((()=>[(0,d.Wm)(te,{icon:"trash-can"}),M])),_:1},512),[[m.F8,!e.showScanner]])])),default:(0,d.w5)((()=>[_,(0,d._)("div",S,[(0,d.Wm)(G,{style:{"margin-right":"15px"},onClick:t[0]||(t[0]=t=>e.showClear=!1)},{default:(0,d.w5)((()=>[$])),_:1}),(0,d.Wm)(G,{type:"danger",style:{"margin-right":"15px"},onClick:t[1]||(t[1]=t=>e.doClear(!1))},{default:(0,d.w5)((()=>[I])),_:1}),(0,d.Wm)(ee,{size:"small",type:"danger",plain:"",onClick:t[2]||(t[2]=t=>e.doClear(!0))},{default:(0,d.w5)((()=>[D])),_:1})])])),_:1},8,["visible","placement"])]),(0,d._)("div",x,[(0,d.wy)((0,d.Wm)(ee,{class:"import-button",onClick:t[5]||(t[5]=t=>e.showImport=!e.showImport)},{default:(0,d.w5)((()=>[E])),_:1},512),[[m.F8,!e.showScanner]]),(0,d.wy)((0,d._)("div",O,[(0,d.Wm)(ie,{class:"header-plain-dropdown","split-button":"",onClick:t[8]||(t[8]=t=>e.doExport(""))},{dropdown:(0,d.w5)((()=>[(0,d.Wm)(oe,{class:"el-dropdown-menu--small"},{default:(0,d.w5)((()=>[(0,d.Wm)(ae,{disabled:"",class:"export-title"},{default:(0,d.w5)((()=>[F])),_:1}),(0,d.Wm)(ae,{onClick:t[6]||(t[6]=t=>e.doExport("paimon"))},{default:(0,d.w5)((()=>[L])),_:1}),(0,d.Wm)(ae,{divided:"",disabled:"",class:"export-title"},{default:(0,d.w5)((()=>[A])),_:1}),(0,d.Wm)(ae,{onClick:t[7]||(t[7]=t=>e.doExport("seelie"))},{default:(0,d.w5)((()=>[H])),_:1})])),_:1})])),default:(0,d.w5)((()=>[W])),_:1})],512),[[m.F8,!e.showScanner]])]),(0,d._)("div",T,[(0,d.Wm)(ee,{size:"default",type:"primary",plain:!e.showScanner,onClick:t[9]||(t[9]=t=>e.showScanner=!e.showScanner)},{default:(0,d.w5)((()=>[(0,d.Wm)(te,{icon:"crosshairs"}),(0,d.Uk)(" "+(0,v.zw)(e.showScanner?"退出":"")+"识别 ",1)])),_:1},8,["plain"])])])])),default:(0,d.w5)((()=>{var n;return[e.showScanner?((0,d.wg)(),(0,d.iD)("div",{key:0,class:(0,v.C_)(e.$style.scannerArea)},[(0,d._)("iframe",{ref:"scannerFrame",class:"scanner-frame",src:e.frameSrc},null,8,V),z],2)):(0,d.kq)("",!0),(0,d.Wm)(le,{modelValue:e.exportData.show,"onUpdate:modelValue":t[10]||(t[10]=t=>e.exportData.show=t),title:e.exportData.title,"custom-class":e.$style.exportDialog,"destroy-on-close":""},{default:(0,d.w5)((()=>[(0,d.Wm)(se,{type:"textarea","model-value":e.exportData.content},null,8,["model-value"])])),_:1},8,["modelValue","title","custom-class"]),(0,d.Wm)(le,{modelValue:e.showImport,"onUpdate:modelValue":t[12]||(t[12]=t=>e.showImport=t),title:"导入","custom-class":e.$style.importDialog,"destroy-on-close":""},{default:(0,d.w5)((()=>[(0,d.Wm)(re,{onClose:t[11]||(t[11]=t=>e.showImport=!1)})])),_:1},8,["modelValue","custom-class"]),(0,d.Wm)(le,{modelValue:e.scannerResult.show,"onUpdate:modelValue":t[13]||(t[13]=t=>e.scannerResult.show=t),title:"扫描结束","custom-class":e.$style.scannerResultDialog,"destroy-on-close":""},{default:(0,d.w5)((()=>[N,(0,d._)("div",Y,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(e.scannerResult.faildImages,((e,t)=>((0,d.wg)(),(0,d.iD)("img",{key:t,src:e},null,8,j)))),128))])])),_:1},8,["modelValue","custom-class"]),(0,d.Wm)(ce,{achievement:e.detail,onClose:t[14]||(t[14]=t=>e.detail=void 0)},null,8,["achievement"]),(0,d._)("section",{class:(0,v.C_)(e.$style.achievementView)},[(0,d._)("div",B,[(0,d._)("div",{class:"progress-in",style:(0,v.j5)({width:((null===(n=e.achievementFinStat[e.currentCat.id||0])||void 0===n?void 0:n.count)||0)/e.currentCat.achievements.length*100+"%"})},null,4)]),(0,d.Wm)(ue,{achievementCat:e.achievementCat,achievementFinStat:e.achievementFinStat},null,8,["achievementCat","achievementFinStat"]),(0,d._)("article",null,[(0,d.Wm)(ge,{items:e.currentAch,"min-item-size":80,"custom-scrollbar":e.CustomElScrollVue,class:"scroller"},{before:(0,d.w5)((()=>[(0,d._)("div",q,[(0,d._)("div",R,[(0,d.Wm)(ve,{modelValue:e.statusQuest,"onUpdate:modelValue":t[15]||(t[15]=t=>e.statusQuest=t),class:"status-quest"},{default:(0,d.w5)((()=>[(0,d.Wm)(de,{value:"",label:"全部成就"}),(0,d.Wm)(de,{value:"WQ",label:"世界任务"}),(0,d.Wm)(de,{value:"IQ",label:"每日委托"}),(0,d.Wm)(de,{value:"MQ",label:"主线任务"})])),_:1},8,["modelValue"]),(0,d.Wm)(ee,{class:"status-switch",onClick:t[16]||(t[16]=t=>e.sortByStatus=!e.sortByStatus)},{default:(0,d.w5)((()=>[(0,d.Uk)(" 未完成优先："+(0,v.zw)(e.sortByStatus?"开":"关"),1)])),_:1})]),(0,d._)("div",U,[(0,d.Wm)(se,{modelValue:e.search,"onUpdate:modelValue":t[17]||(t[17]=t=>e.search=t),class:"search-box",placeholder:"搜索成就"},{suffix:(0,d.w5)((()=>[(0,d._)("span",Z,[(0,d.Wm)(te,{icon:"search"})])])),_:1},8,["modelValue"])])])])),default:(0,d.w5)((({item:t,active:n})=>[(0,d.Wm)(fe,{item:t,active:n,"size-dependencies":[t.preStage,t.postStage]},{default:(0,d.w5)((()=>[(0,d.Wm)(me,{i:t,fin:e.achievementFin[t.id],preFin:e.achievementFin[t.preStage],contributed:e.contributed,onCheck:n=>e.updateFinished(t.id),onInputDate:n=>e.achievementFin[t.id].date=n,onInputStatus:n=>e.achievementFin[t.id].status=n,onClickTitle:n=>e.detail=t},null,8,["i","fin","preFin","contributed","onCheck","onInputDate","onInputStatus","onClickTitle"])])),_:2},1032,["item","active","size-dependencies"])])),after:(0,d.w5)((()=>{var n;return[(0,d._)("div",P,[(0,d._)("div",J,[!e.achievementFinStat[e.currentCat.id]||(null===(n=e.achievementFinStat[e.currentCat.id])||void 0===n?void 0:n.count)<e.currentCat.achievements.length?((0,d.wg)(),(0,d.j4)(G,{key:0,type:"primary",onClick:t[18]||(t[18]=t=>e.selectCat(e.currentCat))},{default:(0,d.w5)((()=>[Q])),_:1})):(0,d.kq)("",!0)]),(0,d.Wm)(he,null,{default:(0,d.w5)((()=>[(0,d.Wm)(pe)])),_:1})])]})),_:1},8,["items","custom-scrollbar"])])],2)]})),_:1})}n(85827);var X=n(13065),G=n(20521),ee=n(51020),te=n(14287),ne=n(1607),ae=n(11296),oe=n(82619),ie=n(28593),se=n(76392),le=n.n(se),re=n(73823),ce=n(97067),ue=n(86022),de=n.n(ue),ve=n(16165),me=n(53389);const fe={install(e){e.directive("loading",me.t),e.config.globalProperties.$loading=ve.g},directive:me.t,service:ve.g};var pe=n(24621);function he({scannerFrame:e,results:t,achievementFin:n,showScanner:a}){const o=async e=>{const{app:o,event:i,data:s}=e.data;if("cocogoat.scanner.achievement"===o&&"ready"!==i&&"result"===i){a.value=!1;const e=fe.service({fullscreen:!0,text:"结果处理中..."});await de()(100);const{result:o}=s;for(const t of o)if(t.success&&t.achievement.preStage&&t.achievement.preStage>0){const e=ee.Z.find((e=>e.id===t.achievement.categoryId));if(e){const n=e.achievements.find((e=>e.id===t.achievement.preStage));if(n){const e={...t,done:!0,success:!0,date:"后续已完成"};o.push({...e,achievement:{...n,categoryId:t.achievement.categoryId}})}}}const i=[],l=o.filter((e=>!(!e.success||!e.done)||(i.push(e),!1))).map((e=>({id:e.achievement.id,date:e.date,status:e.status,categoryId:e.achievement.categoryId,images:e.images})));l.forEach((e=>{n.value[e.id]||ie.h.value.achievements.push(e)}));const r=i.map((e=>{var t;return(null===(t=e.images)||void 0===t?void 0:t.main)||""}));i.length>0?(console.log("Faild:",i),t.value={show:!0,faildImages:r}):pe.T.alert("成功识别"+l.length+"个，失败0个","扫描结束"),await de()(100),e.close(),console.log("got result from scanner",o)}};(0,d.YP)(e,(e=>{console.log(e),e?window.addEventListener("message",o):window.removeEventListener("message",o)})),(0,d.Jd)((()=>{window.removeEventListener("message",o)}))}function ge(){const e=(0,G.iH)({show:!1,title:"",content:""}),t=t=>{const n=t||ie.YM.value.achievements_recent_export;ie.YM.value.achievements_recent_export=n;let a="";if("seelie"===n){const e=ie.h.value.achievements.map((e=>[e.id,(e.status+" "+e.date).trim()]));a=`/*\n* 复制此处所有内容，\n* 在Seelie.me页面按F12打开调试器，\n* 选择控制台(Console)\n* 粘贴并回车执行完成导入\n*/\nconst z = ${JSON.stringify(e)};\nconst a = localStorage.account || 'main'\nconst b = JSON.parse(localStorage.getItem(\`\${a}-achievements\`)||'{}')\nz.forEach(c=>{b[c[0]]={done:true,notes:c[1]}})\nlocalStorage.setItem(\`\${a}-achievements\`,JSON.stringify(b))\nlocalStorage.last_update = (new Date()).toISOString()\nlocation.href='/achievements'`}else{const e=ie.h.value.achievements.map((e=>[e.categoryId,e.id]));a=`/*\n* 复制此处所有内容，\n* 在Paimon.moe页面按F12打开调试器，\n* 选择控制台(Console)\n* 粘贴并回车执行完成导入\n*/\nconst b = ${JSON.stringify(e)};\nconst a = (await localforage.getItem('achievement')) || {};\nb.forEach(c=>{a[c[0]]=a[c[0]]||{};a[c[0]][c[1]]=true})\nawait localforage.setItem('achievement',a);\nlocation.href='/achievement'`}e.value={show:!0,content:a,title:"导出到"+("paimon"===n?"Paimon.moe":"Seelie.me")}};return{exportData:e,doExport:t}}n(21703);var ye=n(72867);const we={};async function be(e){const t=await(0,ye.HU)(`/contributed/${e}/achievements-link.json`);return await fetch(t)}function Ce(){const e="zh-cn",t=(0,G.iH)({});return we[ie.YM.value.lang]?(t.value=we[ie.YM.value.lang],t):(be(ie.YM.value.lang).then((async e=>{if(!e.ok)throw new Error("Status code not OK");{const n=await e.json();we[ie.YM.value.lang]=n,t.value=n}})).catch((n=>{console.error(`Fetch contributed achievements for ${ie.YM.value.lang} failed`,n),ie.YM.value.lang!==e&&be(e).then((async e=>{if(!e.ok)throw new Error("Status code not OK");{const n=await e.json();t.value=n}})).catch((e=>{console.error("Fetch contributed achievements for fallback failed",e)}))})),t)}const ke={class:"check"},_e={key:0,class:"check-disabled",title:"上一阶段未达成"},Se={class:"middle"},$e={class:"name"},Ie=(0,d._)("img",{src:f,alt:"原石"},null,-1),De={class:"number"},Me=["href"],xe=(0,d.Uk)(" 攻略 "),Ee={key:0,class:"right"},Oe={class:"status"},We=["value"],Fe={class:"date"},Le=["value"];function Ae(e,t,n,a,o,i){const s=(0,d.up)("fa-icon");return(0,d.wg)(),(0,d.iD)("section",{class:(0,v.C_)({sub:e.i.preStage,[e.$style.achievementItem]:1})},[(0,d._)("div",{class:(0,v.C_)(["single",{"no-contrib":!e.contributed[e.i.id]}])},[(0,d.wy)((0,d._)("div",{class:(0,v.C_)(["badge",e.questType?e.questType[1]:""])},[(0,d._)("span",null,(0,v.zw)(e.questType?e.questType[0]:""),1)],2),[[m.F8,e.questType]]),(0,d._)("div",ke,[e.i.preStage&&!e.preFin?((0,d.wg)(),(0,d.iD)("a",_e)):(0,d.kq)("",!0),(0,d._)("div",{class:(0,v.C_)(["check-circle",{checked:e.fin}]),onClick:t[0]||(t[0]=t=>e.$emit("check"))},[!e.i.preStage||e.preFin?((0,d.wg)(),(0,d.j4)(s,{key:0,icon:"check"})):((0,d.wg)(),(0,d.j4)(s,{key:1,icon:"ellipsis"}))],2)]),(0,d._)("div",Se,[(0,d._)("div",$e,[(0,d._)("div",{class:(0,v.C_)(["award",{checked:e.fin}])},[Ie,(0,d._)("span",De,(0,v.zw)(e.i.reward),1)],2),(0,d._)("div",{class:"ntxt",onClick:t[1]||(t[1]=t=>e.$emit("click-title"))},(0,v.zw)(e.amos[e.i.name]),1)]),(0,d._)("small",null,[e.contributed[e.i.id]?((0,d.wg)(),(0,d.iD)("a",{key:0,href:e.contributed[e.i.id],target:"_blank",class:"contributed",rel:"noopener nofollow"},[(0,d.Wm)(s,{icon:"arrow-up-right-from-square"}),xe],8,Me)):(0,d.kq)("",!0),(0,d.Uk)(" "+(0,v.zw)(e.amos[e.i.desc]),1)])]),e.fin?((0,d.wg)(),(0,d.iD)("div",Ee,[(0,d._)("div",Oe,[(0,d._)("input",{value:e.fin.status,type:"text",onInput:t[2]||(t[2]=t=>e.$emit("input-status",null===t||void 0===t?void 0:t.target.value))},null,40,We)]),(0,d._)("div",Fe,[(0,d._)("input",{value:e.fin.date,type:"text",onInput:t[3]||(t[3]=t=>e.$emit("input-date",null===t||void 0===t?void 0:t.target.value))},null,40,Le)])])):(0,d.kq)("",!0)],2)],2)}ne.vI.add(te.wlW);var He=(0,d.aZ)({props:{i:{type:Object,required:!0},fin:{type:Object,required:!1},preFin:{type:Object,required:!1},contributed:{type:Object,required:!0}},emits:["input-date","input-status","check","click-title"],setup(e){const t={WQ:"任务",IQ:"委托"};return{amos:(0,G.Vh)(oe.i18n,"amos"),questType:(0,d.Fl)((()=>!!(e.i.trigger&&e.i.trigger.task&&e.i.trigger.task.length>0)&&(!!t[e.i.trigger.task[0].type]&&[t[e.i.trigger.task[0].type],e.i.trigger.task[0].type])))}}}),Te={achievementItem:"achievement-item-e576d9"},Ve=n(48998);const ze={};ze["$style"]=Te;const Ne=(0,Ve.Z)(He,[["render",Ae],["__cssModules",ze]]);var Ye=Ne,je=(n(24611),n(17336));const Be={class:"sidebar-in"},qe=(0,d._)("img",{src:f,alt:"原石"},null,-1),Re={key:0,class:"lr"};function Ue(e,t,n,a,o,i){const s=(0,d.up)("router-link"),l=je.Mr,r=(0,d.up)("fa-icon");return(0,d.wg)(),(0,d.iD)("div",{class:(0,v.C_)(e.$style.sidebar)},[(0,d.Wm)(l,{ref:"scrollbarRef",class:"sidebar-scroll"},{default:(0,d.w5)((()=>[(0,d._)("div",Be,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(e.achievementCat,(t=>((0,d.wg)(),(0,d.j4)(s,{key:t.key,to:{...e.$route,params:{cat:"wonders_of_the_world"===t.key?"":t.key}},"active-class":"wonders_of_the_world"===t.key?"":"router-link-active","exact-active-class":"wonders_of_the_world"===t.key?"router-link-active":""},{default:(0,d.w5)((()=>{var n,a,o;return[(0,d._)("div",null,(0,v.zw)(e.amos[t.name]),1),(0,d._)("small",null,[(0,d._)("b",null,[qe,(0,d.Uk)(" "+(0,v.zw)((null===(n=e.achievementFinStat[t.id||0])||void 0===n?void 0:n.reward)||0)+"/"+(0,v.zw)(t.totalReward),1)]),(0,d._)("span",null,(0,v.zw)((null===(a=e.achievementFinStat[t.id||0])||void 0===a?void 0:a.count)||0)+"/"+(0,v.zw)(t.achievements.length)+" ("+(0,v.zw)(Math.round(((null===(o=e.achievementFinStat[t.id||0])||void 0===o?void 0:o.count)||0)/t.achievements.length*100))+"%) ",1)])]})),_:2},1032,["to","active-class","exact-active-class"])))),128))])])),_:1},512),e.isMobile?((0,d.wg)(),(0,d.iD)("div",Re,[(0,d._)("div",{class:"l",onClick:t[0]||(t[0]=t=>e.move(-1))},[(0,d.Wm)(r,{icon:"angle-left"})]),(0,d._)("div",{class:"r",onClick:t[1]||(t[1]=t=>e.move(1))},[(0,d.Wm)(r,{icon:"angle-right"})])])):(0,d.kq)("",!0)],2)}var Ze=n(88952);ne.vI.add(te.EyR,te.yOZ);var Pe=(0,d.aZ)({props:["achievementCat","achievementFinStat"],setup(){const e=(0,G.iH)(null),t=t=>{if(!e.value)return;const n=50,a=n*t,o=e.value.wrap$;if(!o)return;const i=o.scrollLeft+a;e.value.setScrollLeft(Math.max(0,i))};return{move:t,scrollbarRef:e,isMobile:(0,G.Vh)((0,Ze.Z)(),"isMobile"),amos:(0,G.Vh)(oe.i18n,"amos")}}}),Je={sidebar:"sidebar-d52961"};const Qe={};Qe["$style"]=Je;const Ke=(0,Ve.Z)(Pe,[["render",Ue],["__cssModules",Qe]]);var Xe=Ke;const Ge={class:"trigger-type"},et=(0,d._)("b",null,"触发方式：",-1),tt={key:0,class:"task-type"},nt={class:"name"};function at(e,t,n,a,o,s){const l=i.d0;return(0,d.wg)(),(0,d.j4)(l,{title:e.achievement?e.amos[e.achievement.name]:"","model-value":!!e.achievement,"z-index":111,width:500,"custom-class":e.$style.detailDialog,onClose:t[0]||(t[0]=t=>e.$emit("close"))},{default:(0,d.w5)((()=>{var t,n,a;return[(0,d._)("div",{class:(0,v.C_)(e.$style.trigger)},[(0,d._)("div",Ge,[et,(0,d._)("span",null,(0,v.zw)(e.triggerText[(null===(t=e.achievement)||void 0===t?void 0:t.trigger.type)||"未知"]||(null===(n=e.achievement)||void 0===n?void 0:n.trigger.type)||"未知"),1)]),null!==(a=e.achievement)&&void 0!==a&&a.trigger.task?((0,d.wg)(),(0,d.iD)("ul",tt,[((0,d.wg)(!0),(0,d.iD)(d.HY,null,(0,d.Ko)(e.achievement.trigger.task,(t=>((0,d.wg)(),(0,d.iD)("li",{key:t.questId},[(0,d._)("span",{class:(0,v.C_)(["badge",t.type])},(0,v.zw)(e.taskType[t.type]||t.type||"主线任务"),3),(0,d._)("span",nt,(0,v.zw)(e.amos[t.name]),1)])))),128))])):(0,d.kq)("",!0)],2)]})),_:1},8,["title","model-value","custom-class"])}var ot=(0,d.aZ)({props:{achievement:{type:Object,required:!1}},emits:["close"],setup(){const e={FINISH_QUEST_OR:"完成以下任务之一",FINISH_QUEST_AND:"完成以下所有任务",DAILY_TASK_VAR_EQUAL:"每日委托触发特定对话"},t={WQ:"世界任务",IQ:"每日委托"};return{triggerText:e,taskType:t,amos:(0,G.Vh)(oe.i18n,"amos")}}}),it={detailDialog:"detail-dialog-bf4d69",trigger:"trigger-a3ea1b"};const st={};st["$style"]=it;const lt=(0,Ve.Z)(ot,[["render",at],["__cssModules",st]]);var rt=lt;function ct(e,t,n,a,o,i){const l=s.EZ,r=c.mi;return(0,d.wg)(),(0,d.iD)("div",null,[(0,d.Wm)(l,{modelValue:e.content,"onUpdate:modelValue":t[0]||(t[0]=t=>e.content=t),type:"textarea",class:(0,v.C_)(e.$style.textarea),placeholder:"支持的导入项目：\r - 椰羊JSON\r - Paimon.moe JSON\r - 在F12页面执行的JS代码(椰羊、Paimon.moe、Seelie.me)"},null,8,["modelValue","class"]),(0,d.Wm)(r,{class:(0,v.C_)(e.$style.importButton),size:"large",type:"primary",disabled:!e.allowed,onClick:e.doImport},{default:(0,d.w5)((()=>[(0,d.Uk)((0,v.zw)(e.importText),1)])),_:1},8,["class","disabled","onClick"])])}var ut=n(1070);n(48675),n(3462);const dt=(e,t,n)=>`<!doctype html>\n<html>\n<body>\n<script>\ndelete window.fetch;\ndelete window.XMLHttpRequest;\nconst origin = "${e}";\nconst senderId = "${t}";\nconst receiverId = "${n}";\nconst handleMessage = async (event) => {\n  if (event.source !== window.parent) {\n    return;\n  }\n  if (event.origin !== origin) {\n    return;\n  }\n  const { id, src, scope } = event.data || {};\n  if (id !== receiverId) {\n    return;\n  }\n  try {\n    const AsyncFunction = Object.getPrototypeOf(async function(){}).constructor;\n    const fun = new AsyncFunction(...Object.keys(scope), src);\n    const result = await fun(...Object.values(scope));\n    window.parent.postMessage({ id: senderId, result }, origin);\n  } catch (error) {\n    window.parent.postMessage({ id: senderId, error }, origin);\n  }\n  window.removeEventListener("message", handleMessage);\n};\nwindow.addEventListener("message", handleMessage);\nwindow.parent.postMessage({ id: senderId, ready: true }, origin);\n<\/script>\n</body>\n</html>`;function vt(){return Array.from(crypto.getRandomValues(new Uint32Array(4))).map((e=>e.toString(36))).join("")}function mt(e,t={}){const n=document.createElement("iframe");n.setAttribute("sandbox","allow-scripts"),n.setAttribute("style","display: none;");const a=vt(),o=vt();return new Promise(((i,s)=>{const l=r=>{var c;if(r.source!==n.contentWindow)return;const{id:u,result:d,error:v,ready:m}=null!==(c=r.data)&&void 0!==c?c:{};u===a&&(m&&n.contentWindow?n.contentWindow.postMessage({id:o,src:e,scope:t},"*"):(v?s(v):i(d),window.removeEventListener("message",l),document.body.removeChild(n)))};window.addEventListener("message",l),n.srcdoc=dt(window.location.origin,a,o),document.body.appendChild(n)}))}function ft(e){return Array.isArray(e.achievements)&&e.achievements.length>0&&!isNaN(e.achievements[0].id)&&"string"===typeof e.achievements[0].status&&!isNaN(e.achievements[0].categoryId)&&"string"===typeof e.achievements[0].date}function pt(e){let t=e;if(Array.isArray(e.achievement)&&e.achievement.length>0&&e.achievement.find((e=>null!==e))&&(t={achievement:{}},e.achievement.forEach(((e,n)=>{null!==e&&(t.achievement[n]=e)}))),"object"===typeof t.achievement&&Object.keys(t.achievement).length>0){const e=t.achievement[Object.keys(t.achievement)[0]],n=e[Object.keys(e)[0]];if("boolean"===typeof n)return ht(t)}return!1}function ht(e){const t=[];return Object.keys(e.achievement).forEach((n=>{const a=e.achievement[n];Object.keys(a).forEach((e=>{t.push({id:Number(e),status:"导入",categoryId:Number(n),date:le()().format("YYYY/MM/DD"),images:{}})}))})),t}function gt(e,t,n,a,o){const i=async()=>{if(!e.value.trim()||!e.value.includes("[")&&!e.value.includes("{"))return n.value="未识别到可导入的内容",void(t.value=!1);try{const i=JSON.parse(e.value);i.achievements&&ft(i)?(n.value="导入椰羊成就 ("+i.achievements.length+"个)",t.value=!0,o.value="cocogoat",a.value=i.achievements):i.value&&i.value.achievements&&ft(i.value)?(n.value="导入椰羊备份 ("+i.value.achievements.length+"个)",t.value=!0,o.value="cocogoat",a.value=i.value.achievements):i.achievement&&(a.value=pt(i))?(n.value="导入Paimon.moe备份 ("+a.value.length+"个)",t.value=!0,o.value="cocogoat"):(n.value="未识别到可导入的内容",t.value=!1)}catch(i){console.log(i);const s=`\n            class mockedLocalStorage {\n                getItem(itemName) {\n                    return Reflect.get(this, itemName);\n                }\n                setItem(itemName, itemValue) {\n                    Reflect.set(this, itemName, itemValue);\n                }\n                removeItem(itemName) {\n                    Reflect.deleteProperty(this, itemName);\n                }\n                clear() {\n                    for (const key in this) {\n                        if (Object.prototype.hasOwnProperty.call(this, key)) {\n                            if (['getItem', 'setItem', 'removeItem', 'clear'].includes(key)) return;\n                            Reflect.deleteProperty(this, key);\n                        }\n                    }\n                }\n            }\n            const f = new mockedLocalStorage()\n            const scope = {\n                localStorage: f,\n                localforage: f,\n                document: null,\n                XMLHttpRequest: null,\n                fetch: null,\n                navigator: null,\n                window: null,\n                import: null,\n                alert: null,\n                confirm: null,\n                prompt: null\n            };\n            scope.window = scope;\n            scope.top = scope;\n            scope.self = scope;\n            scope.parent = scope;\n            with(scope) {\n                ${e.value}\n            }\n            return JSON.parse(JSON.stringify(scope.localStorage));\n            `;try{if(e.value.includes("while(")||e.value.includes("while ("))throw new Error("Maybe Evil");const i=await mt(s);if("string"===typeof i["cocogoat.v1.currentUser"]){const e=JSON.parse(i["cocogoat.v1.currentUser"]),s=i["cocogoat.v1."+e];if(s&&ft(s))return n.value="导入椰羊代码 ("+s.achievements.length+"个)",t.value=!0,o.value="cocogoat",void(a.value=s.achievements);throw new Error}if("object"===typeof i.achievement)return a.value=ht(i),n.value="导入Paimon.moe代码 ("+a.value.length+"个)",t.value=!0,void(o.value="cocogoat");if("string"===typeof i.account||"string"===typeof i["main-achievements"]){const e=i.account||"main",s=JSON.parse(i[`${e}-achievements`]),l=[];return Object.keys(s).forEach((e=>{const t=s[e];l.push({id:Number(e),status:t.notes.trim().split(" ")[0],categoryId:-1,date:(t.notes.trim()+" ").split(" ")[1].trim(),images:{}})})),n.value="导入SeeLie.me代码 ("+l.length+"个)",t.value=!0,o.value="no-categoryId",void(a.value=l)}throw console.log(i),new Error("Nothing found in sandbox")}catch(i){n.value="未识别到可导入的内容",t.value=!1,console.log(i)}}},s=()=>{if("no-categoryId"===o.value){const e={};ee.Z.forEach((t=>{t.achievements.forEach((n=>{e[n.id]=t.id}))}));const t=a.value;for(const n of t)n.id&&(ie.h.value.achievements.find((e=>e.id===n.id))||(-1===n.categoryId&&(n.categoryId=e[n.id]),ie.h.value.achievements.push(n)))}if("cocogoat"===o.value){const e=a.value;for(const t of e)t.id&&(ie.h.value.achievements.find((e=>e.id===t.id))||ie.h.value.achievements.push(t))}};return{checkContent:i,importToStore:s}}var yt=(0,d.aZ)({emits:["close"],setup(e,{emit:t}){const n=(0,G.iH)(""),a=(0,G.iH)(!1),o=(0,G.iH)("未识别到可导入的内容"),i=(0,G.iH)(null),s=(0,G.iH)(""),{checkContent:l,importToStore:r}=gt(n,a,o,i,s),c=(0,ut.debounce)(l,200);(0,d.YP)(n,c);const u=async()=>{a.value&&(r(),t("close"))};return{content:n,allowed:a,importText:o,doImport:u}}}),wt={textarea:"textarea-bef55a",importButton:"import-button-f450d6"};const bt={};bt["$style"]=wt;const Ct=(0,Ve.Z)(yt,[["render",ct],["__cssModules",bt]]);var kt=Ct;ne.vI.add(te.KS0,te.A$k,te.LEp,te.Vui,te.S6C,te.wn1);const _t={81006:85e3,81007:85001,81008:85002,81009:85003,81011:85004,81012:85005,81013:85006};var St=(0,d.aZ)({name:"ArtifactIndex",components:{IconCocogoat:ae.Z,AchievementItem:Ye,AchievementSidebar:Xe,AchievementDetail:rt,ImportDialog:kt,DynamicScroller:ce.cV,DynamicScrollerItem:ce.Wk},setup(){const e=(0,G.iH)([]),t=(0,G.iH)(!1),n=(0,G.iH)(""),a=(0,X.tv)(),o=a.resolve({name:"frames.achievement.scan"}).href,i=(0,G.iH)({}),s=(0,G.iH)({}),l=(0,G.iH)(!0),r=(0,G.iH)(0),c=(0,G.iH)({count:0,reward:0}),u=(0,d.Fl)((()=>{const e=ee.Z.concat([]).sort(((e,t)=>e.order-t.order));return e})),v=(0,d.Fl)((()=>u.value.reduce(((e,t)=>e+t.totalReward),0))),m=()=>{const e={},t={};let n={count:0,reward:0};ie.h.value.achievements.forEach((a=>{if(a.categoryId=a.categoryId||0,_t[a.id]&&(console.log("Converted",a.id,"to",_t[a.id]),a.id=_t[a.id]),a.id){var o,i;t[a.id]=a,e[a.categoryId]=e[a.categoryId]||{count:0,reward:0};const s=(null===(o=u.value.find((e=>e.id===a.categoryId)))||void 0===o||null===(i=o.achievements.find((e=>e.id===a.id)))||void 0===i?void 0:i.reward)||0;e[a.categoryId].count++,e[a.categoryId].reward+=s,n.count++,n.reward+=s}})),s.value=e,i.value=t,r.value=r.value||ee.Z.reduce(((e,t)=>e+t.achievements.length),0),c.value=n};(0,d.YP)(ie.h,m,{deep:!0,immediate:!0});const f=(0,X.yj)(),p=(0,d.Fl)((()=>f.params.cat||"wonders_of_the_world")),h=(0,d.Fl)((()=>{const e=u.value.find((e=>e.key===p.value))||u.value[0],t={};return e.achievements.forEach((e=>{e.trigger.task&&e.trigger.task.length>0&&(t[e.id]=e.trigger.task[0].type)})),{...e,quest:t}})),g=(0,G.iH)(""),y=(0,d.Fl)((()=>{let e=h.value.achievements.concat([]);if(g.value){let t=g.value;"MQ"===t&&(t=""),e=e.filter((e=>h.value.quest[e.id]===t))}return l.value&&(e=e.sort(((e,t)=>{let n=0,a=i.value[e.id],o=i.value[t.id];if(e.postStage){let t=e;while(t.postStage){const e=h.value.achievements.find((e=>e.id===t.postStage));t=e||t}a=i.value[t.id]}if(t.postStage){let e=t;while(e.postStage){const t=h.value.achievements.find((t=>t.id===e.postStage));e=t||e}o=i.value[e.id]}return e.preStage===t.id||a&&!o?1:!a&&o?-1:n}))),n.value.trim()&&(e=e.filter((e=>{const t=oe.i18n.amos[e.name].toLowerCase().includes(n.value.toLowerCase());let a=!1,o=e;while(o.preStage){const e=h.value.achievements.find((e=>e.id===o.preStage));if(o=e||o,oe.i18n.amos[o.name].toLowerCase().includes(n.value.toLowerCase())){a=!0;break}}let i=!1;o=e;while(o.postStage){const e=h.value.achievements.find((e=>e.id===o.postStage));if(o=e||o,oe.i18n.amos[o.name].toLowerCase().includes(n.value.toLowerCase())){i=!0;break}}return t||a||i}))),e})),w=e=>{if(i.value[e]){const t=[e];let n;while((n=y.value.find((e=>e.id===t[0])))&&n.postStage)t.unshift(n.postStage);return void(ie.h.value.achievements=ie.h.value.achievements.filter((e=>!t.includes(e.id))))}const t={id:e,status:"手动勾选",categoryId:h.value.id,date:le()().format("YYYY/MM/DD")};ie.h.value.achievements.push(t)},b=(0,G.iH)(!1),C=async e=>{ie.h.value.achievements=e?[]:ie.h.value.achievements.filter((e=>e.categoryId!==h.value.id)),b.value=!1},k=e=>{e.achievements.forEach((t=>{if(!i.value[t.id]){const n={id:t.id,status:"全选添加",categoryId:e.id,date:le()().format("YYYY/MM/DD")};ie.h.value.achievements.push(n)}}))},_=(0,G.iH)(null),S=(0,G.iH)({show:!1,faildImages:[]});he({scannerFrame:_,results:S,achievementFin:i,showScanner:t});const $=(0,G.iH)(!1);(0,d.bv)((()=>{const e=(0,ut.uniqBy)(ie.h.value.achievements,(e=>e.id));e.length!==ie.h.value.achievements.length&&(console.log("deduped from "+ie.h.value.achievements.length+" to "+e.length),ie.h.value.achievements=e)}));const I=Ce(),D=(0,G.iH)(void 0);return{store:ie.h,search:n,showScanner:t,selectedIds:e,frameSrc:o,achievementCat:u,currentCatId:p,currentCat:h,achievementFin:i,achievementFinStat:s,currentAch:y,updateFinished:w,doClear:C,showClear:b,selectCat:k,scannerFrame:_,scannerResult:S,CustomElScrollVue:re.Z,...ge(),showImport:$,sortByStatus:l,totalCount:r,totalFin:c,totalReward:v,contributed:I,isMobile:(0,G.Vh)((0,Ze.Z)(),"isMobile"),detail:D,statusQuest:g}}}),$t={totalPercent:"total-percent-bdff3e",importDialog:"import-dialog-d06931",exportDialog:"export-dialog-cb31f3",scannerResultDialog:"scanner-result-dialog-a3e504",achievementView:"achievement-view-d77ddb",scannerArea:"scanner-area-b10a94"};const It={};It["$style"]=$t;const Dt=(0,Ve.Z)(St,[["render",K],["__cssModules",It]]);var Mt=Dt},24701:function(e,t,n){"use strict";e.exports=n.p+"img/yuanshi.469d3f0f.png"},32770:function(e,t,n){"use strict";n.d(t,{d0:function(){return k}});var a=n(19812),o=n(20521),i=n(44220),s=n(55893),l=n(53376),r=n(83192),c=n(64688),u=n(22020),d=n(65126),v=n(42165),m=n(44417),f=n(39788),p=n(54466),h=n(60535);const g=(0,a.aZ)({name:"ElDialog",components:{ElOverlay:l.F6,ElIcon:r.gn,...v.NK},directives:{TrapFocus:m.ZP},props:c.B,emits:c.A,setup(e,t){const n=(0,f.s)("dialog"),i=(0,o.iH)(),s=(0,o.iH)(),l=(0,u.R)(e,t,i),r=(0,p.S)(l.onModalClick),c=(0,a.Fl)((()=>e.draggable&&!e.fullscreen));return(0,h.O)(i,s,c),{ns:n,dialogRef:i,headerRef:s,overlayEvent:r,...l}}}),y=["aria-label"];function w(e,t,n,o,l,r){const c=(0,a.up)("el-icon"),u=(0,a.up)("el-overlay"),d=(0,a.Q2)("trap-focus");return(0,a.wg)(),(0,a.j4)(a.lR,{to:"body",disabled:!e.appendToBody},[(0,a.Wm)(i.uT,{name:"dialog-fade",onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)(u,{"custom-mask-event":"",mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex},{default:(0,a.w5)((()=>[(0,a._)("div",{class:(0,s.C_)(`${e.ns.namespace.value}-overlay-dialog`),onClick:t[2]||(t[2]=(...t)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...t)),onMousedown:t[3]||(t[3]=(...t)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...t)),onMouseup:t[4]||(t[4]=(...t)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...t))},[(0,a.wy)(((0,a.wg)(),(0,a.iD)("div",{ref:"dialogRef",class:(0,s.C_)([e.ns.b(),e.ns.is("fullscreen",e.fullscreen),e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center},e.customClass]),"aria-modal":"true",role:"dialog","aria-label":e.title||"dialog",style:(0,s.j5)(e.style),onClick:t[1]||(t[1]=(0,i.iM)((()=>{}),["stop"]))},[(0,a._)("div",{ref:"headerRef",class:(0,s.C_)(e.ns.e("header"))},[(0,a.WI)(e.$slots,"title",{},(()=>[(0,a._)("span",{class:(0,s.C_)(e.ns.e("title"))},(0,s.zw)(e.title),3)])),e.showClose?((0,a.wg)(),(0,a.iD)("button",{key:0,"aria-label":"close",class:(0,s.C_)(e.ns.e("headerbtn")),type:"button",onClick:t[0]||(t[0]=(...t)=>e.handleClose&&e.handleClose(...t))},[(0,a.Wm)(c,{class:(0,s.C_)(e.ns.e("close"))},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)((0,a.LL)(e.closeIcon||"close")))])),_:1},8,["class"])],2)):(0,a.kq)("v-if",!0)],2),e.rendered?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,s.C_)(e.ns.e("body"))},[(0,a.WI)(e.$slots,"default")],2)):(0,a.kq)("v-if",!0),e.$slots.footer?((0,a.wg)(),(0,a.iD)("div",{key:1,class:(0,s.C_)(e.ns.e("footer"))},[(0,a.WI)(e.$slots,"footer")],2)):(0,a.kq)("v-if",!0)],14,y)),[[d]])],34)])),_:3},8,["mask","overlay-class","z-index"]),[[i.F8,e.visible]])])),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var b=(0,d.Z)(g,[["render",w]]),C=n(80245);const k=(0,C.nz)(b)},64688:function(e,t,n){"use strict";n.d(t,{A:function(){return l},B:function(){return s}});var a=n(3087),o=n(42165),i=n(15203);const s=(0,a.o8)({appendToBody:{type:Boolean,default:!1},beforeClose:{type:(0,a.Cq)(Function)},destroyOnClose:{type:Boolean,default:!1},center:{type:Boolean,default:!1},customClass:{type:String,default:""},closeIcon:{type:o.AA,default:""},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},fullscreen:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},title:{type:String,default:""},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:{type:Boolean,required:!0},modalClass:String,width:{type:[String,Number]},zIndex:{type:Number}}),l={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[i.f_]:e=>"boolean"===typeof e}},22020:function(e,t,n){"use strict";n.d(t,{R:function(){return d}});var a=n(20521),o=n(19812),i=n(67040),s=n(67505),l=n(15203),r=n(83868),c=n(46203),u=n(50642);const d=(e,{emit:t},n)=>{let d="";const v=(0,a.iH)(!1),m=(0,a.iH)(!1),f=(0,a.iH)(!1),{nextZIndex:p}=(0,s.C)(),h=(0,a.iH)(e.zIndex||p());let g,y;const w=(0,o.Fl)((()=>(0,i.hj)(e.width)?`${e.width}px`:e.width)),b=(0,o.Fl)((()=>{const t={},n="--el-dialog";return e.fullscreen||(e.top&&(t[`${n}-margin-top`]=e.top),e.width&&(t[`${n}-width`]=w.value)),t}));function C(){t("opened")}function k(){t("closed"),t(l.f_,!1),e.destroyOnClose&&(f.value=!1)}function _(){t("close")}function S(){null==y||y(),null==g||g(),e.openDelay&&e.openDelay>0?({stop:g}=(0,i.eM)((()=>x()),e.openDelay)):x()}function $(){null==g||g(),null==y||y(),e.closeDelay&&e.closeDelay>0?({stop:y}=(0,i.eM)((()=>E()),e.closeDelay)):E()}function I(e){e||(m.value=!0,v.value=!1)}function D(){e.beforeClose?e.beforeClose(I):$()}function M(){e.closeOnClickModal&&D()}function x(){i.C5&&(v.value=!0)}function E(){v.value=!1}return e.lockScroll&&(0,r.W)(v),e.closeOnPressEscape&&(0,c.d)({handleClose:D},v),(0,u.J)(v),(0,o.YP)((()=>e.modelValue),(a=>{a?(m.value=!1,S(),f.value=!0,t("open"),h.value=e.zIndex?h.value++:p(),(0,o.Y3)((()=>{n.value&&(n.value.scrollTop=0)}))):v.value&&$()})),(0,o.YP)((()=>e.fullscreen),(e=>{n.value&&(e?(d=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=d)})),(0,o.bv)((()=>{e.modelValue&&(v.value=!0,f.value=!0,S())})),{afterEnter:C,afterLeave:k,beforeLeave:_,handleClose:D,onModalClick:M,close:$,doClose:E,closed:m,style:b,rendered:f,visible:v,zIndex:h}}},25597:function(e,t,n){"use strict";n(13910),n(27426)},59084:function(e,t,n){"use strict";n.d(t,{os:function(){return m}});var a=n(19812),o=n(55893),i=n(3087);const s=(0,i.o8)({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:(0,i.Cq)(String),default:"solid"}});var l=n(65126),r=n(39788);const c=(0,a.aZ)({name:"ElDivider",props:s,setup(e){const t=(0,r.s)("divider"),n=(0,a.Fl)((()=>({"--el-border-style":e.borderStyle})));return{ns:t,dividerStyle:n}}});function u(e,t,n,i,s,l){return(0,a.wg)(),(0,a.iD)("div",{class:(0,o.C_)([e.ns.b(),e.ns.m(e.direction)]),style:(0,o.j5)(e.dividerStyle)},[e.$slots.default&&"vertical"!==e.direction?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,o.C_)([e.ns.e("text"),e.ns.is(e.contentPosition)])},[(0,a.WI)(e.$slots,"default")],2)):(0,a.kq)("v-if",!0)],6)}var d=(0,l.Z)(c,[["render",u]]),v=n(80245);const m=(0,v.nz)(d)},28228:function(e,t,n){"use strict";n(13910)},62619:function(e,t,n){"use strict";n.d(t,{E2:function(){return g}});var a=n(19812),o=n(55893),i=n(83192),s=n(3087),l=n(42165);const r=(0,s.o8)({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},icon:{type:l.AA,default:""}}),c={click:e=>e instanceof MouseEvent};var u=n(65126),d=n(39788);const v=(0,a.aZ)({name:"ElLink",components:{ElIcon:i.gn},props:r,emits:c,setup(e,{emit:t}){const n=(0,d.s)("link");function a(n){e.disabled||t("click",n)}return{ns:n,handleClick:a}}}),m=["href"];function f(e,t,n,i,s,l){const r=(0,a.up)("el-icon");return(0,a.wg)(),(0,a.iD)("a",{class:(0,o.C_)([e.ns.b(),e.type?e.ns.m(e.type):"",e.ns.is("disabled",e.disabled),e.ns.is("underline",e.underline&&!e.disabled)]),href:e.disabled||!e.href?void 0:e.href,onClick:t[0]||(t[0]=(...t)=>e.handleClick&&e.handleClick(...t))},[e.icon?((0,a.wg)(),(0,a.j4)(r,{key:0},{default:(0,a.w5)((()=>[((0,a.wg)(),(0,a.j4)((0,a.LL)(e.icon)))])),_:1})):(0,a.kq)("v-if",!0),e.$slots.default?((0,a.wg)(),(0,a.iD)("span",{key:1,class:(0,o.C_)(e.ns.m("inner"))},[(0,a.WI)(e.$slots,"default")],2)):(0,a.kq)("v-if",!0),e.$slots.icon?(0,a.WI)(e.$slots,"icon",{key:2}):(0,a.kq)("v-if",!0)],10,m)}var p=(0,u.Z)(v,[["render",f]]),h=n(80245);const g=(0,h.nz)(p)},89765:function(e,t,n){"use strict";n(13910)},53389:function(e,t,n){"use strict";n.d(t,{t:function(){return c}});var a=n(20521),o=n(55893),i=n(16165);const s=Symbol("ElLoading"),l=(e,t)=>{var n,l,r,c;const u=t.instance,d=e=>(0,o.Kn)(t.value)?t.value[e]:void 0,v=e=>{const t=(0,o.HD)(e)&&(null==u?void 0:u[e])||e;return t?(0,a.iH)(t):t},m=t=>v(d(t)||e.getAttribute(`element-loading-${(0,o.rs)(t)}`)),f=null!=(n=d("fullscreen"))?n:t.modifiers.fullscreen,p={text:m("text"),svg:m("svg"),svgViewBox:m("svgViewBox"),spinner:m("spinner"),background:m("background"),customClass:m("customClass"),fullscreen:f,target:null!=(l=d("target"))?l:f?void 0:e,body:null!=(r=d("body"))?r:t.modifiers.body,lock:null!=(c=d("lock"))?c:t.modifiers.lock};e[s]={options:p,instance:(0,i.g)(p)}},r=(e,t)=>{for(const n of Object.keys(t))(0,a.dq)(t[n])&&(t[n].value=e[n])},c={mounted(e,t){t.value&&l(e,t)},updated(e,t){const n=e[s];t.oldValue!==t.value&&(t.value&&!t.oldValue?l(e,t):t.value&&t.oldValue?(0,o.Kn)(t.value)&&r(t.value,n.options):null==n||n.instance.close())},unmounted(e){var t;null==(t=e[s])||t.instance.close()}}},16165:function(e,t,n){"use strict";n.d(t,{g:function(){return v}});var a=n(19812),o=n(55893),i=n(67040),s=n(20521),l=n(44220),r=n(58817);function c(e){let t;const n=(0,s.iH)(!1),o=(0,s.qj)({...e,originalPosition:"",originalOverflow:"",visible:!1});function i(e){o.text=e}function c(){const e=o.parent;if(!e.vLoadingAddClassList){let t=e.getAttribute("loading-number");t=Number.parseInt(t)-1,t?e.setAttribute("loading-number",t.toString()):((0,r.IV)(e,"el-loading-parent--relative"),e.removeAttribute("loading-number")),(0,r.IV)(e,"el-loading-parent--hidden")}u()}function u(){var e,t;null==(t=null==(e=f.$el)?void 0:e.parentNode)||t.removeChild(f.$el)}function d(){var a;if(e.beforeClose&&!e.beforeClose())return;const i=o.parent;i.vLoadingAddClassList=void 0,n.value=!0,clearTimeout(t),t=window.setTimeout((()=>{n.value&&(n.value=!1,c())}),400),o.visible=!1,null==(a=e.closed)||a.call(e)}function v(){n.value&&(n.value=!1,c())}const m={name:"ElLoading",setup(){return()=>{const e=o.spinner||o.svg,t=(0,a.h)("svg",{class:"circular",viewBox:o.svgViewBox?o.svgViewBox:"25 25 50 50",...e?{innerHTML:e}:{}},[(0,a.h)("circle",{class:"path",cx:"50",cy:"50",r:"20",fill:"none"})]),n=o.text?(0,a.h)("p",{class:"el-loading-text"},[o.text]):void 0;return(0,a.h)(l.uT,{name:"el-loading-fade",onAfterLeave:v},{default:(0,a.w5)((()=>[(0,a.wy)((0,a.Wm)("div",{style:{backgroundColor:o.background||""},class:["el-loading-mask",o.customClass,o.fullscreen?"is-fullscreen":""]},[(0,a.h)("div",{class:"el-loading-spinner"},[t,n])]),[[l.F8,o.visible]])]))})}}},f=(0,l.ri)(m).mount(document.createElement("div"));return{...(0,s.BK)(o),setText:i,remvoeElLoadingChild:u,close:d,handleAfterLeave:v,vm:f,get $el(){return f.$el}}}var u=n(67505);let d;const v=function(e={}){if(!i.C5)return;const t=m(e);t.fullscreen&&d&&(d.remvoeElLoadingChild(),d.close());const n=c({...t,closed:()=>{var e;null==(e=t.closed)||e.call(t),t.fullscreen&&(d=void 0)}});f(t,t.parent,n),p(t,t.parent,n),t.parent.vLoadingAddClassList=()=>p(t,t.parent,n);let o=t.parent.getAttribute("loading-number");return o=o?`${Number.parseInt(o)+1}`:"1",t.parent.setAttribute("loading-number",o),t.parent.appendChild(n.$el),(0,a.Y3)((()=>n.visible.value=t.visible)),t.fullscreen&&(d=n),n},m=e=>{var t,n,a,i;let s;return s=(0,o.HD)(e.target)?null!=(t=document.querySelector(e.target))?t:document.body:e.target||document.body,{parent:s===document.body||e.body?document.body:s,background:e.background||"",svg:e.svg||"",svgViewBox:e.svgViewBox||"",spinner:e.spinner||!1,text:e.text||"",fullscreen:s===document.body&&(null==(n=e.fullscreen)||n),lock:null!=(a=e.lock)&&a,customClass:e.customClass||"",visible:null==(i=e.visible)||i,target:s}},f=async(e,t,n)=>{const{nextZIndex:o}=(0,u.C)(),i={};if(e.fullscreen)n.originalPosition.value=(0,r.C2)(document.body,"position"),n.originalOverflow.value=(0,r.C2)(document.body,"overflow"),i.zIndex=o();else if(e.parent===document.body){n.originalPosition.value=(0,r.C2)(document.body,"position"),await(0,a.Y3)();for(const t of["top","left"]){const n="top"===t?"scrollTop":"scrollLeft";i[t]=e.target.getBoundingClientRect()[t]+document.body[n]+document.documentElement[n]-parseInt((0,r.C2)(document.body,`margin-${t}`),10)+"px"}for(const t of["height","width"])i[t]=`${e.target.getBoundingClientRect()[t]}px`}else n.originalPosition.value=(0,r.C2)(t,"position");for(const[a,s]of Object.entries(i))n.$el.style[a]=s},p=(e,t,n)=>{"absolute"!==n.originalPosition.value&&"fixed"!==n.originalPosition.value?(0,r.cn)(t,"el-loading-parent--relative"):(0,r.IV)(t,"el-loading-parent--relative"),e.fullscreen&&e.lock?(0,r.cn)(t,"el-loading-parent--hidden"):(0,r.IV)(t,"el-loading-parent--hidden")}},27426:function(e,t,n){"use strict";n(13910),n(4985)},93776:function(e,t,n){"use strict";n.d(t,{$t:function(){return S}});var a=n(19812),o=n(20521),i=n(55893),s=n(69417),l=n(3087),r=n(76368),c=n(8529);const u=(0,l.o8)({trigger:r.ks.trigger,placement:c.O8.placement,disabled:r.ks.disabled,visible:r.sp.visible,transition:r.sp.transition,popperOptions:c.O8.popperOptions,tabindex:c.O8.tabindex,appendToBody:{type:Boolean,default:void 0},content:r.sp.content,popperStyle:r.sp.popperStyle,popperClass:r.sp.popperClass,enterable:{...r.sp.enterable,default:!0},effect:{...r.sp.effect,default:"light"},teleported:r.sp.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0}});var d=n(65126),v=n(39788),m=n(21926);const f=["update:visible","after-enter","after-leave"],p="ElPopover",h=(0,a.aZ)({name:p,components:{ElTooltip:s.Q0},props:u,emits:f,setup(e,{emit:t}){const n=(0,v.s)("popover"),s=(0,o.iH)(null),l=(0,a.Fl)((()=>{var e;return null==(e=(0,o.SU)(s))?void 0:e.popperRef})),r=(0,a.Fl)((()=>(0,i.HD)(e.width)?e.width:`${e.width}px`)),c=(0,a.Fl)((()=>[{width:r.value},e.popperStyle])),u=(0,a.Fl)((()=>[n.b(),e.popperClass,{[n.m("plain")]:!!e.content}])),{compatTeleported:d}=(0,m.Q)(p,"appendToBody"),f=()=>{var e;null==(e=s.value)||e.hide()},h=()=>{t("after-enter")},g=()=>{t("after-leave")};return{compatTeleported:d,ns:n,kls:u,style:c,tooltipRef:s,popperRef:l,hide:f,afterEnter:h,afterLeave:g}}});function g(e,t,n,o,s,l){const r=(0,a.up)("el-tooltip");return(0,a.wg)(),(0,a.j4)(r,(0,a.dG)({ref:"tooltipRef"},e.$attrs,{trigger:e.trigger,placement:e.placement,disabled:e.disabled,visible:e.visible,transition:e.transition,"popper-options":e.popperOptions,tabindex:e.tabindex,"append-to-body":e.appendToBody,content:e.content,offset:e.offset,"show-after":e.showAfter,"hide-after":e.hideAfter,"auto-close":e.autoClose,"show-arrow":e.showArrow,"aria-label":e.title,effect:e.effect,enterable:e.enterable,"popper-class":e.kls,"popper-style":e.style,teleported:e.compatTeleported,persistent:"",onShow:e.afterEnter,onHide:e.afterLeave}),{content:(0,a.w5)((()=>[e.title?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,i.C_)(e.ns.e("title")),role:"title"},(0,i.zw)(e.title),3)):(0,a.kq)("v-if",!0),(0,a.WI)(e.$slots,"default",{},(()=>[(0,a.Uk)((0,i.zw)(e.content),1)]))])),default:(0,a.w5)((()=>[e.$slots.reference?(0,a.WI)(e.$slots,"reference",{key:0}):(0,a.kq)("v-if",!0)])),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","append-to-body","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","onShow","onHide"])}var y=(0,d.Z)(h,[["render",g]]);const w=(e,t)=>{const n=t.arg||t.value,a=null==n?void 0:n.popperRef;a&&(a.triggerRef=e)};var b={mounted(e,t){w(e,t)},updated(e,t){w(e,t)}};const C="popover";y.install=e=>{e.component(y.name,y)},b.install=e=>{e.directive(C,b)};const k=b;y.directive=k;const _=y,S=_},83454:function(e,t,n){"use strict";n(13910),n(33950)}}]);