(self["define"]=self["define"]||[]).push([[553],{73796:function(n){function r(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}n.exports=r,n.exports.__esModule=!0,n.exports["default"]=n.exports},8557:function(n){function r(n){if(Array.isArray(n))return n}n.exports=r,n.exports.__esModule=!0,n.exports["default"]=n.exports},13294:function(n,r,e){var t=e(73796);function a(n){if(Array.isArray(n))return t(n)}n.exports=a,n.exports.__esModule=!0,n.exports["default"]=n.exports},65053:function(n,r,e){function t(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}e(21703),n.exports=t,n.exports.__esModule=!0,n.exports["default"]=n.exports},16125:function(n,r,e){function t(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}e(21703),n.exports=t,n.exports.__esModule=!0,n.exports["default"]=n.exports},30101:function(n,r,e){e(81299);var t=e(33917),a=e(56102);function o(r,e,i){return a()?(n.exports=o=Reflect.construct,n.exports.__esModule=!0,n.exports["default"]=n.exports):(n.exports=o=function(n,r,e){var a=[null];a.push.apply(a,r);var o=Function.bind.apply(n,a),i=new o;return e&&t(i,e.prototype),i},n.exports.__esModule=!0,n.exports["default"]=n.exports),o.apply(null,arguments)}n.exports=o,n.exports.__esModule=!0,n.exports["default"]=n.exports},39885:function(n){function r(n,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(n,t.key,t)}}function e(n,e,t){return e&&r(n.prototype,e),t&&r(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}n.exports=e,n.exports.__esModule=!0,n.exports["default"]=n.exports},10021:function(n){function r(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}n.exports=r,n.exports.__esModule=!0,n.exports["default"]=n.exports},46907:function(n){function r(e){return n.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},n.exports.__esModule=!0,n.exports["default"]=n.exports,r(e)}n.exports=r,n.exports.__esModule=!0,n.exports["default"]=n.exports},63490:function(n,r,e){e(21703);var t=e(33917);function a(n,r){if("function"!==typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),r&&t(n,r)}n.exports=a,n.exports.__esModule=!0,n.exports["default"]=n.exports},87654:function(n){function r(n){return n&&n.__esModule?n:{default:n}}n.exports=r,n.exports.__esModule=!0,n.exports["default"]=n.exports},22768:function(n,r,e){var t=e(51382)["default"];function a(n){if("function"!==typeof WeakMap)return null;var r=new WeakMap,e=new WeakMap;return(a=function(n){return n?e:r})(n)}function o(n,r){if(!r&&n&&n.__esModule)return n;if(null===n||"object"!==t(n)&&"function"!==typeof n)return{default:n};var e=a(r);if(e&&e.has(n))return e.get(n);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in n)if("default"!==s&&Object.prototype.hasOwnProperty.call(n,s)){var f=i?Object.getOwnPropertyDescriptor(n,s):null;f&&(f.get||f.set)?Object.defineProperty(o,s,f):o[s]=n[s]}return o["default"]=n,e&&e.set(n,o),o}n.exports=o,n.exports.__esModule=!0,n.exports["default"]=n.exports},12386:function(n){function r(n){return-1!==Function.toString.call(n).indexOf("[native code]")}n.exports=r,n.exports.__esModule=!0,n.exports["default"]=n.exports},56102:function(n,r,e){function t(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}e(81299),n.exports=t,n.exports.__esModule=!0,n.exports["default"]=n.exports},91838:function(n){function r(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}n.exports=r,n.exports.__esModule=!0,n.exports["default"]=n.exports},34324:function(n){function r(n,r){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,a,o=[],i=!0,s=!1;try{for(e=e.call(n);!(i=(t=e.next()).done);i=!0)if(o.push(t.value),r&&o.length===r)break}catch(f){s=!0,a=f}finally{try{i||null==e["return"]||e["return"]()}finally{if(s)throw a}}return o}}n.exports=r,n.exports.__esModule=!0,n.exports["default"]=n.exports},95526:function(n,r,e){function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e(21703),n.exports=t,n.exports.__esModule=!0,n.exports["default"]=n.exports},13725:function(n,r,e){function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e(21703),n.exports=t,n.exports.__esModule=!0,n.exports["default"]=n.exports},55156:function(n,r,e){e(21703);var t=e(51382)["default"],a=e(65053);function o(n,r){if(r&&("object"===t(r)||"function"===typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return a(n)}n.exports=o,n.exports.__esModule=!0,n.exports["default"]=n.exports},33917:function(n){function r(e,t){return n.exports=r=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},n.exports.__esModule=!0,n.exports["default"]=n.exports,r(e,t)}n.exports=r,n.exports.__esModule=!0,n.exports["default"]=n.exports},42989:function(n,r,e){var t=e(8557),a=e(34324),o=e(82355),i=e(95526);function s(n,r){return t(n)||a(n,r)||o(n,r)||i()}n.exports=s,n.exports.__esModule=!0,n.exports["default"]=n.exports},25069:function(n,r,e){var t=e(13294),a=e(91838),o=e(82355),i=e(13725);function s(n){return t(n)||a(n)||o(n)||i()}n.exports=s,n.exports.__esModule=!0,n.exports["default"]=n.exports},51382:function(n){function r(e){return n.exports=r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},n.exports.__esModule=!0,n.exports["default"]=n.exports,r(e)}n.exports=r,n.exports.__esModule=!0,n.exports["default"]=n.exports},82355:function(n,r,e){var t=e(73796);function a(n,r){if(n){if("string"===typeof n)return t(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?t(n,r):void 0}}n.exports=a,n.exports.__esModule=!0,n.exports["default"]=n.exports},25629:function(n,r,e){e(21703);var t=e(46907),a=e(33917),o=e(12386),i=e(30101);function s(r){var e="function"===typeof Map?new Map:void 0;return n.exports=s=function(n){if(null===n||!o(n))return n;if("function"!==typeof n)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof e){if(e.has(n))return e.get(n);e.set(n,r)}function r(){return i(n,arguments,t(this).constructor)}return r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),a(r,n)},n.exports.__esModule=!0,n.exports["default"]=n.exports,s(r)}n.exports=s,n.exports.__esModule=!0,n.exports["default"]=n.exports},9545:function(n,r,e){n.exports=e(59421)},10543:function(n,r,e){"use strict";var t=e(42396),a=e(88297),o=a(t("String.prototype.indexOf"));n.exports=function(n,r){var e=t(n,!!r);return"function"===typeof e&&o(n,".prototype.")>-1?a(e):e}},88297:function(n,r,e){"use strict";var t=e(97503),a=e(42396),o=a("%Function.prototype.apply%"),i=a("%Function.prototype.call%"),s=a("%Reflect.apply%",!0)||t.call(i,o),f=a("%Object.getOwnPropertyDescriptor%",!0),u=a("%Object.defineProperty%",!0),l=a("%Math.max%");if(u)try{u({},"a",{value:1})}catch(d){u=null}n.exports=function(n){var r=s(t,i,arguments);if(f&&u){var e=f(r,"length");e.configurable&&u(r,"length",{value:1+l(0,n.length-(arguments.length-1))})}return r};var c=function(){return s(t,o,arguments)};u?u(n.exports,"apply",{value:c}):n.exports.apply=c},73819:function(n,r,e){e(21703);var t=Object.prototype.hasOwnProperty,a=Object.prototype.toString;n.exports=function(n,r,e){if("[object Function]"!==a.call(r))throw new TypeError("iterator must be a function");var o=n.length;if(o===+o)for(var i=0;i<o;i++)r.call(e,n[i],i,n);else for(var s in n)t.call(n,s)&&r.call(e,n[s],s,n)}},86824:function(n,r,e){"use strict";e(21703);var t="Function.prototype.bind called on incompatible ",a=Array.prototype.slice,o=Object.prototype.toString,i="[object Function]";n.exports=function(n){var r=this;if("function"!==typeof r||o.call(r)!==i)throw new TypeError(t+r);for(var e,s=a.call(arguments,1),f=function(){if(this instanceof e){var t=r.apply(this,s.concat(a.call(arguments)));return Object(t)===t?t:this}return r.apply(n,s.concat(a.call(arguments)))},u=Math.max(0,r.length-s.length),l=[],c=0;c<u;c++)l.push("$"+c);if(e=Function("binder","return function ("+l.join(",")+"){ return binder.apply(this,arguments); }")(f),r.prototype){var d=function(){};d.prototype=r.prototype,e.prototype=new d,d.prototype=null}return e}},97503:function(n,r,e){"use strict";var t=e(86824);n.exports=Function.prototype.bind||t},42396:function(n,r,e){"use strict";var t;e(21703),e(48675),e(3462),e(9170),e(32120),e(81299);var a=SyntaxError,o=Function,i=TypeError,s=function(n){try{return o('"use strict"; return ('+n+").constructor;")()}catch(r){}},f=Object.getOwnPropertyDescriptor;if(f)try{f({},"")}catch(S){f=null}var u=function(){throw new i},l=f?function(){try{return u}catch(n){try{return f(arguments,"callee").get}catch(r){return u}}}():u,c=e(3266)(),d=Object.getPrototypeOf||function(n){return n.__proto__},h={},p="undefined"===typeof Uint8Array?t:d(Uint8Array),v={"%AggregateError%":"undefined"===typeof AggregateError?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?t:ArrayBuffer,"%ArrayIteratorPrototype%":c?d([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"===typeof Atomics?t:Atomics,"%BigInt%":"undefined"===typeof BigInt?t:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"===typeof Float32Array?t:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?t:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?t:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":h,"%Int8Array%":"undefined"===typeof Int8Array?t:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?t:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":c?d(d([][Symbol.iterator]())):t,"%JSON%":"object"===typeof JSON?JSON:t,"%Map%":"undefined"===typeof Map?t:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&c?d((new Map)[Symbol.iterator]()):t,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?t:Promise,"%Proxy%":"undefined"===typeof Proxy?t:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"===typeof Reflect?t:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?t:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&c?d((new Set)[Symbol.iterator]()):t,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":c?d(""[Symbol.iterator]()):t,"%Symbol%":c?Symbol:t,"%SyntaxError%":a,"%ThrowTypeError%":l,"%TypedArray%":p,"%TypeError%":i,"%Uint8Array%":"undefined"===typeof Uint8Array?t:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?t:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?t:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?t:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"===typeof WeakMap?t:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?t:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?t:WeakSet},w=function n(r){var e;if("%AsyncFunction%"===r)e=s("async function () {}");else if("%GeneratorFunction%"===r)e=s("function* () {}");else if("%AsyncGeneratorFunction%"===r)e=s("async function* () {}");else if("%AsyncGenerator%"===r){var t=n("%AsyncGeneratorFunction%");t&&(e=t.prototype)}else if("%AsyncIteratorPrototype%"===r){var a=n("%AsyncGenerator%");a&&(e=d(a.prototype))}return v[r]=e,e},m={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=e(97503),g=e(80042),_=y.call(Function.call,Array.prototype.concat),b=y.call(Function.apply,Array.prototype.splice),E=y.call(Function.call,String.prototype.replace),A=y.call(Function.call,String.prototype.slice),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,M=/\\(\\)?/g,k=function(n){var r=A(n,0,1),e=A(n,-1);if("%"===r&&"%"!==e)throw new a("invalid intrinsic syntax, expected closing `%`");if("%"===e&&"%"!==r)throw new a("invalid intrinsic syntax, expected opening `%`");var t=[];return E(n,x,(function(n,r,e,a){t[t.length]=e?E(a,M,"$1"):r||n})),t},P=function(n,r){var e,t=n;if(g(m,t)&&(e=m[t],t="%"+e[0]+"%"),g(v,t)){var o=v[t];if(o===h&&(o=w(t)),"undefined"===typeof o&&!r)throw new i("intrinsic "+n+" exists, but is not available. Please file an issue!");return{alias:e,name:t,value:o}}throw new a("intrinsic "+n+" does not exist!")};n.exports=function(n,r){if("string"!==typeof n||0===n.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof r)throw new i('"allowMissing" argument must be a boolean');var e=k(n),t=e.length>0?e[0]:"",o=P("%"+t+"%",r),s=o.name,u=o.value,l=!1,c=o.alias;c&&(t=c[0],b(e,_([0,1],c)));for(var d=1,h=!0;d<e.length;d+=1){var p=e[d],w=A(p,0,1),m=A(p,-1);if(('"'===w||"'"===w||"`"===w||'"'===m||"'"===m||"`"===m)&&w!==m)throw new a("property names with quotes must have matching quotes");if("constructor"!==p&&h||(l=!0),t+="."+p,s="%"+t+"%",g(v,s))u=v[s];else if(null!=u){if(!(p in u)){if(!r)throw new i("base intrinsic for "+n+" exists, but the property is not available.");return}if(f&&d+1>=e.length){var y=f(u,p);h=!!y,u=h&&"get"in y&&!("originalValue"in y.get)?y.get:u[p]}else h=g(u,p),u=u[p];h&&!l&&(v[s]=u)}}return u}},3266:function(n,r,e){"use strict";var t="undefined"!==typeof Symbol&&Symbol,a=e(51194);n.exports=function(){return"function"===typeof t&&("function"===typeof Symbol&&("symbol"===typeof t("foo")&&("symbol"===typeof Symbol("bar")&&a())))}},51194:function(n){"use strict";n.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var n={},r=Symbol("test"),e=Object(r);if("string"===typeof r)return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;var t=42;for(r in n[r]=t,n)return!1;if("function"===typeof Object.keys&&0!==Object.keys(n).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(n).length)return!1;var a=Object.getOwnPropertySymbols(n);if(1!==a.length||a[0]!==r)return!1;if(!Object.prototype.propertyIsEnumerable.call(n,r))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(n,r);if(o.value!==t||!0!==o.enumerable)return!1}return!0}},28098:function(n,r,e){"use strict";var t=e(51194);n.exports=function(){return t()&&!!Symbol.toStringTag}},80042:function(n,r,e){"use strict";var t=e(97503);n.exports=t.call(Function.call,Object.prototype.hasOwnProperty)},64974:function(n){"function"===typeof Object.create?n.exports=function(n,r){r&&(n.super_=r,n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(n,r){if(r){n.super_=r;var e=function(){};e.prototype=r.prototype,n.prototype=new e,n.prototype.constructor=n}}},10695:function(n,r,e){"use strict";var t=e(28098)(),a=e(10543),o=a("Object.prototype.toString"),i=function(n){return!(t&&n&&"object"===typeof n&&Symbol.toStringTag in n)&&"[object Arguments]"===o(n)},s=function(n){return!!i(n)||null!==n&&"object"===typeof n&&"number"===typeof n.length&&n.length>=0&&"[object Array]"!==o(n)&&"[object Function]"===o(n.callee)},f=function(){return i(arguments)}();i.isLegacyArguments=s,n.exports=f?i:s},49321:function(n,r,e){"use strict";var t,a=Object.prototype.toString,o=Function.prototype.toString,i=/^\s*(?:function)?\*/,s=e(28098)(),f=Object.getPrototypeOf,u=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(n){}};n.exports=function(n){if("function"!==typeof n)return!1;if(i.test(o.call(n)))return!0;if(!s){var r=a.call(n);return"[object GeneratorFunction]"===r}if(!f)return!1;if("undefined"===typeof t){var e=u();t=!!e&&f(e)}return f(n)===t}},48040:function(n,r,e){"use strict";var t=e(73819),a=e(27546),o=e(10543),i=o("Object.prototype.toString"),s=e(28098)(),f="undefined"===typeof globalThis?e.g:globalThis,u=a(),l=o("Array.prototype.indexOf",!0)||function(n,r){for(var e=0;e<n.length;e+=1)if(n[e]===r)return e;return-1},c=o("String.prototype.slice"),d={},h=e(92814),p=Object.getPrototypeOf;s&&h&&p&&t(u,(function(n){var r=new f[n];if(Symbol.toStringTag in r){var e=p(r),t=h(e,Symbol.toStringTag);if(!t){var a=p(e);t=h(a,Symbol.toStringTag)}d[n]=t.get}}));var v=function(n){var r=!1;return t(d,(function(e,t){if(!r)try{r=e.call(n)===t}catch(a){}})),r};n.exports=function(n){if(!n||"object"!==typeof n)return!1;if(!s||!(Symbol.toStringTag in n)){var r=c(i(n),8,-1);return l(u,r)>-1}return!!h&&v(n)}},28646:function(n,r,e){"use strict";e(21703),e(48675),e(3462),Object.defineProperty(r,"__esModule",{value:!0}),r._rand_int=i,r._shuffle=f,r._shuffled=u,r._rand_rows0=l,r._rand_cols0=c,r._rand_rankdef=h;var t=e(85008),a=e(48782),o=e(32515);function i(n,r){if(0!==n%1)throw new Error("Assertion failed.");if(0!==r%1)throw new Error("Assertion failed.");if(!(n<r))throw new Error("Assertion failed.");return Math.floor(Math.random()*(r-n))+n}var s=!0;function f(n,r,e){if(s&&(s=!1,console.warn(new Error("_shuffle deprecated, use nd.rand.AleaRNG instead."))),n.length%1!==0)throw new Error("Assertion failed.");if(null==r&&(r=0),null==e&&(e=n.length),0!==r%1)throw new Error("Assertion failed.");if(0!==e%1)throw new Error("Assertion failed.");if(!(r<=e))throw new Error("Assertion failed.");for(var t=r;t<e-1;t++){var a=i(t,e),o=n[a];n[a]=n[t],n[t]=o}}function u(n,r,e){return n=n.slice(),f(n,r,e),n}function l(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];if(!(2<=r.length))throw new Error("Assertion failed.");for(var a=(0,t.tabulate)(r,"float64",(function(){return 8*Math.random()-4})),o=r.pop(),s=r.pop(),f=a.data,u=new Int32Array(s),l=f.length;(l-=s*o)>=0;){for(var c=s;c-- >0;)u[c]=c;for(var d=i(0,s),h=s;h>d;){var p=i(0,h--),v=u[p];u[p]=u[h];for(var w=o;w-- >0;)f[l+o*v+w]=0}}return Object.freeze(f.buffer),Object.freeze(a),a}function c(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];if(!(2<=r.length))throw new Error("Assertion failed.");for(var a=(0,t.tabulate)(r,"float64",(function(){return 8*Math.random()-4})),o=r.pop(),s=r.pop(),f=a.data,u=new Int32Array(o),l=f.length;(l-=s*o)>=0;){for(var c=o;c-- >0;)u[c]=c;for(var d=i(0,o),h=o;h>d;){var p=i(0,h--),v=u[p];u[p]=u[h];for(var w=s;w-- >0;)f[l+o*w+v]=0}}return Object.freeze(f.buffer),Object.freeze(a),a}var d=!0;function h(){d&&(d=!1,console.warn(new Error("_rand_rankdef deprecated, use nd.rand.AleaRNG instead.")));for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];if(!(2<=r.length))throw new Error("Assertion failed.");for(var s=r.pop(),f=r.pop(),u=Math.min(f,s),l=(0,t.tabulate)(r,"int32",(function(){return i(0,u+1)})),c=o.rand_ortho.apply(void 0,["float64"].concat(r,[f,u])),h=o.rand_ortho.apply(void 0,["float64"].concat(r,[u,s])),p=(0,t.tabulate)([].concat(r,[u,u]),"float64",(function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];var t=r.pop(),a=r.pop(),o=l.apply(void 0,r);return a!==t||o<=a?0:8*Math.random()+.1})),v=(0,a.matmul)(c,p,h),w=p.data.length;(w-=u*u)>=0;)for(var m=1e9*Math.random()+1,y=u;y-- >0;)p.data[w+u*y+y]*=m;return Object.freeze(l.data.buffer),Object.freeze(v.data.buffer),[v,l]}},53791:function(n,r,e){"use strict";e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.heap_sort_gen=i;var a=t(e(9545)),o=a["default"].mark(i);function i(n){var r,e,t,i,s,f,u,l,c,d=arguments;return a["default"].wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:function(n,r){return(n>r)-(n<r)},n.length%1===0){a.next=3;break}throw new Error("Assertion failed.");case 3:if(n.length>=0){a.next=5;break}throw new Error("Assertion failed.");case 5:if(r instanceof Function){a.next=7;break}throw new Error("Assertion failed.");case 7:for(e=0,t=n.length,i=function(e,t){return r(n[e],n[t])<0},s=function(r,e){var t=n[r];n[r]=n[e],n[e]=t},f=function(n){return t-1-(t-2-n>>1)},u=function(n){return t-2-(t-1-n<<1)},l=function n(r){var t=u(r);t>e?(i(t,t-1)||--t,i(t,r)&&(s(t,r),n(t))):t===e&&i(t,r)&&s(t,r)},c=f(0);c<t;c++)l(c);case 13:if(!(e<t)){a.next=20;break}return s(e,t-1),a.next=17,n[e++];case 17:l(t-1),a.next=13;break;case 20:case"end":return a.stop()}}),o)}},57482:function(n,r,e){"use strict";e(48675),e(3462),Object.defineProperty(r,"__esModule",{value:!0}),r.is_array=void 0;var t=e(53623),a=new Set([Array,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array,Uint8ClampedArray,t.Complex128Array].map((function(n){return n.prototype}))),o=function(n){return a.has(Object.getPrototypeOf(n))};r.is_array=o},39059:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.concat=s;var a=t(e(25069)),o=e(30065),i=e(11882);function s(n,r,e){if(null==e&&(null==r?(e=n,n=void 0):(e=r,r=void 0,"string"===typeof n&&(r=n,n=void 0))),e=Array.from(e,(function(n){return(0,o.asarray)(r,n)})),null==n&&(n=0),null==r&&(r=i.super_dtype.apply(void 0,(0,a["default"])(e.map((function(n){return n.dtype}))))),0>n&&(n+=e[0].shape.length),0>n||n>=e[0].shape.length)throw new Error("Axis out of bounds.");for(var t=Int32Array.from(e[0].shape),s=function(r){var a=e[r].shape;if(t.length!=a.length)throw new Error("All shapes must have the same length.");if(!t.every((function(r,e){return t[e]===a[e]||n===e})))throw new Error("Shape along all axes but the concatentation axis must match.");t[n]+=a[n]},f=e.length;--f>0;)s(f);var u=t.slice(n+1).reduce((function(n,r){return n*r}),1),l=Int32Array.from(e,(function(n){return n.data.length})),c=new i.ARRAY_TYPES[r](t.reduce((function(n,r){return n*r}),1)),d=c.length;function h(r){if(r===n)for(var a=e.length;a-- >0;)for(var o=e[a].shape[r]*u;o-- >0;)c[--d]=e[a].data[--l[a]];else for(var i=t[r];i-- >0;)h(r+1)}return h(0),new o.NDArray(t,c)}},7074:function(n,r,e){"use strict";e(21703),e(25438);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.Complex=void 0;var a=t(e(16125)),o=t(e(39885)),i=t(e(95551)),s=function(){function n(r,e){if((0,a["default"])(this,n),null==r&&(r=0),null==e&&(e=0),null==r.re&&null==r.im||(e=r.im||0,r=r.re||0),this.re=1*r,this.im=1*e,isNaN(r))throw new Error("Real value is NaN.");if(isNaN(e))throw new Error("Imaginary value is NaN.");Object.freeze(this)}return(0,o["default"])(n,[{key:"add",value:function(r,e){return null==r&&(r=0),null==e&&(e=0),null==r.re&&null==r.im||(e=r.im||0,r=r.re||0),new n(this.re+r,this.im+e)}},{key:"sub",value:function(r,e){return null==r&&(r=0),null==e&&(e=0),null==r.re&&null==r.im||(e=r.im||0,r=r.re||0),new n(this.re-r,this.im-e)}},{key:"mul",value:function(r,e){return null==r&&(r=0),null==e&&(e=0),null==r.re&&null==r.im||(e=r.im||0,r=r.re||0),new n(this.re*r-this.im*e,this.re*e+this.im*r)}},{key:"div",value:function(r,e){if(null==r&&(r=0),null==e&&(e=0),null==r.re&&null==r.im||(e=r.im||0,r=r.re||0),0==e)return new n(this.re/r,this.im/r);if(Math.abs(r)>=Math.abs(e)){var t=e/r;return new n((this.re+this.im*t)/(r+e*t),(this.im-this.re*t)/(r+e*t))}var a=r/e;return new n((this.re*a+this.im)/(r*a+e),(this.im*a-this.re)/(r*a+e))}},{key:"equals",value:function(n,r){return null==n&&(n=0),null==r&&(r=0),null==n.re&&null==n.im||(r=n.im||0,n=n.re||0),this.re==n&&this.im==r}},{key:"abs",value:function(){return Math.hypot(this.re,this.im)}},{key:"arg",value:function(){return Math.atan2(this.im,this.re)}},{key:"conj",value:function(){return new n(this.re,-this.im)}},{key:"toFixed",value:function(r){return new n(this.re.toFixed(r),this.im.toFixed(r))}},{key:"sqrt",value:function(){var r=this.abs();return new n(i["default"].sqrt(i["default"].mul(i["default"].add(r,this.re),.5)),i["default"].sqrt(i["default"].mul(i["default"].sub(r,this.re),.5)))}},{key:Symbol["for"]("nodejs.util.inspect.custom"),value:function(){return this.toString()}},{key:"toString",value:function(){return 0==this.im?this.re.toString():0==this.re?"".concat(this.im,"j"):this.im<0?"".concat(this.re," - ").concat(-this.im,"j"):"".concat(this.re," + ").concat(this.im,"j")}},{key:"valueOf",value:function(){return 0==this.im?this.re:this}}]),n}();r.Complex=s},53623:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.Complex128Array=void 0;var a=t(e(25069)),o=t(e(9545)),i=t(e(16125)),s=t(e(39885)),f=t(e(51382)),u=e(7074);function l(n){var r={get:function(n,r){return"symbol"!==(0,f["default"])(r)&&r%1===0?n.get(r):n[r]},set:function(n,r,e){return"symbol"!==(0,f["default"])(r)&&r%1===0?(n.set(r,e),!0):(n[r]=e,!0)}},e=function(){function e(t,a,o){return(0,i["default"])(this,e),t%1===0?(o=t,this._array=new n(2*o)):(null!=o&&(o*=2),this._array=new n(t,a,o)),Object.seal(this),new Proxy(this,r)}return(0,s["default"])(e,null,[{key:"BYTES_PER_ELEMENT",get:function(){return 2*n.BYTES_PER_ELEMENT}},{key:"name",get:function(){return"Complex".concat(8*e.BYTES_PER_ELEMENT,"Array")}}]),(0,s["default"])(e,[{key:Symbol.iterator,value:o["default"].mark((function n(){var r;return o["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=0;case 1:if(!(r<this.length)){n.next=7;break}return n.next=4,this[r];case 4:r++,n.next=1;break;case 7:case"end":return n.stop()}}),n,this)}))},{key:"keys",value:o["default"].mark((function n(){var r;return o["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=0;case 1:if(!(r<this.length)){n.next=7;break}return n.next=4,r;case 4:r++,n.next=1;break;case 7:case"end":return n.stop()}}),n,this)}))},{key:"values",value:o["default"].mark((function n(){return o["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.delegateYield(this[Symbol.iterator](),"t0",1);case 1:case"end":return n.stop()}}),n,this)}))},{key:"entries",value:o["default"].mark((function n(){var r;return o["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=0;case 1:if(!(r<this.length)){n.next=7;break}return n.next=4,[r,this[r]];case 4:r++,n.next=1;break;case 7:case"end":return n.stop()}}),n,this)}))},{key:"forEach",value:function(n,r){for(var e=0;e<source.length;e++)n.call(r,source[e],e)}},{key:"map",value:function(n,r){return e.from(this,n,r)}},{key:"reduce",value:function(n,r){var e=0;if(null==r){if(0==this.length)throw new TypeError("TypeError: Reduce of empty array with no initial value.");r=this[e++]}for(;e<this.length;e++)r=n(r,this[e],e,this);return r}},{key:"slice",value:function(n,r){return null!=n&&(n*=2),null!=r&&(r*=2),new e(this._array.slice(n,r).buffer)}},{key:"subarray",value:function(n,r){null!=n&&(n*=2),null!=r&&(r*=2);var t=this._array.subarray(n,r);return new e(t.buffer,t.byteOffset,t.length/2)}},{key:"join",value:function(n){null==n&&(n=", ");for(var r="",e=0;e<this.length;e++)e>0&&(r+=n),r+=this[e].toString();return r}},{key:"fill",value:function(n,r,e){n instanceof u.Complex||(n=new u.Complex(n)),null==r&&(r=0),null==e&&(e=this.length),0>e&&(e+=this.length),0>r&&(r+=this.length);for(var t=this._array.length;(t-=2)>=0;)this._array[t+1]=n.im,this._array[t+0]=n.re;return this}},{key:"get",value:function(n){return new u.Complex(this._array[2*n+0],this._array[2*n+1])}},{key:"set",value:function(n,r){if(n*=2,"number"===typeof r||!isNaN(r))return this._array[n+0]=r,void(this._array[n+1]=isNaN(r)?NaN:0);"re"in r&&"im"in r||(r=new u.Complex(r)),this._array[n+0]=r.re,this._array[n+1]=r.im}},{key:Symbol["for"]("nodejs.util.inspect.custom"),value:function(n){return"Complex128Array "+util.inspect(Array.from(this),n)}},{key:"toString",value:function(n){return this.join(",")}},{key:"buffer",get:function(){return this._array.buffer}},{key:"byteOffset",get:function(){return this._array.byteOffset}},{key:"byteLength",get:function(){return this._array.byteLength}},{key:"length",get:function(){return this._array.length>>>1}},{key:Symbol.toStringTag,get:function(){throw new Error("not yet implemented.")}}],[{key:"from",value:function(r,t,o){if(r.hasOwnProperty("length")||(r=(0,a["default"])(r)),null==t){if(r instanceof e)return new e(n.from(r._array).buffer,0,r.length);if(r instanceof Int32Array||r instanceof Float32Array||r instanceof Float64Array){for(var i=new n(2*r.length),s=r.length;s-- >0;)i[s<<1]=r[s];return new e(i.buffer,0,r.length)}}var f=new e(r.length);t=t||function(n){return n};for(var u=0;u<r.length;u++)f[u]=t.call(o,r[u],u);return f}},{key:"of",value:function(){for(var n=new e(arguments.length),r=0;r<arguments.length;r++)n[r]=r<0||arguments.length<=r?void 0:arguments[r];return n}}]),e}();return e}e(47926);var c=l(Float64Array);r.Complex128Array=c},90053:function(n,r,e){"use strict";e(48675),e(3462),e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.nextUp=f,r.nextDown=u,r.midl=l;var a=t(e(42989)),o=e(70087),i=Float64Array.of(NaN),s=new Int32Array(i.buffer);if(2!==s.length)throw new Error("Assertion failed.");function f(n){if(n*=1,0===n)return+Number.MIN_VALUE;if(!(n<1/0))return n;i[0]=n;var r=1-o.IS_LITTLE_ENDIAN,e=1*o.IS_LITTLE_ENDIAN;return n>0?(s[e]+=-1===s[r],s[r]+=1):(s[e]-=0===s[r],s[r]-=1),i[0]}function u(n){if(n*=1,0===n)return-Number.MIN_VALUE;if(!(n>-1/0))return n;i[0]=n;var r=1-o.IS_LITTLE_ENDIAN,e=1*o.IS_LITTLE_ENDIAN;return n>0?(s[e]-=0===s[r],s[r]-=1):(s[e]+=-1===s[r],s[r]+=1),i[0]}function l(n,r){if(n*=1,r*=1,isNaN(n))throw new Error("mid(x,y): x must be number.");if(isNaN(r))throw new Error("mid(x,y): x must be number.");if(Math.sign(n)*r<0){var e=(n+r)/2;if(!(e<Math.max(n,r)))throw new Error("Assertion failed.");if(!(e>Math.min(n,r)))throw new Error("Assertion failed.");return e}var t=Math.abs(n)<=Math.abs(r)?[n,r]:[r,n],o=(0,a["default"])(t,2),i=o[0],s=o[1],f=i+.5*(s-i);if(!(f<=Math.max(n,r)))throw new Error("Assertion failed.");if(!(f>=Math.min(n,r)))throw new Error("Assertion failed.");return f===r?n:f}},11882:function(n,r,e){"use strict";e(48675),e(3462),e(21703),e(85827),Object.defineProperty(r,"__esModule",{value:!0});var t={ARRAY_TYPES:!0,eps:!0,cast_scalar:!0,_check_dtype:!0,dtypeof:!0,super_dtype:!0,is_subdtype:!0};r.eps=s,r.cast_scalar=f,r._check_dtype=u,r.dtypeof=l,r.is_subdtype=d,r.super_dtype=r.ARRAY_TYPES=void 0;var a=e(7074);Object.keys(a).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return a[n]}}))}));var o=e(53623);Object.keys(o).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return o[n]}}))}));var i={int32:Int32Array,float32:Float32Array,float64:Float64Array,complex128:o.Complex128Array,object:Array};function s(n){switch(u(n),n){case"complex128":return new a.Complex(Number.EPSILON);case"float32":return 1.1920928955078125e-7;default:return Number.EPSILON}}function f(n,r){return"int32"===r?4294967295&n:"float32"===r?Math.fround(n):"complex128"===r?n instanceof a.Complex?n:new a.Complex(n):1*n}function u(n){if(!i.hasOwnProperty(n))throw new Error("Invalid dtype '"+n+"'. Must be one of {'"+Object.getOwnPropertyNames(i).join("', '")+"'}.")}function l(n){return n%1===0?n<=~(1<<31)&&n>=1<<31?"int32":"object":1*n==n?"float64":n instanceof a.Complex?"complex128":"object"}r.ARRAY_TYPES=i;var c=function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return r.reduce((function(n,r){return u(n),u(r),"object"===n||"object"===r?"object":"complex128"===n||"complex128"===r?"complex128":"float64"===n||"float64"===r?"float64":"float32"===n||"float32"===r?"float32":"int32"}))};function d(n,r){u(n),u(r);var e={int32:0,float32:1,float64:2,complex128:3,object:4};return e[n]<=e[r]}r.super_dtype=c},20162:function(n,r,e){"use strict";e(25438);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.MutableComplex=void 0;var a=t(e(16125)),o=t(e(39885)),i=function(){function n(r,e){(0,a["default"])(this,n),this.re=1*r,this.im=1*e}return(0,o["default"])(n,[{key:"abs",value:function(){return Math.hypot(this.re,this.im)}},{key:"/=",value:function(n,r){if(0===r)this.re/=n,this.im/=n;else{var e=this.re;if(Math.abs(n)>=Math.abs(r)){var t=r/n;this.re=(e+this.im*t)/(n+r*t),this.im=(this.im-e*t)/(n+r*t)}else{var a=n/r;this.re=(e*a+this.im)/(n*a+r),this.im=(this.im*a-e)/(n*a+r)}}}},{key:"= c0*c1",value:function(n,r,e,t){this.re=n*e-r*t,this.im=n*t+r*e}},{key:"-= c0*c1",value:function(n,r,e,t){this.re-=n*e-r*t,this.im-=n*t+r*e}},{key:Symbol["for"]("nodejs.util.inspect.custom"),value:function(){return this.toString()}},{key:"toString",value:function(){return 0==this.im?this.re.toString():0==this.re?"".concat(this.im,"j"):this.im<0?"".concat(this.re," - ").concat(-this.im,"j"):"".concat(this.re," + ").concat(this.im,"j")}}]),n}();r.MutableComplex=i},42622:function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=e(4552);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[n]}})}))},4552:function(n,r,e){"use strict";e(21703),e(48675),e(3462),Object.defineProperty(r,"__esModule",{value:!0}),r.regular_simplex=o;var t=e(30065),a=e(11882);function o(n,r){if(null==r)r=n,n="float64";else{if(!(n in a.ARRAY_TYPES))throw new Error("regular_simplex(dtype,N): dtype '".concat(n,"' not supported."));if(n.startsWith("int"))throw new Error("regular_simplex(dtype,N): dtype must not be integral.")}if(r%1!==0)throw new Error("regular_simplex(N): N must be a valid integer.");if(!(0<r))throw new Error("regular_simplex(N): N must be greater than 0.");r|=0;for(var e=new a.ARRAY_TYPES[n]((r+1)*r),o=Int32Array.of(r+1,r),i=1;i<r+1;i++){for(var s=0;s<i-1;s++)e[r*i+s]=e[r*(i-1)+s];e[r*i+(i-2)]/=i,e[r*i+(i-1)]=Math.sqrt((i+1)/(2*i))}return new t.NDArray(o,e)}},76539:function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=e(72375);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[n]}})}))},72375:function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.odeint_rk4=o;var t=e(30065),a=e(45854);function o(n,r,e,o){r=(0,t.asarray)(r);var i=n(r,e).mapElems((function(n){return n*o})),s=n((0,a.zip_elems)([r,i],(function(n,r){return n+r/2})),e+o/2).mapElems((function(n){return n*o})),f=n((0,a.zip_elems)([r,s],(function(n,r){return n+r/2})),e+o/2).mapElems((function(n){return n*o})),u=n((0,a.zip_elems)([r,f],(function(n,r){return n+r})),e+o).mapElems((function(n){return n*o}));return(0,a.zip_elems)([r,i,s,f,u],(function(n,r,e,t,a){return n+(r+2*(e+t)+a)/6}))}},37161:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.b64_decode=v,r.b64_decode_gen=w,r.b64_encode=m,r.b64_encode_gen=y;var a=t(e(9545));function o(n,r){var e;if("undefined"===typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=i(n))||r&&n&&"number"===typeof n.length){e&&(n=e);var t=0,a=function(){};return{s:a,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,f=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return s=n.done,n},e:function(n){f=!0,o=n},f:function(){try{s||null==e["return"]||e["return"]()}finally{if(f)throw o}}}}function i(n,r){if(n){if("string"===typeof n)return s(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(n,r):void 0}}function s(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}var f=a["default"].mark(w),u=a["default"].mark(y),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c="\f\n\r\t\v ",d=Int32Array.from({length:256},(function(){return-2}));if(64!==l.length)throw new Error("Assertion failed.");for(var h=l.length;h-- >0;)d[l.charCodeAt(h)]=h;for(var p=c.length;p-- >0;)d[c.charCodeAt(p)]=-1;function v(n){return Uint8Array.from(w(n))}function w(n){var r,e,t,o,i,s,u;return a["default"].wrap((function(a){while(1)switch(a.prev=a.next){case 0:t=function(){console.warn("_b64_decode(b64_chars): Base64 sequence ended unexpectedly.")},e=function(){while(1){var e=void 0,t=n.next();if(e=t.value,r=t.done,r=r||"="===e,r)return NaN;if("string"!==typeof e||1!==e.length)throw new Error("_b64_decode(b64_chars): Invalid token in character sequence: ".concat(e,"."));if(e=d[e.charCodeAt(0)],-1!==e){if(!(e>=0))throw new Error("_b64_decode(b64_chars): Invalid base64 character '".concat(e,"'."));return e}}},n=n[Symbol.iterator]();case 3:if(o=e(),!r){a.next=7;break}return a.abrupt("return");case 7:if(i=e(),!r){a.next=10;break}return a.abrupt("return",t());case 10:return a.next=12,o<<2|i>>4;case 12:if(s=e(),!r){a.next=15;break}return a.abrupt("return");case 15:return a.next=17,(15&i)<<4|s>>2;case 17:if(u=e(),!r){a.next=20;break}return a.abrupt("return");case 20:return a.next=22,(3&s)<<6|63&u;case 22:a.next=3;break;case 24:case"end":return a.stop()}}),f)}function m(n){var r,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="",a=o(y(n,e));try{for(a.s();!(r=a.n()).done;){var i=r.value;t+=i}}catch(s){a.e(s)}finally{a.f()}return t}function y(n){var r,e,t,i,s,f,c,d,h,p,v,w=arguments;return a["default"].wrap((function(u){while(1)switch(u.prev=u.next){case 0:if(r=w.length>1&&void 0!==w[1]?w[1]:{},e=r.pad,t=void 0===e||e,i=r.linewidth,s=void 0===i?128:i,0<s){u.next=3;break}throw new Error("_b64_encode(bytes,{linewidth}): Invalid linewidth: ".concat(s,"."));case 3:f=n[Symbol.iterator](),n=a["default"].mark((function n(){var r,e,t;return a["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=o(f),n.prev=1,r.s();case 3:if((e=r.n()).done){n.next=12;break}if(t=e.value,t*=1,0<=t&&t<256){n.next=8;break}throw new Error("_b64_encode(bytes): Invalid token in byte sequence: ".concat(t));case 8:return n.next=10,t;case 10:n.next=3;break;case 12:n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](1),r.e(n.t0);case 17:return n.prev=17,r.f(),n.finish(17);case 20:case"end":return n.stop()}}),n,null,[[1,14,17,20]])}))(),c=a["default"].mark((function r(){var e,t,o,i,s,f;return a["default"].wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(o=void 0,i=n.next(),e=i.value,t=i.done,!t){r.next=7;break}return r.abrupt("return");case 7:return r.next=9,e>>2;case 9:if(o=(3&e)<<4,s=n.next(),e=s.value,t=s.done,!t){r.next=17;break}return r.next=16,o;case 16:return r.abrupt("return");case 17:return r.next=19,e>>4|o;case 19:if(o=(15&e)<<2,f=n.next(),e=f.value,t=f.done,!t){r.next=27;break}return r.next=26,o;case 26:return r.abrupt("return");case 27:return r.next=29,e>>6|o;case 29:return r.next=31,63&e;case 31:r.next=0;break;case 33:case"end":return r.stop()}}),r)}))(),d=0,h=o(c),u.prev=8,h.s();case 10:if((p=h.n()).done){u.next=23;break}if(v=p.value,"number"===typeof v){u.next=14;break}throw new Error("Assertion failed.");case 14:if(0<=v&&v<64){u.next=16;break}throw new Error("Assertion failed.");case 16:return u.next=18,l[v];case 18:if(0!==++d%s){u.next=21;break}return u.next=21,"\n";case 21:u.next=10;break;case 23:u.next=28;break;case 25:u.prev=25,u.t0=u["catch"](8),h.e(u.t0);case 28:return u.prev=28,h.f(),u.finish(28);case 31:if(!t){u.next=37;break}case 32:if(0===d++%4){u.next=37;break}return u.next=35,"=";case 35:u.next=32;break;case 37:case"end":return u.stop()}}),u,null,[[8,25,28,31]])}},70087:function(n,r,e){"use strict";e(48675),e(3462),Object.defineProperty(r,"__esModule",{value:!0});var t={IS_LITTLE_ENDIAN:!0,WHITESPACES:!0};r.WHITESPACES=r.IS_LITTLE_ENDIAN=void 0;var a=e(37161);Object.keys(a).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return a[n]}}))}));var o=e(96161);Object.keys(o).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return o[n]}}))}));var i=e(92855);Object.keys(i).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return i[n]}}))}));var s=1===new Int16Array(Uint8Array.of(1,0).buffer)[0];r.IS_LITTLE_ENDIAN=s;var f="\f\n\r\t\v ";r.WHITESPACES=f},96161:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.istr_parse=h,r.istr_stringify=p,r.istr_stringify_gen=v;var a=t(e(9545)),o=e(11882),i=e(37161),s=e(70087),f=e(30065),u=a["default"].mark(v);function l(n,r){var e;if("undefined"===typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=c(n))||r&&n&&"number"===typeof n.length){e&&(n=e);var t=0,a=function(){};return{s:a,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return i=n.done,n},e:function(n){s=!0,o=n},f:function(){try{i||null==e["return"]||e["return"]()}finally{if(s)throw o}}}}function c(n,r){if(n){if("string"===typeof n)return d(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?d(n,r):void 0}}function d(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function h(n){n=n[Symbol.iterator]();for(var r=[];;){var e=n.next(),t=e.value,a=e.done;if(a)throw new Error("b64_parse(b64_chars): Invalid b64_chars.");if("["===t)break;r.push(t)}if(r=r.join("").trim(),""===r)throw new Error("b64_parse(b64_chars): dtype=object not (yet) supported.");(0,o._check_dtype)(r);for(var u=[],l=[];;){var c=n.next(),d=c.value,h=c.done;if(h)throw new Error("b64_parse(b64_chars): Invalid b64_chars.");if("]"===d&&0===l.length)break;if("]"!==d&&","!==d)l.push(d);else{var p=l.join("");if(isNaN(p))throw new Error('b64_parse(b64_chars): Invalid shape entry: "'.concat(p,'".'));if(u.push(1*p),"]"===d)break;l=[]}}u=Int32Array.from(u),n=(0,i.b64_decode_gen)(n);for(var v=o.ARRAY_TYPES[r],w=new Uint8Array(u.reduce((function(n,r){return n*r}),v.BYTES_PER_ELEMENT)),m=new Uint8Array(v.BYTES_PER_ELEMENT),y=0;y<w.length;){for(var g=0;g<m.length;g++){var _=n.next(),b=_.value,E=_.done;if(E)throw new Error("b64_parse(b64_chars): b64_chars too short.");m[g]=b}s.IS_LITTLE_ENDIAN||m.reverse();for(var A=0;A<m.length;A++,y++)w[y]=m[A]}return new f.NDArray(u,new v(w.buffer))}function p(n){var r,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t="",a=l(v(n,e));try{for(a.s();!(r=a.n()).done;){var o=r.value;t+=o}}catch(i){a.e(i)}finally{a.f()}return t}function v(n){var r,e,t=arguments;return a["default"].wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=t.length>1&&void 0!==t[1]?t[1]:{},n=(0,f.asarray)(n),e=n.data,"object"!==n.dtype){a.next=5;break}throw new Error("b64_format(A): A.dtype='".concat(n.dtype,"' not supported."));case 5:if(s.IS_LITTLE_ENDIAN){a.next=7;break}throw new Error("Big endianness not (yet) supported.");case 7:return a.delegateYield("".concat(n.dtype,"[").concat(n.shape.join(","),"]\n"),"t0",8);case 8:return a.delegateYield((0,i.b64_encode_gen)(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),r),"t1",9);case 9:case"end":return a.stop()}}),u)}},92855:function(n,r,e){"use strict";e(48675),e(3462),e(21703),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.npy_serialize=d,r.npy_serialize_gen=h,r.npy_deserialize=p;var a=t(e(25069)),o=t(e(9545)),i=e(45321),s=e(11882),f=e(30065),u=e(70087),l=o["default"].mark(h),c="NUMPY";function d(n){return Uint8Array.from(h(n))}function h(n){var r,e,t,a,i,s;return o["default"].wrap((function(o){while(1)switch(o.prev=o.next){case 0:n=(0,f.asarray)(n),r=function(){switch(n.dtype){default:throw new Error("nd_to_npy: A.dtype=".concat(n.dtype," not yet supported."));case"int32":return"i4";case"float32":return"f4";case"float64":return"f8";case"complex128":return"c16"}}(),r=u.IS_LITTLE_ENDIAN?"<"+r:">"+r,e='{"descr": "'.concat(r,'", "fortran_order": False, "shape": (').concat(n.shape).concat(n.ndim>0?",":"",")}"),t=0;case 5:if(!(t<c.length)){o.next=11;break}return o.next=8,c.codePointAt(t);case 8:t++,o.next=5;break;case 11:return o.next=13,1;case 13:return o.next=15,0;case 15:if(a=e.length+11+63>>>6<<6,!(a>65535)){o.next=18;break}throw new Error("nd_to_npy: Header too large.");case 18:return o.next=20,a-10>>>0&255;case 20:return o.next=22,a-10>>>8&255;case 22:if(a%64===0){o.next=24;break}throw new Error("Assertion failed.");case 24:i=0;case 25:if(!(i<e.length)){o.next=31;break}return o.next=28,e.codePointAt(i);case 28:i++,o.next=25;break;case 31:s=e.length+11;case 32:if(!(s<a)){o.next=38;break}return o.next=35," ".codePointAt(0);case 35:s++,o.next=32;break;case 38:return o.next=40,"\n".codePointAt(0);case 40:return o.delegateYield(new Uint8Array(n.data.buffer,n.data.byteOffset,n.data.byteLength),"t0",41);case 41:case"end":return o.stop()}}),l)}function p(n){var r,e=function(){var r=n[Symbol.iterator]();return function(){var n=r.next(),e=n.value,t=n.done;if(t)throw new Error("npy_to_nd: byte sequence ended unexpectedly.");return e}}();n=void 0;var t="";while(t.length<6)t+=String.fromCodePoint(e());if(t!==c)throw new Error("npy_to_nd: byte sequence does not start with 'NUMPY'.");var l="".concat(e(),".").concat(e());switch(l){default:throw new Error("npy_bytes: npy-file version ".concat(l," not supported."));case"1.0":case"2.0":}var d=function(){var n=1*e()+256*e();if("2.0"===l&&(n+=65536*e()+e()*(1<<24)),n<0)throw new Error("Assertion failed.");return(0,i.pyon_parse)(o["default"].mark((function r(){return o["default"].wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!(n-- >0)){r.next=5;break}return r.next=3,String.fromCodePoint(e());case 3:r.next=0;break;case 5:case"end":return r.stop()}}),r)}))())}(),h=function(){switch(d.descr[0]){default:throw new Error("npy_to_nd: dtype '".concat(d.descr,"' not yet supported."));case"<":return!0;case">":return!1}}(),p=function(){switch(d.descr.slice(1)){default:throw new Error("npy_to_nd: dtype '".concat(d.descr,"' not yet supported."));case"i4":return"int32";case"f4":return"float32";case"f8":return"float64";case"c16":return"complex128"}}(),v=s.ARRAY_TYPES[p],w=Uint8Array.from({length:d.shape.reduce((function(n,r){return n*r}),v.BYTES_PER_ELEMENT)},e);if(h!==u.IS_LITTLE_ENDIAN)for(var m=v.BYTES_PER_ELEMENT>>>p.startsWith("complex"),y=0;y<w.length;y+=m)for(var g=y,_=y+m;g<--_;g++){var b=w[g];w[g]=w[_],w[_]=b}var E=Int32Array.from(d.shape);d.fortran_order&&E.reverse();var A=new f.NDArray(E,new v(w.buffer));return d.fortran_order&&A.ndim>1&&(A=(r=A).transpose.apply(r,(0,a["default"])(o["default"].mark((function n(){var r;return o["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=A.ndim;case 1:if(!(r-- >0)){n.next=6;break}return n.next=4,r;case 4:n.next=1;break;case 6:case"end":return n.stop()}}),n)}))()))),A}},45321:function(n,r,e){"use strict";e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.pyon_parse=f;var a=t(e(42989));function o(n,r){var e;if("undefined"===typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=i(n))||r&&n&&"number"===typeof n.length){e&&(n=e);var t=0,a=function(){};return{s:a,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,f=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return s=n.done,n},e:function(n){f=!0,o=n},f:function(){try{s||null==e["return"]||e["return"]()}finally{if(f)throw o}}}}function i(n,r){if(n){if("string"===typeof n)return s(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?s(n,r):void 0}}function s(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function f(n){var r=function(){var r=!1,e=0,t=n[Symbol.iterator](),a=function(){var n=t.next(),a=n.value,o=n.done;if(++e,o){if(r)throw new Error("pyon_parse: Character sequence ended unexpectedly.");return r=!0,null}return a},o=function(){for(var n;;)switch(n=a()){default:return n;case"\f":case"\n":case"\r":case"\t":case"\v":case" ":}},i=function(n,r){var t=null==r?"Invalid character":"Expected ".concat(r,", but ");throw new Error("pyon_parse: ".concat(t," '").concat(n,"' encountered as ").concat(e,"-th character."))};return[a,o,i]}(),e=(0,a["default"])(r,3),t=e[0],i=e[1],s=e[2];function f(){switch(w){default:s(w);case"{":return l();case'"':case"'":return p();case"(":case"[":return c();case"T":return d();case"F":return h();case"N":return v();case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case".":case"8":case"+":case"9":case"-":return u()}}function u(){var n="";n:for(;;w=t())switch(w){case"\f":case"\n":case"\r":case"\t":case"\v":case" ":w=i();default:break n;case"0":case"1":case"2":case"3":case"a":case"A":case"4":case"b":case"B":case"5":case"c":case"C":case"6":case"d":case"D":case"7":case"e":case"E":case".":case"8":case"f":case"F":case"+":case"9":case"e":case"E":case"-":n+=w}return n=1*n.trim(),isNaN(n)&&s(n),n}function l(){var n={};if("{"!==w)throw new Error("Assertion failed.");for(;;){if("}"===(w=i()))return w=i(),n;var r=f();switch(":"!==w&&s(w,end),w=i(),n[r]=f(),w){default:s(w,",' or '}");case",":continue;case"}":return w=i(),n}}}function c(){for(var n=function(){switch(w){case"(":return")";case"[":return"]";default:throw new Error("Assertion failed.")}}(),r=[];;){switch(w=i()){case n:return w=i(),r;default:}switch(r.push(f()),w){default:s(w,",' or '".concat(n));case",":continue;case n:return w=i(),r}}}function d(){if("T"!==w)throw new Error("Assertion failed.");var n,r=o("rue");try{for(r.s();!(n=r.n()).done;){var e=n.value;w=t(),e!==w&&s(w,e)}}catch(s){r.e(s)}finally{r.f()}return w=i(),!0}function h(){if("F"!==w)throw new Error("Assertion failed.");var n,r=o("alse");try{for(r.s();!(n=r.n()).done;){var e=n.value;w=t(),e!==w&&s(w,e)}}catch(s){r.e(s)}finally{r.f()}return w=i(),!1}function p(){var n=w;switch(n){default:throw new Error("Assertion failed.");case"'":case'"':}for(var r="";;)switch(w=t()){case n:return w=i(),r;case"\\":switch(w=t()){case"u":for(var e=0,a=0;a<4;a++)switch(e<<=8,w=t()){default:s(w,"Hexadecimal digit");case"f":case"F":++e;case"e":case"E":++e;case"d":case"D":++e;case"c":case"C":++e;case"b":case"B":++e;case"a":case"A":++e;case"9":++e;case"8":++e;case"7":++e;case"6":++e;case"5":++e;case"4":++e;case"3":++e;case"2":++e;case"1":++e;case"0":++e}r+=String.fromCodePoint(e);continue;case"b":r+="\b";continue;case"f":r+="\f";continue;case"n":r+="\n";continue;case"r":r+="\r";continue;case"t":r+="\t";continue;case'"':case"'":case"\\":}default:r+=w}}function v(){if("N"!==w)throw new Error("Assertion failed.");var n,r=o("one");try{for(r.s();!(n=r.n()).done;){var e=n.value;w=t(),e!==w&&s(w,e)}}catch(s){r.e(s)}finally{r.f()}return w=i(),null}var w=i();return f()}},67456:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0});var a={linspace:!0,range:!0,cartesian_prod:!0,enumerate:!0,zip:!0,repeat:!0};r.linspace=m,r.range=y,r.cartesian_prod=g,r.enumerate=_,r.zip=b,r.repeat=E;var o=t(e(25069)),i=t(e(9545)),s=e(92733);function f(n,r){var e;if("undefined"===typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=u(n))||r&&n&&"number"===typeof n.length){e&&(n=e);var t=0,a=function(){};return{s:a,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return i=n.done,n},e:function(n){s=!0,o=n},f:function(){try{i||null==e["return"]||e["return"]()}finally{if(s)throw o}}}}function u(n,r){if(n){if("string"===typeof n)return l(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(n,r):void 0}}function l(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}Object.keys(s).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(a,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return s[n]}}))}));var c=i["default"].mark(m),d=i["default"].mark(y),h=i["default"].mark(g),p=i["default"].mark(_),v=i["default"].mark(b),w=i["default"].mark(E);function m(n,r,e){var t,a;return i["default"].wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(e%1===0){o.next=2;break}throw new Error("linspace(start,end,num): num must be an integer greater than 1.");case 2:if(e>1){o.next=4;break}throw new Error("linspace(start,end,num): num must be an integer.greater than 1.");case 4:if(isFinite(n)){o.next=6;break}throw new Error("linspace(start,end,num): start must be a finite number.");case 6:if(isFinite(r)){o.next=8;break}throw new Error("linspace(start,end,num): end must be a finite number.");case 8:t=0;case 9:if(!(t<e)){o.next=16;break}return a=t/(e-1),o.next=13,n*(1-a)+a*r;case 13:t++,o.next=9;break;case 16:case"end":return o.stop()}}),c)}function y(n,r){var e,t,a,o=arguments;return i["default"].wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e=o.length>2&&void 0!==o[2]?o[2]:1,n%1===0){i.next=3;break}throw new Error("range(start, stop, step=1): start not a valid integer.");case 3:if(r%1===0){i.next=5;break}throw new Error("range(start, stop, step=1): stop not a valid integer.");case 5:if(e%1===0){i.next=7;break}throw new Error("range(start, stop, step=1): step not a valid integer.");case 7:if(0!==e){i.next=9;break}throw new Error("range(start, stop, step=1): step must not be 0.");case 9:if(!(0<e)){i.next=19;break}t=n;case 11:if(!(t<r)){i.next=17;break}return i.next=14,t;case 14:t+=e,i.next=11;break;case 17:i.next=26;break;case 19:a=n;case 20:if(!(a>r)){i.next=26;break}return i.next=23,a;case 23:a+=e,i.next=20;break;case 26:case"end":return i.stop()}}),d)}function g(){var n,r,e,t,a,s,u=arguments;return i["default"].wrap((function(l){while(1)switch(l.prev=l.next){case 0:for(s=function(r){var t,o,u;return i["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!(r<e.length)){n.next=20;break}t=f(e[r]),n.prev=2,t.s();case 4:if((o=t.n()).done){n.next=10;break}return u=o.value,a[r]=u,n.delegateYield(s(r+1),"t0",8);case 8:n.next=4;break;case 10:n.next=15;break;case 12:n.prev=12,n.t1=n["catch"](2),t.e(n.t1);case 15:return n.prev=15,t.f(),n.finish(15);case 18:n.next=22;break;case 20:return n.next=22,a.slice();case 22:case"end":return n.stop()}}),n,null,[[2,12,15,18]])},n=i["default"].mark(s),r=u.length,e=new Array(r),t=0;t<r;t++)e[t]=u[t];return e=e.map((function(n){return n instanceof Array||n instanceof Float32Array||n instanceof Float64Array||n instanceof Int8Array||n instanceof Int16Array||n instanceof Int32Array||n instanceof Uint8Array||n instanceof Uint16Array||n instanceof Uint32Array?n.slice():(0,o["default"])(n)})),a=new Array(e.length),l.delegateYield(s(0),"t0",6);case 6:case"end":return l.stop()}}),h)}function _(n){var r,e,t,a;return i["default"].wrap((function(o){while(1)switch(o.prev=o.next){case 0:r=0,e=f(n),o.prev=2,e.s();case 4:if((t=e.n()).done){o.next=10;break}return a=t.value,o.next=8,[r++,a];case 8:o.next=4;break;case 10:o.next=15;break;case 12:o.prev=12,o.t0=o["catch"](2),e.e(o.t0);case 15:return o.prev=15,e.f(),o.finish(15);case 18:case"end":return o.stop()}}),p,null,[[2,12,15,18]])}function b(){var n,r,e,t,a,o,s,f,u=arguments;return i["default"].wrap((function(i){while(1)switch(i.prev=i.next){case 0:for(n=u.length,r=new Array(n),e=0;e<n;e++)r[e]=u[e];if(0<r.length){i.next=3;break}throw new Error("zip(...seqs): seqs.length must be at least 1.");case 3:for(t=r.length,a=t;a-- >0;)r[a]=r[a][Symbol.iterator]();case 5:o=[],s=0;case 7:if(!(s<t)){i.next=15;break}if(f=r[s].next(),!f.done){i.next=11;break}return i.abrupt("return");case 11:o.push(f.value);case 12:s++,i.next=7;break;case 15:return i.next=17,o;case 17:i.next=5;break;case 19:case"end":return i.stop()}}),v)}function E(n,r){var e;return i["default"].wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(void 0===r&&(r=n,n=1/0),n===1/0){t.next=6;break}if(n%1===0){t.next=4;break}throw new Error("repeat(n,seq): n must be a non-negative int or Infinity.");case 4:if(n>=0){t.next=6;break}throw new Error("repeat(n,seq): n must be a non-negative int or Infinity.");case 6:r=r instanceof Array||r instanceof Float32Array||r instanceof Float64Array||r instanceof Int8Array||r instanceof Int16Array||r instanceof Int32Array||r instanceof Uint8Array||r instanceof Uint16Array||r instanceof Uint32Array?r.slice():(0,o["default"])(r),e=n;case 8:if(!(e-- >0)){t.next=12;break}return t.delegateYield(r,"t0",10);case 10:t.next=8;break;case 12:case"end":return t.stop()}}),w)}},92733:function(n,r,e){"use strict";function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(n,r){return(n>r)-(n<r)};if(!(r instanceof Function))throw new Error("argmin(seq,compare_fn): compare_fn must be a function.");Symbol.iterator in n?n=n[Symbol.iterator]():console.warn("argmin(seq,compare_fn): seq[Symbol.iterator] does not exist.");for(var e=function(){var r=n.next();if(r.done)throw new Error("argmin(seq,compare_fn): seq must be an iterable containing at least one item.");return r.value}(),t=0,a=1;;a++){var o=n.next();if(o.done)return t;r(e,o.value)>0&&(t=a,e=o.value)}}function a(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(n,r){return(n>r)-(n<r)};if(!(r instanceof Function))throw new Error("argmax(seq,compare_fn): compare_fn must be a function.");return t(n,(function(n,e){return-r(n,e)}))}function o(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(n,r){return(n>r)-(n<r)};if(!(r instanceof Function))throw new Error("argmin(seq,compare_fn): compare_fn must be a function.");Symbol.iterator in n?n=n[Symbol.iterator]():console.warn("argmin(seq,compare_fn): seq[Symbol.iterator] does not exist.");for(var e=function(){var r=n.next();if(r.done)throw new Error("argmin(seq,compare_fn): seq must be an iterable containing at least one item.");return r.value}();;){var t=n.next();if(t.done)return e;r(e,t.value)>0&&(e=t.value)}}function i(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(n,r){return(n>r)-(n<r)};if(!(r instanceof Function))throw new Error("argmax(seq,compare_fn): compare_fn must be a function.");return o(n,(function(n,e){return-r(n,e)}))}e(21703),Object.defineProperty(r,"__esModule",{value:!0}),r.argmin=t,r.argmax=a,r.min=o,r.max=i},49595:function(n,r,e){"use strict";e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.KahanSum=void 0;var a=t(e(16125)),o=t(e(39885)),i=function(){function n(){(0,a["default"])(this,n),this.sum=this.rst=0}return(0,o["default"])(n,[{key:"set",value:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(isNaN(n*=1))throw new Error("Assertion failed.");if(isNaN(r*=1))throw new Error("Assertion failed.");this.sum=n,this.rst=r}},{key:"add",value:function(n){var r=n-this.rst,e=this.sum+r;this.rst=e-this.sum-r,this.sum=e}}]),n}();r.KahanSum=i},52894:function(n,r,e){"use strict";function t(n,r){var e=Math.max(Math.abs(n),Math.abs(r));if(0===e)return[1,0,0];n/=e,r/=e;var t=Math.sqrt(n*n+r*r);if(n/=t,r/=t,t*=e,!(0<=t))throw new Error("Assertion failed: "+t);return[n,r,t]}function a(n,r,e,t,a,o){if(r%1!==0)throw new Error("Assertion failed.");if(e%1!==0)throw new Error("Assertion failed.");if(t%1!==0)throw new Error("Assertion failed.");if(!(0<=r))throw new Error("Assertion failed.");if(!(0<=e))throw new Error("Assertion failed.");if(!(0<=t))throw new Error("Assertion failed.");if(0!==n.length%1)throw new Error("Assertion failed.");if(!(e<n.length-r+1))throw new Error("Assertion failed.");if(!(t<n.length-r+1))throw new Error("Assertion failed.");if(!(Math.abs(Math.hypot(a,o)-1)<=1e-6))throw new Error("Assertion failed.");r|=0,e|=0,t|=0,a=+a,o=+o;for(var i=0|r;i-- >0;){var s=n[e],f=n[t];n[e]=a*s+o*f,n[t]=a*f-o*s,e=e+1|0,t=t+1|0}}function o(n,r,e,t,a,o){if(!(Math.abs(Math.hypot(a,o)-1)<=1e-6))throw new Error("Assertion failed.");e|=0,t|=0,a=+a,o=+o;for(var i=0|r;i-- >0;){var s=n[e],f=n[t];n[e]=a*s-o*f,n[t]=a*f+o*s,e=e+r|0,t=t+r|0}}e(21703),e(25438),Object.defineProperty(r,"__esModule",{value:!0}),r._giv_rot_qr=t,r._giv_rot_rows=a,r._giv_rot_cols=o},12812:function(n,r){"use strict";function e(n,r,e,t){var a=Math.atan2(e-r,t+n),o=Math.atan2(e+r,t-n),i=(a-o)/2,s=(a+o)/2,f=Math.cos(i),u=Math.sin(i),l=Math.cos(s),c=Math.sin(s);if(a=l*(u*e+f*n)-c*(u*t+f*r),o=c*(f*e-u*n)+l*(f*t-u*r),Math.abs(a)<Math.abs(o)){var d=[f,-u];u=d[0],f=d[1];var h=[c,-l];l=h[0],c=h[1],a=o}return a<0&&(l=-l,c=-c),[f,u,l,c]}function t(n,r,e,t,o,i,s,f){n|=0,o|=0,s|=0;for(var u=0;u<n;u++)i[s+u]=e[n*u+u];a(n,r,t,o,i,s,f)}function a(n,r,e,t,a,o,i){n|=0,t|=0,o|=0;for(var s=n;s-- >0;){var f=a[o+s];if(f<0||Object.is(f,-0)){a[o+s]=-f;for(var u=0;u<n;u++)r[t+n*s+u]*=-1}}i.sort((function(n,r){return a[o+r]-a[o+n]}));for(var l=0;l<n;++l)for(var c=l;;){var d=i[c];if(i[c]=c,c=d,c<=l)break;for(var h=t+i[c]*n,p=t+c*n,v=0;v<n;v++){var w=r[h+v];r[h+v]=r[p+v],r[p+v]=w}for(var m=0;m<n;m++){var y=e[h+m];e[h+m]=e[p+m],e[p+m]=y}d=a[o+i[c]],a[o+i[c]]=a[o+c],a[o+c]=d}for(var g=0;g<n-1;g++)for(var _=g;++_<n;){var b=t+n*g+_,E=t+n*_+g,A=r[b];r[b]=r[E],r[E]=A}}Object.defineProperty(r,"__esModule",{value:!0}),r._svd_jac_angles=e,r._svd_jac_post=t,r._svd_jac_post_skip1=a},23608:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r._bidiag_decomp_horiz=d,r.bidiag_decomp=h;var a=t(e(42989)),o=e(30065),i=e(11882),s=e(52894),f=e(30716),u=e(13511);function l(n,r,e,t,o,i,l){n|=0,r|=0,t|=0,l|=0;var c=new f.FrobeniusNorm;if(n<r)throw new Error("Assertion failed.");for(var d=r;d-- >0;)i[l+r*d+d]=1;for(var h=0;h<r;h++){for(var p=t+r*h+h,v=h;++v<n;){var w=t+r*v+h,m=e[w];if(0!==m){var y=e[p],g=(0,s._giv_rot_qr)(y,m),_=(0,a["default"])(g,3),b=_[0],E=_[1],A=_[2];0!==E&&(b<0&&(b*=-1,E*=-1,A*=-1),(0,s._giv_rot_rows)(e,r-1-h,p+1,w+1,b,E),e[p]=A),e[w]=E}}if(h<r-2){c.reset();for(var x=r;--x>h+1;)c.include(e[t+r*h+x]);if(0===c.max)continue;var M=c.resultIncl(e[p+1])*(e[p+1]>0?-1:1);c.include(e[p+1]-=M);for(var k=c.max,P=Math.sqrt(c.sum),S=h;++S<r;)e[t+r*h+S]=e[t+r*h+S]/k/P;for(var O=0;O<r;O++){for(var N=0,j=h;++j<r;)N+=i[l+r*O+j]*e[t+r*h+j];N*=2;for(var F=h;++F<r;)i[l+r*O+F]-=e[t+r*h+F]*N}for(var R=h;++R<n;){for(var D=0,T=h;++T<r;)D+=e[t+r*R+T]*e[t+r*h+T];D*=2;for(var I=h;++I<r;)e[t+r*R+I]-=e[t+r*h+I]*D}e[p+1]=M,e.fill(0,p+2,t+r*(h+1))}}(0,u._transpose_inplace)(r,i,l);for(var L=r;--L>0;)o[l+r*L+L]=e[t+r*L+L],o[l+r*(L-1)+L]=e[t+r*(L-1)+L];o[l]=e[t];for(var C=0;C<r;C++)for(var q=C;q<r;q++)e[t+r*C+q]=+(C===q);for(var U=r;U-- >0;)for(var Y=n;--Y>U;){var z=e[t+r*Y+U];if(0!==z){e[t+r*Y+U]=0;var B=Math.sqrt((1+z)*(1-z));(0,s._giv_rot_rows)(e,r-U,t+r*Y+U,t+r*U+U,B,z)}}}function c(n,r,e,t,o){n|=0,o|=0;for(var i=new f.FrobeniusNorm,l=n;l-- >0;)r[o+n*l+l]=1;for(var c=n;c-- >0;)t[o+n*c+c]=1;for(var d=0;d<n-1;d++){for(var h=o+n*d+d,p=d;++p<n;){var v=o+n*p+d,w=e[v];if(0!==w){var m=e[h],y=(0,s._giv_rot_qr)(m,w),g=(0,a["default"])(y,3),_=g[0],b=g[1],E=g[2];e[v]=0,0!==b&&(e[h]=E,(0,s._giv_rot_rows)(e,n-1-d,h+1,v+1,_,b),(0,s._giv_rot_rows)(r,1+p,o+n*d,o+n*p,_,b))}}i.reset();for(var A=n;--A>d+1;)i.include(e[o+n*d+A]);if(0!==i.max){var x=i.resultIncl(e[h+1])*(e[h+1]>0?-1:1);i.include(e[h+1]-=x);for(var M=i.max,k=Math.sqrt(i.sum),P=d;++P<n;)e[o+n*d+P]=e[o+n*d+P]/M/k;for(var S=0;S<n;S++){for(var O=0,N=d;++N<n;)O+=t[o+n*S+N]*e[o+n*d+N];O*=2;for(var j=d;++j<n;)t[o+n*S+j]-=e[o+n*d+j]*O}for(var F=d;++F<n;){for(var R=0,D=d;++D<n;)R+=e[o+n*F+D]*e[o+n*d+D];R*=2;for(var T=d;++T<n;)e[o+n*F+T]-=e[o+n*d+T]*R}e[h+1]=x,e.fill(0,h+2,o+n*(d+1))}}(0,u._transpose_inplace)(n,t,o),(0,u._transpose_inplace)(n,r,o)}function d(n,r,e,t,o,i,l,c){if(n|=0,r|=0,t|=0,i|=0,c=c+r|0,!(n<=r))throw Error("Assertion failed.");for(var d=new f.FrobeniusNorm,h=n;h-- >0;)e[t+n*h+h]=1;for(var p=0;p<n&&p<r-1;p++){for(var v=c+r*p+p,w=p;++w<n;){var m=c+r*w+p,y=l[m];if(0!==y){var g=l[v],_=(0,s._giv_rot_qr)(g,y),b=(0,a["default"])(_,3),E=b[0],A=b[1],x=b[2];l[m]=0,0!==A&&(l[v]=x,(0,s._giv_rot_rows)(l,r-1-p,v+1,m+1,E,A),(0,s._giv_rot_rows)(e,1+w,t+n*p,t+n*w,E,A))}}var M=c+r*(p-1);d.reset();for(var k=r-1;;){var P=l[M+k]=l[c+r*p+k];if(--k<=p)break;d.include(P)}if(0!==d.max){var S=d.resultIncl(l[M+(p+1)])*(l[M+(p+1)]>0?-1:1);d.include(l[M+(p+1)]-=S);for(var O=d.max,N=Math.sqrt(d.sum),j=p;++j<r;)l[M+j]=l[M+j]/O/N;for(var F=p;++F<n;){for(var R=0,D=p;++D<r;)R+=l[c+r*F+D]*l[M+D];R*=2;for(var T=p;++T<r;)l[c+r*F+T]-=l[M+T]*R}l[v+1]=S}else l[M+(p+1)]=0}(0,u._transpose_inplace)(n,e,t);for(var I=n;I-- >0;)o[i+(n+1)*I+(I+1)]=I<r-1?l[c+r*I+(I+1)]:0,o[i+(n+1)*I+I]=l[c+r*I+I];for(var L=Math.min(n,r-1);;){if(--L,l.fill(0,c+r*L,c+r*(L+1)),l[c+r*L+(L+1)]=1,L<0)break;for(var C=c+r*(L-1),q=L;q<n;q++){for(var U=0,Y=L;++Y<r;)U+=l[c+r*q+Y]*l[C+Y];U*=2;for(var z=L;++z<r;)l[c+r*q+z]-=l[C+z]*U}}}function h(n){if(n=(0,o.asarray)(n),n.ndim<2)throw new Error("bidiag_decomp(A): A must be at least 2D.");if(n.dtype.startsWith("complex"))throw new Error("bidiag_decomp(A): complex A not yet supported.");var r="float32"===n.dtype?"float32":"float64",e=i.ARRAY_TYPES[r],t=Int32Array.from(n.shape),s=Int32Array.from(t),f=Int32Array.from(t),u=n.shape.slice(-2),h=(0,a["default"])(u,2),p=h[0],v=h[1],w=n.data.length/(p*v)|0,m=0|Math.min(p,v),y=0|(p>=v?m:m+1);t[t.length-1]=m,s[s.length-2]=m,s[s.length-1]=y,f[f.length-2]=y;var g=function(){if(p===v){for(var r=e.from(n.data),t=new e(r.length),a=new e(r.length),o=0;o<r.length;o+=v*v)c(v,t,r,a,o);return[t,r,a]}if(p>v){var i=e.from(n.data);n=void 0;for(var s=new e(w*v*v),f=new e(w*v*v),u=0,h=0;h<s.length;u+=p*v,h+=v*v)l(p,v,i,u,s,f,h);return[i,s,f]}var m=new e(w*(p+1)*v);if(!(p<v))throw new Error("Assertion failed.");n=n.data;for(var y=0,g=v;g<m.length;g+=v)for(var _=g+p*v;g<_;y++,g++)m[g]=n[y];n=void 0;for(var b=new e(w*p*p),E=new e(w*p*(p+1)),A=0,x=0,M=0;x<E.length;A+=p*p,x+=p*(p+1),M+=(p+1)*v)d(p,v,b,A,E,x,m,M);return[b,E,m]}(),_=(0,a["default"])(g,3),b=_[0],E=_[1],A=_[2];return[new o.NDArray(t,b),new o.NDArray(s,E),new o.NDArray(f,A)]}},9588:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r._cholesky_decomp=u,r.cholesky_decomp=l,r.cholesky_solve=c;var a=t(e(42989)),o=e(11882),i=e(49595),s=e(30065),f=e(14748);function u(n,r,e,t){if(!(n<=r))throw new Error("Assertion failed.");for(var a=new i.KahanSum,o=0;o<n;o++)for(var s=0;s<=o;s++){a.set(e[t+r*o+s]);for(var f=0;f<s;f++)a.add(-e[t+r*o+f]*e[t+r*s+f]);if(o>s)e[t+r*o+s]=a.sum/e[t+r*s+s];else if(e[t+r*o+o]=Math.sqrt(a.sum),isNaN(e[t+r*o+o]))throw new Error("Matrix contains NaNs or is (near) singular.")}}function l(n){n=(0,s.asarray)(n);var r="float32"===n.dtype?"float32":"float64",e=n.shape,t=e.slice(-2),i=(0,a["default"])(t,2),f=i[0],l=i[1];n=n.data;var c=new o.ARRAY_TYPES[r](n.length);if(f!=l)throw new Error("Last two dimensions must be quadratic.");for(var d=0;d<c.length;d+=f*f){for(var h=0;h<f;h++)for(var p=0;p<=h;p++)c[d+f*h+p]=n[d+f*h+p];u(f,f,c,d)}return new s.NDArray(e,c)}function c(n,r){if(n=(0,s.asarray)(n),r=(0,s.asarray)(r),n.ndim<2)throw new Error("L must be at least 2D.");if(r.ndim<2)throw new Error("y must be at least 2D.");var e=n.shape.slice(-2),t=(0,a["default"])(e,2),i=t[0],u=t[1],l=r.shape.slice(-2),c=(0,a["default"])(l,2),d=c[0],h=c[1];if(i!=u)throw new Error("Last two dimensions of L must be quadratic.");if(d!=u)throw new Error("L and y don't match.");var p=Math.max(n.ndim,r.ndim),v=Int32Array.from({length:p},(function(){return 1}));v[p-2]=d,v[p-1]=h;for(var w=0,m=[n,r];w<m.length;w++)for(var y=m[w],g=p-2,_=y.ndim-2;g-- >0&&_-- >0;)if(1===v[g])v[g]=y.shape[_];else if(v[g]!=y.shape[_]&&1!=y.shape[_])throw new Error("Shapes are not broadcast-compatible.");var b="float32"===n.dtype&&"float32"===r.dtype?"float32":"float64",E=new o.ARRAY_TYPES[b](v.reduce((function(n,r){return n*r}),1)),A=n.data,x=r.data,M=0,k=1,P=0,S=1,O=0;function N(e){if(e===p-2){k=i*i,S=i*h;for(var t=0;t<S;t++)E[O+t]=x[P+t];return(0,f._tril_solve)(d,d,h,A,M,E,O),(0,f._tril_t_solve)(d,d,h,A,M,E,O),M+=k,P+=S,void(O+=S)}for(var a=v[e];;a--){if(N(e+1),1==a)break;n.shape[e-p+n.ndim]>1||(M-=k),r.shape[e-p+r.ndim]>1||(P-=S)}k*=n.shape[e-p+n.ndim]||1,S*=r.shape[e-p+r.ndim]||1}return N(0),new s.NDArray(v,E)}},7319:function(n,r,e){"use strict";e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.slogdet=r.det=r.slogdet_tri=r.det_tri=void 0;var a=t(e(42989)),o=e(30065),i=e(11882),s=e(99777),f=function(n){if(n=(0,o.asarray)(n),n.ndim<2)throw new Error("det_tri(a): a.shape=[".concat(n.shape,"]; a.ndim must be at least 2."));var r=n.shape,e=r.slice(-2),t=(0,a["default"])(e,2),s=t[0],f=t[1];if(s!==f)throw new Error("det_tri(a): a must be square matrices.");var u=i.ARRAY_TYPES[n.dtype],l=n.data;n=void 0;for(var c=new u(l.length/(f*f)),d=0,h=0;d<c.length;d++){var p=h;h+=f*f;for(var v=1;p<h;p+=f+1)v*=l[p];c[d]=v}return new o.NDArray(r.slice(0,-2),c)};r.det_tri=f;var u=function(n){if(n=(0,o.asarray)(n),n.ndim<2)throw new Error("det_tri(A): A.ndim must be at least 2.");var r=n.shape,e=r.slice(-2),t=(0,a["default"])(e,2),s=t[0],f=t[1];if(s!==f)throw new Error("det_tri(A): A must be square matrices.");var u=i.ARRAY_TYPES["float32"===n.dtype?"float32":"float64"];n=n.data;for(var l=new u(n.length/(f*f)),c=new u(l.length),d=0,h=0;d<c.length;d++){var p=h;h+=f*f;for(var v=1,w=0;p<h;p+=f+1)v*=Math.sign(n[p]),w+=Math.log(Math.abs(n[p]));l[d]=v,c[d]=w}var m=r.slice(0,-2);return[new o.NDArray(m,l),new o.NDArray(m,c)]};r.slogdet_tri=u;var l=function(n){var r=(0,s.qr_decomp)(n),e=(0,a["default"])(r,2),t=(e[0],e[1]);return f(t)};r.det=l;var c=function(n){var r=(0,s.qr_decomp)(n),e=(0,a["default"])(r,2),t=(e[0],e[1]);return u(t)};r.slogdet=c},93992:function(n,r,e){"use strict";e(21703),e(85827),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.diag_mat=f,r.diag=u;var a=t(e(42989)),o=t(e(25069)),i=e(30065),s=e(11882);function f(n){if(n.ndim<1)throw new Error("diag_mat(diag): diag.ndim=".concat(n.ndim," is less than 1."));n=(0,i.asarray)(n);var r=n.shape,e=r[r.length-1],t=n.data,a=s.ARRAY_TYPES[n.dtype].from({length:r.reduce((function(n,r){return n*r}))*e},(function(){return 0}));if(n=void 0,r.length<1)throw new Error("diag_mat(diag): diag must be at least 1d.");if(e<=0)throw new Error("Assertion Failed!");for(var f=0,u=0;;){var l=f+e;while(1){if(a[u]=t[f],++f===l)break;u+=e+1}if(++u==a.length)break}return new i.NDArray(Int32Array.of.apply(Int32Array,(0,o["default"])(r).concat([e])),a)}function u(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(n.ndim<2)throw new Error("diag(A, offset): A.ndim=".concat(n.ndim," is less than 2."));n=(0,i.asarray)(n);var e=n.shape.slice(-2),t=(0,a["default"])(e,2),o=t[0],f=t[1],u=n.shape.slice(0,-1),l=s.ARRAY_TYPES[n.dtype];if(n=n.data,!(r>-o&&r<+f))throw new Error("diag(A, offset): offset=".concat(r," out of A.shape=[").concat(n.shape,"]."));var c=Math.min(o,o+r,f,f-r);u[u.length-1]=c;for(var d=new l(u.reduce((function(n,r){return n*r}))),h=Math.max(0,r,-r*f),p=0,v=0;v<n.length;p+=c,v+=o*f)for(var w=0;w<c;w++)d[p+w]=n[v+h+f*w+w];return new i.NDArray(u,d)}},88429:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.eigen=c,r.eigenvals=d,r.eigen_balance_pre=h,r.eigen_balance_post=v;var a=t(e(25069)),o=t(e(42989)),i=e(56493),s=e(30065),f=e(11882),u=e(45854),l=t(e(95551));function c(n){var r=h(n,2),e=(0,o["default"])(r,2),t=e[0],a=e[1],s=(0,i.schur_decomp)(a),f=(0,o["default"])(s,2),u=f[0],l=f[1],c=(0,i.schur_eigen)(u,l),d=(0,o["default"])(c,2),p=d[0],v=d[1];if(!v.dtype.startsWith("complex"))throw new Error("Assertion failed.");if(!t.dtype.startsWith("float"))throw new Error("Assertion failed.");for(var w=n.shape[n.ndim-1],m=new Float64Array(w),y=new Float64Array(w),g=v.data._array,_=t.data,b=0,E=0;E<g.length;b+=w,E+=2*w*w){m.fill(0),y.fill(0);for(var A=0;A<w;A++)for(var x=_[b+A],M=0;M<2*w;M++){var k=Math.abs(g[E+2*w*A+M]*=x);if(k>0){var P=M>>1;k>y[P]&&(m[P]*=Math.pow(y[P]/k,2),y[P]=k),m[P]+=Math.pow(k/y[P],2)}}for(var S=0;S<w;S++){var O=y[S];m[S]=isFinite(O)?Math.sqrt(m[S])*O:O}for(var N=0;N<w;N++)for(var j=0;j<2*w;j++)g[E+2*w*N+j]/=m[j>>1]}return[p,v]}function d(n){var r=h(n,2),e=(0,o["default"])(r,2),t=(e[0],e[1]),a=(0,i.schur_decomp)(t),s=(0,o["default"])(a,2),f=(s[0],s[1]);return(0,i.schur_eigenvals)(f)}function h(n,r){if(null==r&&(r=2),r>Number.MAX_VALUE)return p(n);var e=n.shape[n.ndim-1],t=f.ARRAY_TYPES["float32"===n.dtype?"float32":"float64"],a=n.shape,o=a.slice(0,-1);if(!(r>=1))throw new Error("Invalid norm p=".concat(r,";"));if(n.shape[n.ndim-2]!=e)throw new Error("A is not square");n=t.from(n.data);var i=new t(n.length/e),u=Math.pow(.95,1/r);i.fill(1);for(var l=n.length,c=i.length;l>0;){l-=e*e,c-=e;for(var d,h=!1;!h;)for(d=0,h=!0;d<e;d++){for(var v=0,w=0,m=0,y=0,g=0;g<e;g++)if(d!==g){var _=Math.abs(n[l+e*d+g]);if(_>0){if(_>y){var b=y/_;y=_,m*=Math.pow(b,r)}var E=_/y;m+=Math.pow(E,r)}var A=Math.abs(n[l+e*g+d]);if(A>0){if(A>w){var x=w/A;w=A,v*=Math.pow(x,r)}var M=A/w;v+=Math.pow(M,r)}}if(m=isFinite(m)?Math.pow(m,1/r)*y:m,v=isFinite(v)?Math.pow(v,1/r)*w:v,m*v!=0){if(!isFinite(m*v))throw new Error("NaN encountered.");var k=v>=m?Math.pow(1+Math.pow(m/v,r),1/r)*v:Math.pow(1+Math.pow(v/m,r),1/r)*m,P=1;while(m>=2*v)v*=2,m/=2,P*=2;while(v>=2*m)v/=2,m*=2,P/=2;var S=v>=m?Math.pow(1+Math.pow(m/v,r),1/r)*v:Math.pow(1+Math.pow(v/m,r),1/r)*m;if(!(S>=u*k)){h=!1,i[c+d]*=P;for(var O=0;O<e;O++)n[l+e*d+O]/=P,n[l+e*O+d]*=P}}}}return[new s.NDArray(o,i),new s.NDArray(a,n)]}function p(n){var r=n.shape[n.ndim-1],e=f.ARRAY_TYPES["float32"===n.dtype?"float32":"float64"],t=n.shape,a=t.slice(0,-1);if(n.shape[n.ndim-2]!=r)throw new Error("A is not square");n=e.from(n.data);var o=new e(n.length/r);o.fill(1);for(var i=n.length,u=o.length;i>0;){i-=r*r,u-=r;for(var l,c=!1;!c;)for(l=0,c=!0;l<r;l++){for(var d=0,h=0,p=0;p<r;p++)if(l!==p){var v=Math.abs(n[i+r*l+p]);h=Math.max(h,v);var w=Math.abs(n[i+r*p+l]);d=Math.max(d,w)}if(h*d!==0){var m=Math.max(d,h);if(0!=m){if(!isFinite(m))throw new Error("NaN encountered.");var y=1;while(h>=2*d)d*=2,h/=2,y*=2;while(d>=2*h)d/=2,h*=2,y/=2;var g=Math.max(d,h);if(!(g>=m)){c=!1,o[u+l]*=y;for(var _=0;_<r;_++)n[i+r*l+_]/=y,n[i+r*_+l]*=y}}}}}return[new s.NDArray(a,o),new s.NDArray(t,n)]}function v(n,r){if(r.ndim<2)throw new Error("eigen_balance_post(D,V): V.ndim must be at least 2.");var e=r.shape.slice(-2),t=(0,o["default"])(e,2),i=t[0],s=t[1];if(i!==s)throw new Error("eigen_balance_post(D,V): V must be square.");var c=f.ARRAY_TYPES["float64"],d=(0,u.zip_elems)([r,n.reshape.apply(n,(0,a["default"])(n.shape).concat([1]))],"complex128",l["default"].mul);r=d.data;for(var h=new c(s),p=new c(s),v=0;v<r.length;v+=i*s){h.fill(0),p.fill(0);for(var w=0;w<s;w++)for(var m=0;m<s;m++){var y=l["default"].abs(r[v+s*w+m]);y>0&&(y>p[m]&&(h[m]*=Math.pow(p[m]/y,2),p[m]=y),h[m]+=Math.pow(y/p[m],2))}for(var g=0;g<s;g++){var _=p[g];h[g]=isFinite(_)?Math.sqrt(h[g])*_:_}for(var b=0;b<s;b++)for(var E=0;E<s;E++)r[v+s*b+E]=l["default"].div(r[v+s*b+E],h[E])}return d}},34955:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.eye=s;var a=t(e(42989)),o=e(11882),i=e(30065);function s(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];var t=r[0]in o.ARRAY_TYPES?r.shift():"float64";if(r.length<1)throw new Error("Size parameter missing.");1==r.length&&r.push(r[r.length-1]),r=Int32Array.from(r,(function(n){if(0!==n%1)throw new Error("eye(): Invalid shape [".concat(r,"]."));return n}));for(var s=new o.ARRAY_TYPES[t](r.reduce((function(n,r){return n*r}))),f=r.slice(-2),u=(0,a["default"])(f,2),l=u[0],c=u[1],d=s.length;(d-=l*c)>=0;)for(var h=Math.min(l,c);h-- >0;)s[d+c*h+h]=1;var p=new i.NDArray(r,s);return p}},30128:function(n,r,e){"use strict";e(21703),Object.defineProperty(r,"__esModule",{value:!0}),r._hessenberg_decomp=i,r.hessenberg_decomp=s;var t=e(30065),a=e(11882),o=e(30716);function i(n,r,e,t){n|=0,t|=0;for(var a=n-1;a-- >0;)r[t+n*a+a]=1;for(var i=new o.FrobeniusNorm,s=t+n*(n-1),f=n;--f>1;){var u=t+n*f,l=u+(f-1);i.reset();for(var c=f-1;c-- >0;)i.include(e[u+c]);if(0!==i.max){var d=i.resultIncl(e[l])*(e[l]>0?-1:1);i.include(e[l]-=d);for(var h=i.max,p=Math.sqrt(i.sum),v=f;v-- >0;)e[u+v]=e[u+v]/h*Math.SQRT2/p;for(var w=f;w-- >0;){for(var m=0,y=f;y-- >0;)m+=e[t+n*w+y]*e[u+y];for(var g=f;g-- >0;)e[t+n*w+g]-=e[u+g]*m}r.fill(0,s,t+n*n);for(var _=f;_-- >0;)for(var b=n;b-- >0;)r[s+b]+=e[t+n*_+b]*e[u+_];for(var E=f;E-- >0;)for(var A=n;A-- >0;)e[t+n*E+A]-=e[u+E]*r[s+A];for(var x=n-1;x-- >0;){for(var M=0,k=f;k-- >0;)M+=r[t+n*x+k]*e[u+k];for(var P=f;P-- >0;)r[t+n*x+P]-=e[u+P]*M}e.fill(0,u,l),e[l]=d}}r.fill(0,s,t+n*n-1),r[t+n*n-1]=1}function s(n){if(n=(0,t.asarray)(n),n.ndim<2)throw new Error("hessenberg_decomp(A): A must at least be 2D.");n.dtype;var r=a.ARRAY_TYPES["float32"===n.dtype?"float32":"float64"],e=n.shape,o=0|e[e.length-1];if(o!=e[e.length-2])throw new Error("hessenberg_decomp(A): A must be square.");var s=r.from(n.data);n=void 0;for(var f=new r(s.length),u=s.length;(u-=o*o)>=0;)i(o,f,s,u);return[new t.NDArray(e,f),new t.NDArray(e,s)]}},33250:function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t={cholesky_decomp:!0,cholesky_solve:!0,hessenberg_decomp:!0,ldl_decomp:!0,ldl_solve:!0,norm:!0,pldlp_decomp:!0,pldlp_solve:!0,pldlp_l:!0,pldlp_d:!0,pldlp_p:!0,qr_decomp:!0,qr_decomp_full:!0,qr_lstsq:!0,rrqr_decomp:!0,rrqr_decomp_full:!0,rrqr_rank:!0,rrqr_lstsq:!0,rrqr_solve:!0,srrqr_decomp_full:!0,solve:!0,svd_dc:!0,tril:!0,triu:!0,tril_solve:!0,triu_solve:!0,urv_decomp_full:!0,urv_lstsq:!0};Object.defineProperty(r,"cholesky_decomp",{enumerable:!0,get:function(){return o.cholesky_decomp}}),Object.defineProperty(r,"cholesky_solve",{enumerable:!0,get:function(){return o.cholesky_solve}}),Object.defineProperty(r,"hessenberg_decomp",{enumerable:!0,get:function(){return l.hessenberg_decomp}}),Object.defineProperty(r,"ldl_decomp",{enumerable:!0,get:function(){return c.ldl_decomp}}),Object.defineProperty(r,"ldl_solve",{enumerable:!0,get:function(){return c.ldl_solve}}),Object.defineProperty(r,"norm",{enumerable:!0,get:function(){return v.norm}}),Object.defineProperty(r,"pldlp_decomp",{enumerable:!0,get:function(){return m.pldlp_decomp}}),Object.defineProperty(r,"pldlp_solve",{enumerable:!0,get:function(){return m.pldlp_solve}}),Object.defineProperty(r,"pldlp_l",{enumerable:!0,get:function(){return m.pldlp_l}}),Object.defineProperty(r,"pldlp_d",{enumerable:!0,get:function(){return m.pldlp_d}}),Object.defineProperty(r,"pldlp_p",{enumerable:!0,get:function(){return m.pldlp_p}}),Object.defineProperty(r,"qr_decomp",{enumerable:!0,get:function(){return y.qr_decomp}}),Object.defineProperty(r,"qr_decomp_full",{enumerable:!0,get:function(){return y.qr_decomp_full}}),Object.defineProperty(r,"qr_lstsq",{enumerable:!0,get:function(){return y.qr_lstsq}}),Object.defineProperty(r,"rrqr_decomp",{enumerable:!0,get:function(){return b.rrqr_decomp}}),Object.defineProperty(r,"rrqr_decomp_full",{enumerable:!0,get:function(){return b.rrqr_decomp_full}}),Object.defineProperty(r,"rrqr_rank",{enumerable:!0,get:function(){return b.rrqr_rank}}),Object.defineProperty(r,"rrqr_lstsq",{enumerable:!0,get:function(){return b.rrqr_lstsq}}),Object.defineProperty(r,"rrqr_solve",{enumerable:!0,get:function(){return b.rrqr_solve}}),Object.defineProperty(r,"srrqr_decomp_full",{enumerable:!0,get:function(){return E.srrqr_decomp_full}}),Object.defineProperty(r,"solve",{enumerable:!0,get:function(){return M.solve}}),Object.defineProperty(r,"svd_dc",{enumerable:!0,get:function(){return P.svd_dc}}),Object.defineProperty(r,"tril",{enumerable:!0,get:function(){return j.tril}}),Object.defineProperty(r,"triu",{enumerable:!0,get:function(){return j.triu}}),Object.defineProperty(r,"tril_solve",{enumerable:!0,get:function(){return j.tril_solve}}),Object.defineProperty(r,"triu_solve",{enumerable:!0,get:function(){return j.triu_solve}}),Object.defineProperty(r,"urv_decomp_full",{enumerable:!0,get:function(){return F.urv_decomp_full}}),Object.defineProperty(r,"urv_lstsq",{enumerable:!0,get:function(){return F.urv_lstsq}});var a=e(23608);Object.keys(a).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return a[n]}}))}));var o=e(9588),i=e(93992);Object.keys(i).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return i[n]}}))}));var s=e(7319);Object.keys(s).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return s[n]}}))}));var f=e(88429);Object.keys(f).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return f[n]}}))}));var u=e(34955);Object.keys(u).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return u[n]}}))}));var l=e(30128),c=e(88235),d=e(47617);Object.keys(d).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return d[n]}}))}));var h=e(73564);Object.keys(h).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return h[n]}}))}));var p=e(48782);Object.keys(p).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return p[n]}}))}));var v=e(30716),w=e(43592);Object.keys(w).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return w[n]}}))}));var m=e(93769),y=e(99777),g=e(32515);Object.keys(g).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return g[n]}}))}));var _=e(67548);Object.keys(_).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return _[n]}}))}));var b=e(5323),E=e(97619),A=e(56493);Object.keys(A).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return A[n]}}))}));var x=e(27871);Object.keys(x).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return x[n]}}))}));var M=e(34071),k=e(29362);Object.keys(k).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return k[n]}}))}));var P=e(48660),S=e(69305);Object.keys(S).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return S[n]}}))}));var O=e(31221);Object.keys(O).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return O[n]}}))}));var N=e(15445);Object.keys(N).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(t,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return N[n]}}))}));var j=e(14748),F=e(63119)},88235:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r._ldl_decomp=s,r.ldl_decomp=f,r._ldl_solve=u,r.ldl_solve=l;var a=t(e(42989)),o=e(11882),i=e(30065);function s(n,r,e,t){if(!(n<=r))throw new Error("Assertion failed.");for(var a=0;a<n;a++){for(var o=0;o<a;o++)for(var i=e[t+r*a+o]*e[t+r*o+o],s=a;s<n;s++)e[t+r*s+a]-=e[t+r*s+o]*i;for(var f=a;++f<n;)e[t+r*f+a]/=e[t+r*a+a]}}function f(n){n=(0,i.asarray)(n);var r=o.ARRAY_TYPES["float32"===n.dtype?"float32":"float64"],e=n.shape,t=e.slice(-2),f=(0,a["default"])(t,2),u=f[0],l=f[1];if(n=n.data,u!==l)throw new Error("Last two dimensions must be quadratic.");for(var c=new r(n.length),d=0;d<c.length;d+=u*u){for(var h=0;h<u;h++)for(var p=0;p<=h;p++)c[d+u*h+p]=n[d+u*h+p];s(u,u,c,d)}return new i.NDArray(e,c)}function u(n,r,e,t,a,o,i){if(0!==t.length%1)throw new Error("Assertion failed.");if(0!==o.length%1)throw new Error("Assertion failed.");if(0!==a%1)throw new Error("Assertion failed.");if(0!==i%1)throw new Error("Assertion failed.");if(0!==n%1)throw new Error("Assertion failed.");if(0!==r%1)throw new Error("Assertion failed.");if(0!==e%1)throw new Error("Assertion failed.");if(t.length-a<n*r)throw new Error("Assertion failed.");if(o.length-i<n*e)throw new Error("Assertion failed.");if(!(0<n))throw new Error("Assertion failed.");if(!(0<r))throw new Error("Assertion failed.");if(!(0<e))throw new Error("Assertion failed.");if(!(n<=r))throw new Error("Assertion failed.");for(var s=1;s<n;s++)for(var f=0;f<s;f++)for(var u=0;u<e;u++)o[i+e*s+u]-=t[a+r*s+f]*o[i+e*f+u];for(var l=0;l<n;l++)for(var c=0;c<e;c++)o[i+e*l+c]/=t[a+r*l+l];for(var d=n;d-- >1;)for(var h=d;h-- >0;)for(var p=e;p-- >0;)o[i+e*h+p]-=t[a+r*d+h]*o[i+e*d+p]}function l(n,r){if(n=(0,i.asarray)(n),r=(0,i.asarray)(r),n.ndim<2)throw new Error("ldl_solve(LD,y): LD must be at least 2D.");if(r.ndim<2)throw new Error("ldl_solve(LD,y): y must be at least 2D.");var e=n.shape.slice(-2),t=(0,a["default"])(e,2),s=t[0],f=t[1],l=r.shape.slice(-2),c=(0,a["default"])(l,2),d=c[0],h=c[1];if(s!=f)throw new Error("ldl_solve(LD,y): Last two dimensions of LD must be quadratic.");if(d!=f)throw new Error("ldl_solve(LD,y): LD and y don't match.");var p=Math.max(n.ndim,r.ndim),v=Int32Array.from({length:p},(function(){return 1}));v[p-2]=d,v[p-1]=h;for(var w=0,m=[n,r];w<m.length;w++)for(var y=m[w],g=p-2,_=y.ndim-2;g-- >0&&_-- >0;)if(1===v[g])v[g]=y.shape[_];else if(v[g]!=y.shape[_]&&1!=y.shape[_])throw new Error("Shapes are not broadcast-compatible.");var b="float32"===n.dtype&&"float32"===r.dtype?"float32":"float64",E=new o.ARRAY_TYPES[b](v.reduce((function(n,r){return n*r}),1)),A=n.data,x=r.data,M=0,k=1,P=0,S=1,O=0;function N(e){if(e===p-2){k=s*s,S=s*h;for(var t=0;t<S;t++)E[O+t]=x[P+t];return u(s,s,h,A,M,E,O),M+=k,P+=S,void(O+=S)}for(var a=v[e];;a--){if(N(e+1),1==a)break;n.shape[e-p+n.ndim]>1||(M-=k),r.shape[e-p+r.ndim]>1||(P-=S)}k*=n.shape[e-p+n.ndim]||1,S*=r.shape[e-p+r.ndim]||1}return N(0),new i.NDArray(v,E)}},47617:function(n,r,e){"use strict";var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.lstsq=i;var a=t(e(42989)),o=e(29362);function i(n,r){var e=(0,o.svd_decomp)(n),t=(0,a["default"])(e,3),i=t[0],s=t[1],f=t[2];return(0,o.svd_lstsq)(i,s,f,r)}},73564:function(n,r,e){"use strict";e(48675),e(3462),e(21703),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.lu_decomp=f,r.lu_solve=u;var a=t(e(42989)),o=e(30065),i=e(11882),s=e(14748);function f(n){n=(0,o.asarray)(n);var r=i.ARRAY_TYPES["float32"===n.dtype?"float32":"float64"].from(n.data),e=n.shape.slice(-2),t=(0,a["default"])(e,2),s=t[0],f=t[1],u=new Int32Array(r.length/f);if(s!=f)throw new Error("Last two dimensions must be quadratic.");for(var l=0,c=0;l<r.length;l+=s*s,c+=s){for(var d=0;d<s;d++)u[c+d]=d;for(var h=0;h<s;h++){for(var p=l+h*s,v=h,w=h+1;w<s;w++)Math.abs(r[l+s*w+h])>Math.abs(r[l+s*v+h])&&(v=w);if(h!=v){var m=u[c+h];u[c+h]=u[c+v],u[c+v]=m;for(var y=l+v*s,g=0;g<s;g++){var _=r[p+g];r[p+g]=r[y+g],r[y+g]=_}}for(var b=h+1;b<s;b++){var E=l+b*s,A=r[E+h]/r[p+h];r[E+h]=A;for(var x=h+1;x<s;x++)r[E+x]-=A*r[p+x]}}}return[new o.NDArray(n.shape,r),new o.NDArray(n.shape.slice(0,-1),u)]}function u(n,r,e){if(void 0==e){e=r;var t=n,f=(0,a["default"])(t,2);n=f[0],r=f[1]}if(n=(0,o.asarray)(n),n.ndim<2)throw new Error("LU must be at least 2D.");if(r=(0,o.asarray)(r),r.ndim<1)throw new Error("P must be at least 1D.");if(e=(0,o.asarray)(e),e.ndim<2)throw new Error("y must be at least 2D.");var u=n.shape.slice(-2),l=(0,a["default"])(u,2),c=l[0],d=l[1],h=e.shape.slice(-2),p=(0,a["default"])(h,2),v=p[0],w=p[1];if(d!=c)throw new Error("Last two dimensions of LU must be quadratic.");if(d!=v)throw new Error("LU and y don't match.");if(d!=r.shape.slice(-1))throw new Error("LU and P don't match.");var m=Math.max(n.ndim,r.ndim+1,e.ndim),y=Int32Array.from({length:m},(function(){return 1}));y[m-2]=v,y[m-1]=w;for(var g=0,_=[n,e];g<_.length;g++)for(var b=_[g],E=m-2,A=b.ndim-2;E-- >0&&A-- >0;)if(1===y[E])y[E]=b.shape[A];else if(y[E]!=b.shape[A]&&1!=b.shape[A])throw new Error("LU and y are not broadcast-compatible.");for(var x=m-2,M=r.ndim-1;x-- >0&&M-- >0;)if(1===y[x])y[x]=r.shape[M];else if(y[x]!=r.shape[M]&&1!=r.shape[M])throw new Error("P is not broadcast-compatible.");var k=new(i.ARRAY_TYPES[[n,r,e].every((function(n){return"float32"===n.dtype}))?"float32":"float64"])(y.reduce((function(n,r){return n*r}),1)),P=n.data,S=r.data,O=e.data,N=0,j=1,F=0,R=1,D=0,T=1,I=0;function L(t){if(t===m-2){j=c*c,R=c,T=c*w;for(var a=0;a<v;a++)for(var o=I+w*a,i=D+w*S[F+a],f=0;f<w;f++)k[o+f]=O[i+f];for(var u=0;u<v;u++)for(var l=0;l<w;l++)for(var d=0;d<u;d++)k[I+u*w+l]-=P[N+c*u+d]*k[I+d*w+l];return(0,s._triu_solve)(v,v,w,P,N,k,I),N+=j,F+=R,D+=T,void(I+=T)}for(var h=y[t];;h--){if(L(t+1),1==h)break;n.shape[t-m+n.ndim]>1||(N-=j),r.shape[t-m+r.ndim+1]>1||(F-=R),e.shape[t-m+e.ndim]>1||(D-=T)}j*=n.shape[t-m+n.ndim]||1,R*=r.shape[t-m+r.ndim+1]||1,T*=e.shape[t-m+e.ndim]||1}return L(0),new o.NDArray(y,k)}},48782:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.matmul2=m,r.matmul=y;var a=t(e(25069)),o=t(e(9545)),i=t(e(42989)),s=e(30065),f=e(11882),u=t(e(95551)),l=o["default"].mark((function n(){var r;return o["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=function(n){return new Function("A_shape","A","B_shape","B","C_shape","C","\n      const I = A_shape[A_shape.length-2],\n            K = A_shape[A_shape.length-1],\n            J = B_shape[B_shape.length-1]; \n      let\n        a = 0, aStride = 1,\n        b = 0, bStride = 1,\n        c = 0;\n\n      const loops = new Int32Array(C_shape.length-2);\n      for( let d=0; d >= 0; )\n        if( d === C_shape.length-2 ) {\n          aStride = I*K;\n          bStride = K*J;\n          for( const cEnd = c + I*J; c < cEnd; c += J, b -= bStride ) {\n          for( const aEnd = a + K  ; a < aEnd; c -= J, a++ ) {\n          for( const bEnd = b +   J; b < bEnd; c += 1, b++ ) {\n            ".concat(n,"\n          }}}\n          b += bStride;\n          d -= 1;\n        }\n        else\n        {\n          if( loops[d]++ > 0 ) {\n            if( loops[d] > C_shape[d] ) {\n              aStride *= A_shape[ d - C_shape.length + A_shape.length ] || 1;\n              bStride *= B_shape[ d - C_shape.length + B_shape.length ] || 1;\n              loops[d--] = 0;\n              continue;\n            }\n            if( ! (A_shape[ d - C_shape.length + A_shape.length ] > 1) ) a -= aStride;\n            if( ! (B_shape[ d - C_shape.length + B_shape.length ] > 1) ) b -= bStride;\n          }\n          ++d;\n        }\n    "))},n.next=3,r("C[c] += A[a]*B[b];");case 3:return n.next=5,r("\n    C[2*c+0] += A[a] * B[2*b+0];\n    C[2*c+1] += A[a] * B[2*b+1];\n  ");case 5:return n.next=7,r("\n    C[2*c+0] += B[b] * A[2*a+0];\n    C[2*c+1] += B[b] * A[2*a+1];\n  ");case 7:return n.next=9,r("\n    C[2*c+0] += B[2*b+0] * A[2*a+0]  -  B[2*b+1] * A[2*a+1];\n    C[2*c+1] += B[2*b+0] * A[2*a+1]  +  B[2*b+1] * A[2*a+0];\n  ");case 9:return n.next=11,r("C[c] = this.add(C[c], this.mul(A[a],B[b]));").bind(u["default"]);case 11:case"end":return n.stop()}}),n)}))(),c=(0,i["default"])(l,5),d=c[0],h=c[1],p=c[2],v=c[3],w=c[4];function m(n,r){if(n=(0,s.asarray)(n),r=(0,s.asarray)(r),n.ndim<2)throw new Error("A must be at least 2D.");if(r.ndim<2)throw new Error("B must be at least 2D.");var e=n.shape.slice(-2),t=(0,i["default"])(e,2),a=t[0],o=t[1],u=r.shape[r.ndim-1];if(r.shape[r.ndim-2]!=o)throw new Error("The last dimension of A and the 2nd to last dimension of B do not match.");var l=Math.max(n.ndim,r.ndim),c=Int32Array.from({length:l},(function(){return 1}));c[l-2]=a,c[l-1]=u;for(var m=0,y=[n,r];m<y.length;m++)for(var g=y[m],_=l-2,b=g.ndim-2;_-- >0&&b-- >0;)if(1===c[_])c[_]=g.shape[b];else if(c[_]!=g.shape[b]&&1!=g.shape[b])throw new Error("Shapes are not broadcast-compatible.");var E=f.ARRAY_TYPES[(0,f.super_dtype)(n.dtype,r.dtype)],A=new E(c.reduce((function(n,r){return n*r}),1));A instanceof Array&&A.fill(0);for(var x=0,M=0,k=[n,r];M<k.length;M++){var P=k[M];switch(x*=3,P.dtype){default:x+=1;case"complex128":x+=1;case"int32":case"float32":case"float64":}}switch(x){case 0:d(n.shape,n.data,r.shape,r.data,c,A);break;case 1:h(n.shape,n.data,r.shape,r.data._array,c,A._array);break;case 3:p(n.shape,n.data._array,r.shape,r.data,c,A._array);break;case 4:v(n.shape,n.data._array,r.shape,r.data._array,c,A._array);break;default:w(n.shape,n.data,r.shape,r.data,c,A);break}return new s.NDArray(c,A)}function y(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];if(r=r.map((function(n){return(0,s.asarray)(n)})),1==r.length)return r[0];if(2==r.length)return m.apply(void 0,(0,a["default"])(r));function t(n,r){var e=n.slice(-2),t=(0,i["default"])(e,2),a=t[0],o=t[1],s=r[r.length-1];if(r[r.length-2]!=o)throw new Error("Shape mismatch.");var f=Math.max(n.length,r.length),u=Int32Array.from({length:f},(function(){return 1}));u[f-2]=a,u[f-1]=s;for(var l=0,c=[n,r];l<c.length;l++)for(var d=c[l],h=f-2,p=d.length-2;h-- >0&&p-- >0;)if(1===u[h])u[h]=d[p];else if(u[h]!=d[p]&&1!=d[p])throw new Error("Shapes are not broadcast-compatible.");return[u.reduce((function(n,r){return n*r}),1)*o,u]}for(var o=Array.from({length:r.length},(function(){return[]})),f=0;f<r.length;f++)o[f][f]=[0,r[f].shape];for(var u=2;u<=r.length;u++)for(var l=0;l<=r.length-u;l++){for(var c=1/0,d=void 0,h=1;h<u;h++){var p=(0,i["default"])(o[l][l+h-1],2),v=p[0],w=p[1],y=(0,i["default"])(o[l+h][l+u-1],2),g=y[0],_=y[1],b=t(w,_),E=(0,i["default"])(b,2),A=E[0],x=E[1];A+=v+g,A<c&&(c=A,d=x)}if(void 0===d)throw new Error("Integer overflow (too many FLOPs).");o[l][l+u-1]=[c,d]}function M(n,e){if(n==e)return r[n];for(var a,s=1/0,f=n;f<e;f++){var u=(0,i["default"])(o[n][f],2),l=u[0],c=u[1],d=(0,i["default"])(o[f+1][e],2),h=d[0],p=d[1],v=t(c,p),w=(0,i["default"])(v,2),y=w[0];w[1];y+=l+h,y<s&&(s=y,a=f)}return m(M(n,a),M(a+1,e))}return M(0,r.length-1)}},30716:function(n,r,e){"use strict";e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.norm=c,r.FrobeniusNorm=void 0;var a=t(e(16125)),o=t(e(39885)),i=e(30065);function s(n,r){var e;if("undefined"===typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=f(n))||r&&n&&"number"===typeof n.length){e&&(n=e);var t=0,a=function(){};return{s:a,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return i=n.done,n},e:function(n){s=!0,o=n},f:function(){try{i||null==e["return"]||e["return"]()}finally{if(s)throw o}}}}function f(n,r){if(n){if("string"===typeof n)return u(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(n,r):void 0}}function u(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}var l=function(){function n(){(0,a["default"])(this,n),this.sum=0,this.max=0,Object.seal(this)}return(0,o["default"])(n,[{key:"reset",value:function(){this.sum=this.max=0}},{key:"include",value:function(n){if(n=Math.abs(n),0!==n){if(this.max<n){var r=this.max/n;this.sum*=r*r,this.max=n}n/=this.max,this.sum+=n*n}}},{key:"resultIncl",value:function(n){n=Math.abs(n);var r=this.sum,e=this.max;if(0!==n){if(e<n){var t=e/n;r*=t*t,e=n}n/=e,r+=n*n}return isFinite(e)?Math.sqrt(r)*e:e}},{key:"result",get:function(){var n=this.max,r=this.sum;return isFinite(n)?Math.sqrt(r)*n:n}},{key:"resultSquare",get:function(){var n=this.max,r=this.sum;return isFinite(n)?r*n*n:n}}]),n}();function c(n){var r,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fro",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;switch(n=(0,i.asarray)(n),e){case"fro":r=new l;break;default:throw new Error("norm(A,ord,axis): Unsupported ord: ".concat(e,"."))}if(null==t){var a,o=s(n.data);try{for(o.s();!(a=o.n()).done;){var f=a.value;r.include(f)}}catch(u){o.e(u)}finally{o.f()}return r.result}throw new Error("norm(A,ord,axis): axis argument not yet supported.")}r.FrobeniusNorm=l},43592:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.permute_rows=s,r.permute_cols=f,r.unpermute_rows=u,r.unpermute_cols=l;var a=t(e(42989)),o=e(30065),i=e(11882);function s(n,r){if(n=(0,o.asarray)(n),n.ndim<2)throw new Error("permute_rows(A,P): A.ndim must be at least 2.");if(r=(0,o.asarray)(r),r.ndim<1)throw new Error("permute_rows(A,P): P.ndim must be at least 1.");if("int32"!==r.dtype)throw new Error('permute_rows(A,P): P.dtype must be "int32".');var e=Math.max(n.ndim,r.ndim+1),t=Int32Array.from({length:e},(function(){return 1})),s=n.shape.slice(-2),f=(0,a["default"])(s,2),u=f[0],l=f[1];if(u!==r.shape[r.ndim-1])throw new Error("permute_rows(A,P): A.shape[-2] and P.shape[-1] must match.");for(var c=e,d=n.ndim;c-- >0&&d-- >0;)t[c]=n.shape[d];for(var h=e-2,p=r.ndim-1;h-- >0&&p-- >0;)if(1===t[h])t[h]=r.shape[p];else if(t[h]!=r.shape[p]&&1!=r.shape[p])throw new Error("permute_rows(A,P): A and P not broadcast-compatible.");var v=new i.ARRAY_TYPES[n.dtype](t.reduce((function(n,r){return n*r}))),w=n.shape,m=n.ndim,y=r.shape,g=r.ndim;n=n.data,r=r.data;var _=0,b=-1,E=0,A=-1,x=0;function M(a){if(a===e-2){for(var o=0;o<u;o++){var i=r[E+o];if(!(i>=0))throw new Error("permute_rows(A,P): P.contains invalid indices.");if(!(i<u))throw new Error("permute_rows(A,P): P.contains invalid indices.");for(var s=0;s<l;s++)v[x+l*o+s]=n[_+l*i+s]}return _+=b=u*l,E+=A=u,void(x+=b)}for(var f=t[a];;f--){if(M(a+1),1===f)break;w[a-e+m]>1||(_-=b),y[a-e+1+g]>1||(E-=A)}b*=w[a-e+m]||1,A*=y[a-e+1+g]||1}return M(0),new o.NDArray(t,v)}function f(n,r){if(n=(0,o.asarray)(n),n.ndim<2)throw new Error("permute_cols(A,P): A.ndim must be at least 2.");if(r=(0,o.asarray)(r),r.ndim<1)throw new Error("permute_cols(A,P): P.ndim must be at least 1.");if("int32"!==r.dtype)throw new Error('permute_cols(A,P): P.dtype must be "int32".');var e=Math.max(n.ndim,r.ndim+1),t=Int32Array.from({length:e},(function(){return 1})),s=n.shape.slice(-2),f=(0,a["default"])(s,2),u=f[0],l=f[1];if(l!==r.shape[r.ndim-1])throw new Error("permute_cols(A,P): A.shape[-1] and P.shape[-1] must match.");for(var c=e,d=n.ndim;c-- >0&&d-- >0;)t[c]=n.shape[d];for(var h=e-2,p=r.ndim-1;h-- >0&&p-- >0;)if(1===t[h])t[h]=r.shape[p];else if(t[h]!=r.shape[p]&&1!=r.shape[p])throw new Error("permute_cols(A,P): A and P not broadcast-compatible.");var v=new i.ARRAY_TYPES[n.dtype](t.reduce((function(n,r){return n*r}))),w=n.shape,m=n.ndim,y=r.shape,g=r.ndim;n=n.data,r=r.data;var _=0,b=-1,E=0,A=-1,x=0;function M(a){if(a===e-2){for(var o=0;o<u;o++)for(var i=0;i<l;i++){var s=r[E+i];if(!(s>=0))throw new Error("permute_cols(A,P): P.contains invalid indices.");if(!(s<l))throw new Error("permute_cols(A,P): P.contains invalid indices.");v[x+l*o+i]=n[_+l*o+s]}return _+=b=u*l,E+=A=l,void(x+=b)}for(var f=t[a];;f--){if(M(a+1),1===f)break;w[a-e+m]>1||(_-=b),y[a-e+1+g]>1||(E-=A)}b*=w[a-e+m]||1,A*=y[a-e+1+g]||1}return M(0),new o.NDArray(t,v)}function u(n,r){if(n=(0,o.asarray)(n),n.ndim<2)throw new Error("unpermute_rows(A,P): A.ndim must be at least 2.");if(r=(0,o.asarray)(r),r.ndim<1)throw new Error("unpermute_rows(A,P): P.ndim must be at least 1.");if("int32"!==r.dtype)throw new Error('unpermute_rows(A,P): P.dtype must be "int32".');var e=Math.max(n.ndim,r.ndim+1),t=Int32Array.from({length:e},(function(){return 1})),s=n.shape.slice(-2),f=(0,a["default"])(s,2),u=f[0],l=f[1];if(u!==r.shape[r.ndim-1])throw new Error("unpermute_rows(A,P): A.shape[-2] and P.shape[-1] must match.");for(var c=e,d=n.ndim;c-- >0&&d-- >0;)t[c]=n.shape[d];for(var h=e-2,p=r.ndim-1;h-- >0&&p-- >0;)if(1===t[h])t[h]=r.shape[p];else if(t[h]!=r.shape[p]&&1!=r.shape[p])throw new Error("unpermute_rows(A,P): A and P not broadcast-compatible.");var v=new i.ARRAY_TYPES[n.dtype](t.reduce((function(n,r){return n*r}))),w=n.shape,m=n.ndim,y=r.shape,g=r.ndim;n=n.data,r=r.data;var _=0,b=-1,E=0,A=-1,x=0;function M(a){if(a===e-2){for(var o=0;o<u;o++){var i=r[E+o];if(!(i>=0))throw new Error("unpermute_rows(A,P): P.contains invalid indices.");if(!(i<u))throw new Error("unpermute_rows(A,P): P.contains invalid indices.");for(var s=0;s<l;s++)v[x+l*i+s]=n[_+l*o+s]}return _+=b=u*l,E+=A=u,void(x+=b)}for(var f=t[a];;f--){if(M(a+1),1===f)break;w[a-e+m]>1||(_-=b),y[a-e+1+g]>1||(E-=A)}b*=w[a-e+m]||1,A*=y[a-e+1+g]||1}return M(0),new o.NDArray(t,v)}function l(n,r){if(n=(0,o.asarray)(n),n.ndim<2)throw new Error("unpermute_cols(A,P): A.ndim must be at least 2.");if(r=(0,o.asarray)(r),r.ndim<1)throw new Error("unpermute_cols(A,P): P.ndim must be at least 1.");if("int32"!==r.dtype)throw new Error('unpermute_cols(A,P): P.dtype must be "int32".');var e=Math.max(n.ndim,r.ndim+1),t=Int32Array.from({length:e},(function(){return 1})),s=n.shape.slice(-2),f=(0,a["default"])(s,2),u=f[0],l=f[1];if(l!==r.shape[r.ndim-1])throw new Error("unpermute_cols(A,P): A.shape[-1] and P.shape[-1] must match.");for(var c=e,d=n.ndim;c-- >0&&d-- >0;)t[c]=n.shape[d];for(var h=e-2,p=r.ndim-1;h-- >0&&p-- >0;)if(1===t[h])t[h]=r.shape[p];else if(t[h]!=r.shape[p]&&1!=r.shape[p])throw new Error("unpermute_cols(A,P): A and P not broadcast-compatible.");var v=new i.ARRAY_TYPES[n.dtype](t.reduce((function(n,r){return n*r}))),w=n.shape,m=n.ndim,y=r.shape,g=r.ndim;n=n.data,r=r.data;var _=0,b=-1,E=0,A=-1,x=0;function M(a){if(a===e-2){for(var o=0;o<u;o++)for(var i=0;i<l;i++){var s=r[E+i];if(!(s>=0))throw new Error("unpermute_cols(A,P): P.contains invalid indices.");if(!(s<l))throw new Error("unpermute_cols(A,P): P.contains invalid indices.");v[x+l*o+s]=n[_+l*o+i]}return _+=b=u*l,E+=A=l,void(x+=b)}for(var f=t[a];;f--){if(M(a+1),1===f)break;w[a-e+m]>1||(_-=b),y[a-e+1+g]>1||(E-=A)}b*=w[a-e+m]||1,A*=y[a-e+1+g]||1}return M(0),new o.NDArray(t,v)}},93769:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r._pldlp_decomp=l,r.pldlp_decomp=c,r.pldlp_l=d,r.pldlp_d=h,r.pldlp_p=p,r._pldlp_solve=v,r.pldlp_solve=w;var a=t(e(42989)),o=e(11882),i=e(30065),s=function(n,r,e,t,a){if(0!==n%1)throw new Error("Assertion failed.");if(0!==r%1)throw new Error("Assertion failed.");if(0!==a%1)throw new Error("Assertion failed.");if(0!==t%1)throw new Error("Assertion failed.");if(0!==e.length%1)throw new Error("Assertion failed.");if(!(0<=n))throw new Error("Assertion failed.");if(!(n<=r))throw new Error("Assertion failed.");if(!(a>=0))throw new Error("Assertion failed.");if(!(a<n))throw new Error("Assertion failed.");for(var o=e[t+r*a+a],i=a;++i<n;)for(var s=e[t+r*i+a]/o,f=a;f++<i;)e[t+r*i+f]-=s*e[t+r*f+a];for(var u=a;++u<n;)e[t+r*u+a]/=o},f=function(n,r,e,t,a){if(0!==n%1)throw new Error("Assertion failed.");if(0!==r%1)throw new Error("Assertion failed.");if(0!==a%1)throw new Error("Assertion failed.");if(0!==t%1)throw new Error("Assertion failed.");if(0!==e.length%1)throw new Error("Assertion failed.");if(!(0<=n))throw new Error("Assertion failed.");if(!(n<=r))throw new Error("Assertion failed.");if(!(a>=0))throw new Error("Assertion failed.");if(!(a<n-1))throw new Error("Assertion failed.");for(var o=e[t+r*(a+1)+a],i=e[t+r*(a+1)+(a+1)]/o,s=e[t+r*a+a]/o,f=1/(i*s-1)/o,u=a+2;u<n;u++){for(var l=f*(i*e[t+r*u+a]-e[t+r*u+a+1]),c=f*(s*e[t+r*u+a+1]-e[t+r*u+a]),d=u;d<n;d++)e[t+r*d+u]-=e[t+r*d+a]*l+e[t+r*d+a+1]*c;e[t+r*u+a]=l,e[t+r*u+a+1]=c}},u=function(n,r,e,t,a,o,i,s){if(!(i<=s))throw new Error("Assertion failed: "+JSON.stringify({k:i,l:s}));if(!(n<=r))throw new Error("Assertion failed.");var f=a[o+i];a[o+i]=a[o+s],a[o+s]=f;for(var u=0;u<i;u++){var l=e[t+r*i+u];e[t+r*i+u]=e[t+r*s+u],e[t+r*s+u]=l}for(var c=i;++c<s;){var d=e[t+r*c+i];e[t+r*c+i]=e[t+r*s+c],e[t+r*s+c]=d}var h=e[t+r*i+i];e[t+r*i+i]=e[t+r*s+s],e[t+r*s+s]=h;for(var p=s;++p<n;){var v=e[t+r*p+i];e[t+r*p+i]=e[t+r*p+s],e[t+r*p+s]=v}};function l(n,r,e,t,a,o){if(!(n<=r))throw new Error("Assertion failed.");for(var i=0;i<n;i++)a[o+i]=i;for(var l=(Math.sqrt(17)+1)/8,c=0;c<n;c++){var d=!0;if(c<n-1){for(var h=void 0,p=-1/0,v=Math.abs(e[t+r*c+c]),w=c;++w<n;){var m=Math.abs(e[t+r*w+c]);p>=m||(p=m,h=w)}if(!(0<Math.max(p,v)))throw new Error("_pldlp_decomp(M,N, LD,LD_off, P,P_off): Zero column or NaN encountered.");if(v<l*p){for(var y=void 0,g=-1/0,_=c;_<h;_++){var b=Math.abs(e[t+r*h+_]);g>=b||(g=b,y=_)}for(var E=h;++E<n;){var A=Math.abs(e[t+r*E+h]);g>=A||(g=A,y=E)}if(h===y)throw new Error("Assertion failed.");if(v<l*p*(p/g)){var x=Math.abs(e[t+r*h+h]);x<l*g&&(d=!1,a[o+h]^=-1,++c),c!==h&&u(n,r,e,t,a,o,c,h)}}}d?s(n,r,e,t,c):f(n,r,e,t,c-1)}}function c(n){n=(0,i.asarray)(n);var r=o.ARRAY_TYPES["float32"===n.dtype?"float32":"float64"],e=n.shape,t=e.slice(0,-1),s=e.slice(-2),f=(0,a["default"])(s,2),u=f[0],c=f[1];if(n=n.data,u!==c)throw new Error("Last two dimensions must be quadratic.");for(var d=new r(n.length),h=new Int32Array(n.length/u),p=0;p<d.length;p+=u*u){for(var v=0;v<u;v++)for(var w=0;w<=v;w++)d[p+u*v+w]=n[p+u*v+w];var m=p/u;l(u,u,d,p,h,m)}return[new i.NDArray(e,d),new i.NDArray(t,h)]}function d(n,r){if(null==r){var e=n,t=(0,a["default"])(e,2);n=t[0],r=t[1]}if(n=(0,i.asarray)(n),r=(0,i.asarray)(r),n.ndim<2)throw new Error("pldlp_solve(LD,P,y): LD must be at least 2D.");if(r.ndim<1)throw new Error("pldlp_solve(LD,P,y): P must be at least 1D.");var s=n.shape[n.ndim-2];if(s!==n.shape[n.ndim-1])throw new Error("pldlp_solve(LD,P,y): LD must be square.");if(s!==r.shape[r.ndim-1])throw new Error("pldlp_solve(LD,P,y): LD and P shape mismatch.");var f=Math.max(n.ndim,r.ndim+1),u=Int32Array.from({length:f},(function(){return 1}));u[f-2]=s,u[f-1]=s;for(var l=0,c=[n.shape.slice(0,-2),r.shape.slice(0,-1)];l<c.length;l++)for(var d=c[l],h=f-2,p=d.length;h-- >0&&p-- >0;)if(1===u[h])u[h]=d[p];else if(u[h]!==d[p]&&1!==d[p])throw new Error("Shapes are not broadcast-compatible.");var v=[n,r].every((function(n){return"float32"===n.dtype}))?"float32":"float64",w=o.ARRAY_TYPES[v],m=new w(u.reduce((function(n,r){return n*r}),1)),y=n.data,g=r.data,_=0,b=1,E=0,A=1,x=0;function M(e){if(e===f-2){b=s*s,A=s;for(var t=0;t<s;t++){for(var a=t-(g[E+t]<0),o=0;o<a;o++)m[x+s*t+o]=y[_+s*t+o];m[x+s*t+t]=1}return _+=b,x+=b,void(E+=A)}for(var i=u[e];;i--){if(M(e+1),1===i)break;n.shape[e-f+n.ndim]>1||(_-=b),r.shape[e-f+r.ndim+1]>1||(E-=A)}b*=n.shape[e-f+n.ndim]||1,A*=r.shape[e-f+r.ndim+1]||1}return M(0),new i.NDArray(u,m)}function h(n,r){if(null==r){var e=n,t=(0,a["default"])(e,2);n=t[0],r=t[1]}if(n=(0,i.asarray)(n),r=(0,i.asarray)(r),n.ndim<2)throw new Error("pldlp_solve(LD,P,y): LD must be at least 2D.");if(r.ndim<1)throw new Error("pldlp_solve(LD,P,y): P must be at least 1D.");var s=n.shape[n.ndim-2];if(s!==n.shape[n.ndim-1])throw new Error("pldlp_solve(LD,P,y): LD must be square.");if(s!==r.shape[r.ndim-1])throw new Error("pldlp_solve(LD,P,y): LD and P shape mismatch.");var f=Math.max(n.ndim,r.ndim+1),u=Int32Array.from({length:f},(function(){return 1}));u[f-2]=s,u[f-1]=s;for(var l=0,c=[n.shape.slice(0,-2),r.shape.slice(0,-1)];l<c.length;l++)for(var d=c[l],h=f-2,p=d.length;h-- >0&&p-- >0;)if(1===u[h])u[h]=d[p];else if(u[h]!==d[p]&&1!==d[p])throw new Error("Shapes are not broadcast-compatible.");var v=[n,r].every((function(n){return"float32"===n.dtype}))?"float32":"float64",w=o.ARRAY_TYPES[v],m=new w(u.reduce((function(n,r){return n*r}),1)),y=n.data,g=r.data,_=0,b=1,E=0,A=1,x=0;function M(e){if(e===f-2){b=s*s,A=s;for(var t=0;t<s;t++)m[x+s*t+t]=y[_+s*t+t],g[E+t]<0&&(m[x+s*t+t-1]=m[x+s*(t-1)+t]=y[_+s*t+t-1]);return _+=b,x+=b,void(E+=A)}for(var a=u[e];;a--){if(M(e+1),1===a)break;n.shape[e-f+n.ndim]>1||(_-=b),r.shape[e-f+r.ndim+1]>1||(E-=A)}b*=n.shape[e-f+n.ndim]||1,A*=r.shape[e-f+r.ndim+1]||1}return M(0),new i.NDArray(u,m)}function p(n,r){if(null==r){var e=n,t=(0,a["default"])(e,2);n=t[0],r=t[1]}if(n=(0,i.asarray)(n),r=(0,i.asarray)(r),n.ndim<2)throw new Error("pldlp_solve(LD,P,y): LD must be at least 2D.");if(r.ndim<1)throw new Error("pldlp_solve(LD,P,y): P must be at least 1D.");var o=n.shape[n.ndim-2];if(o!==n.shape[n.ndim-1])throw new Error("pldlp_solve(LD,P,y): LD must be square.");if(o!==r.shape[r.ndim-1])throw new Error("pldlp_solve(LD,P,y): LD and P shape mismatch.");for(var s=n.ndim-2,f=r.ndim-1;s-- >0&&f-- >0;)if(1!==r.shape[f]&&1!==n.shape[s]&&n.shape[s]!==r.shape[f])throw new Error("Shapes are not broadcast-compatible.");var u=r.shape;r=Int32Array.from(r.data),n=void 0;for(var l=new Uint8Array(o),c=r.length;(c-=o)>=0;){l.fill(!1);for(var d=o;d-- >0;){var h=r[c+d];if(h<0){if(!(0<d)||r[c+d-1]<0)throw new Error("pldlp_solve(LD,P,y): P is invalid.");h^=-1}if(!(h>=0))throw new Error("pldlp_solve(LD,P,y): P contains out-of-bounds indices.");if(!(h<o))throw new Error("pldlp_solve(LD,P,y): P contains out-of-bounds indices.");if(l[h])throw new Error("pldlp_solve(LD,P,y): P contains duplicate indices.");l[h]=!0,r[c+d]=h}if(l.some((function(n){return!n})))throw new Error("pldlp_solve(LD,P,y): P is invalid.")}return new i.NDArray(u,r)}function v(n,r,e,t,a,o,i,s,f,u){if(0!==t.length%1)throw new Error("Assertion failed.");if(0!==o.length%1)throw new Error("Assertion failed.");if(0!==s.length%1)throw new Error("Assertion failed.");if(0!==u.length%1)throw new Error("Assertion failed.");if(0!==a%1)throw new Error("Assertion failed.");if(0!==i%1)throw new Error("Assertion failed.");if(0!==f%1)throw new Error("Assertion failed.");if(0!==n%1)throw new Error("Assertion failed.");if(0!==r%1)throw new Error("Assertion failed.");if(0!==e%1)throw new Error("Assertion failed.");if(t.length-a<n*r)throw new Error("Assertion failed.");if(o.length-i<n)throw new Error("Assertion failed.");if(s.length-f<n*e)throw new Error("Assertion failed.");if(u.length<n*e)throw new Error("Assertion failed.");if(!(0<n))throw new Error("Assertion failed.");if(!(0<r))throw new Error("Assertion failed.");if(!(0<e))throw new Error("Assertion failed.");if(!(n<=r))throw new Error("Assertion failed.");for(var l=0;l<n;l++){var c=o[i+l];c^=-(c<0);for(var d=0;d<e;d++)u[e*l+d]=s[f+e*c+d]}for(var h=1;h<n;h++)for(var p=h-(o[i+h]<0),v=0;v<p;v++)for(var w=0;w<e;w++)u[e*h+w]-=t[a+r*h+v]*u[e*v+w];for(var m=0;m<n;m++)if(m<n-1&&o[i+m+1]<0){for(var y=t[a+r*(m+1)+m],g=t[a+r*(m+1)+m+1]/y,_=t[a+r*m+m]/y,b=1/(g*_-1)/y,E=0;E<e;E++){var A=u[e*m+E],x=u[e*(m+1)+E];u[e*m+E]=b*(g*A-x),u[e*(m+1)+E]=b*(_*x-A)}++m}else for(var M=0;M<e;M++)u[e*m+M]/=t[a+r*m+m];for(var k=n;k-- >1;)for(var P=k-(o[i+k]<0),S=P;S-- >0;)for(var O=e;O-- >0;)u[e*S+O]-=t[a+r*k+S]*u[e*k+O];for(var N=0;N<n;N++){var j=o[i+N];j^=-(j<0);for(var F=0;F<e;F++)s[f+e*j+F]=u[e*N+F]}}function w(n,r,e){if(null==e){if(null==r)throw new Error("Assertion failed.");e=r;var t=n,s=(0,a["default"])(t,2);n=s[0],r=s[1]}if(n=(0,i.asarray)(n),r=(0,i.asarray)(r),e=(0,i.asarray)(e),n.ndim<2)throw new Error("pldlp_solve(LD,P,y): LD must be at least 2D.");if(r.ndim<1)throw new Error("pldlp_solve(LD,P,y): P must be at least 1D.");if(e.ndim<2)throw new Error("pldlp_solve(LD,P,y): y must be at least 2D.");var f=n.shape[n.ndim-2],u=e.shape[e.ndim-1];if(f!==n.shape[n.ndim-1])throw new Error("pldlp_solve(LD,P,y): LD must be square.");if(f!==r.shape[r.ndim-1])throw new Error("pldlp_solve(LD,P,y): LD and P shape mismatch.");if(f!==e.shape[e.ndim-2])throw new Error("pldlp_solve(LD,P,y): LD and y shape mismatch.");var l=Math.max(n.ndim,r.ndim+1,e.ndim),c=Int32Array.from({length:l},(function(){return 1}));c[l-2]=f,c[l-1]=u;for(var d=0,h=[n.shape.slice(0,-2),r.shape.slice(0,-1),e.shape.slice(0,-2)];d<h.length;d++)for(var p=h[d],w=l-2,m=p.length;w-- >0&&m-- >0;)if(1===c[w])c[w]=p[m];else if(c[w]!==p[m]&&1!==p[m])throw new Error("Shapes are not broadcast-compatible.");var y=[n,r,e].every((function(n){return"float32"===n.dtype}))?"float32":"float64",g=o.ARRAY_TYPES[y],_=new g(f*u),b=new g(c.reduce((function(n,r){return n*r}),1)),E=n.data,A=r.data,x=e.data,M=0,k=1,P=0,S=1,O=0,N=1,j=0;function F(t){if(t===l-2){k=f*f,S=f,N=f*u;for(var a=0;a<N;a++)b[j+a]=x[O+a];return v(f,f,u,E,M,A,P,b,j,_),M+=k,P+=S,O+=N,void(j+=N)}for(var o=c[t];;o--){if(F(t+1),1===o)break;n.shape[t-l+n.ndim]>1||(M-=k),r.shape[t-l+r.ndim+1]>1||(P-=S),e.shape[t-l+e.ndim]>1||(O-=N)}k*=n.shape[t-l+n.ndim]||1,S*=r.shape[t-l+r.ndim+1]||1,N*=e.shape[t-l+e.ndim]||1}return F(0),new i.NDArray(c,b)}},99777:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.qr_decomp_full=l,r.qr_decomp=c,r._qr_decomp_inplace=d,r.qr_lstsq=h;var a=t(e(42989)),o=e(30065),i=e(11882),s=e(52894),f=e(13511),u=e(14748);function l(n){if(n=(0,o.asarray)(n),n.ndim<2)throw new Error("A must be at least 2D.");var r="float32"===n.dtype?"float32":"float64",e=i.ARRAY_TYPES[r],t="float32"===r?16:8,u=n.shape,l=Int32Array.from(u),c=u.slice(-2),d=(0,a["default"])(c,2),h=d[0],p=d[1],v=e.from(n.data);n=void 0,l[l.length-1]=h;for(var w=new e(v.length/p*h),m=0,y=0;m<w.length;m+=h*h,y+=h*p){for(var g=0;g<h;g++)w[m+h*g+g]=1;for(var _=0;_<p;_+=t)for(var b=_;b<h;b+=t)for(var E=b;E<b+t&&E<h;E++)for(var A=_;A<_+t&&A<p&&A<E;A++){var x=y+p*E+A,M=v[x];if(0!==M){var k=y+p*A+A,P=v[k],S=(0,s._giv_rot_qr)(P,M),O=(0,a["default"])(S,3),N=O[0],j=O[1],F=O[2];v[x]=0,0!==j&&(v[k]=F,(0,s._giv_rot_rows)(v,p-1-A,k+1,x+1,N,j),(0,s._giv_rot_rows)(w,1+E,m+h*A,m+h*E,N,j))}}(0,f._transpose_inplace)(h,w,m)}return[new o.NDArray(l,w),new o.NDArray(u,v)]}function c(n){if(n=(0,o.asarray)(n),n.ndim<2)throw new Error("qr_decomp(A): A.ndim must be at least 2.");var r=i.ARRAY_TYPES["float32"===n.dtype?"float32":"float64"],e=n.shape,t=Int32Array.from(e),f=e.slice(-2),u=(0,a["default"])(f,2),c=u[0],d=u[1];if(t[t.length-2]=d,c<=d)return l(n);var h=r.from(n.data);n=void 0;for(var p=new r(h.length/c*d),v=0,w=0;w<h.length;w+=c*d,v+=d*d){for(var m=1;m<c;m++)for(var y=Math.min(m,d),g=0;g<y;g++){var _=w+d*m+g,b=h[_];if(0!==b){var E=w+d*g+g,A=h[E],x=(0,s._giv_rot_qr)(A,b),M=(0,a["default"])(x,3),k=M[0],P=M[1],S=M[2];0!==P&&(k<0&&(k*=-1,P*=-1,S*=-1),(0,s._giv_rot_rows)(h,d-1-g,E+1,_+1,k,P),h[E]=S),h[_]=P}}for(var O=0;O<d;O++)for(var N=O;N<d;N++)p[v+d*O+N]=h[w+d*O+N],h[w+d*O+N]=+(O===N);for(var j=c;--j>0;)for(var F=Math.min(j,d),R=F;R-- >0;){var D=h[w+d*j+R];if(0!==D){h[w+d*j+R]=0;var T=Math.sqrt((1-D)*(1+D));(0,s._giv_rot_rows)(h,d-R,w+d*j+R,w+d*R+R,T,D)}}}return[new o.NDArray(e,h),new o.NDArray(t,p)]}function d(n,r,e,t,o,i,f){if(n%1!==0)throw new Error("Assertion failed.");if(r%1!==0)throw new Error("Assertion failed.");if(e%1!==0)throw new Error("Assertion failed.");if(o%1!==0)throw new Error("Assertion failed.");if(f%1!==0)throw new Error("Assertion failed.");if(t.length%1!==0)throw new Error("Assertion failed.");if(i.length%1!==0)throw new Error("Assertion failed.");if(!(0<=n))throw new Error("Assertion failed.");if(!(0<=r))throw new Error("Assertion failed.");if(!(0<=e))throw new Error("Assertion failed.");if(!(0<=o))throw new Error("Assertion failed.");if(!(0<=f))throw new Error("Assertion failed.");if(!(0<=t.length))throw new Error("Assertion failed.");if(!(0<=i.length))throw new Error("Assertion failed.");if(!(n*r<=t.length-o))throw new Error("Assertion failed.");if(!(n*e<=i.length-f))throw new Error("Assertion failed.");for(var u=1;u<n;u++)for(var l=0;l<r&&l<u;l++){var c=o+r*u+l,d=t[c];if(0!==d){var h=o+r*l+l,p=t[h],v=(0,s._giv_rot_qr)(p,d),w=(0,a["default"])(v,3),m=w[0],y=w[1],g=w[2];t[c]=0,0!==y&&(t[h]=g,(0,s._giv_rot_rows)(t,r-1-l,h+1,c+1,m,y),(0,s._giv_rot_rows)(i,e,f+e*l,f+e*u,m,y))}}}function h(n,r,e){if(void 0==e){e=r;var t=n,s=(0,a["default"])(t,2);n=s[0],r=s[1]}if(n=(0,o.asarray)(n),n.ndim<2)throw new Error("qr_lstsq(Q,R,y): Q.ndim must be at least 2.");if(r=(0,o.asarray)(r),r.ndim<2)throw new Error("qr_lstsq(Q,R,y): R.ndim must be at least 2.");if(e=(0,o.asarray)(e),e.ndim<2)throw new Error("qr_lstsq(Q,R,y): y.ndim must be at least 2.");var f=n.shape.slice(-2),l=(0,a["default"])(f,2),c=l[0],d=l[1],h=r.shape.slice(-1),p=(0,a["default"])(h,1),v=p[0],w=e.shape.slice(-1),m=(0,a["default"])(w,1),y=m[0],g=Math.min(d,v);if(c!=e.shape[e.ndim-2])throw new Error("qr_lstsq(Q,R,y): Q and y don't match.");if(d!=r.shape[r.ndim-2])throw new Error("qr_lstsq(Q,R,y): Q and R don't match.");if(v>c)throw new Error("qr_lstsq(Q,R,y): Under-determined systems not supported. Use rrqr instead.");var _=Math.max(n.ndim,r.ndim,e.ndim),b=Int32Array.from({length:_},(function(){return 1}));b[_-2]=v,b[_-1]=y;for(var E=0,A=[n,r,e];E<A.length;E++)for(var x=A[E],M=_-2,k=x.ndim-2;M-- >0&&k-- >0;)if(1===b[M])b[M]=x.shape[k];else if(b[M]!=x.shape[k]&&1!=x.shape[k])throw new Error("Q, R, y are not broadcast-compatible.");var P=i.ARRAY_TYPES[[n,r,e].every((function(n){return"float32"===n.dtype}))?"float32":"float64"],S=new P(b.reduce((function(n,r){return n*r}),1)),O=n.data,N=r.data,j=e.data,F=0,R=1,D=0,T=1,I=0,L=1,C=0;function q(t){if(t===_-2){R=c*d,T=d*v,L=c*y;for(var a=0;a<g;a++)for(var o=0;o<y;o++)for(var i=0;i<c;i++)S[C+a*y+o]+=O[F+i*d+a]*j[I+i*y+o];return(0,u._triu_solve)(g,v,y,N,D,S,C),F+=R,D+=T,I+=L,void(C+=v*y)}for(var s=b[t];;s--){if(q(t+1),1==s)break;n.shape[t-_+n.ndim]>1||(F-=R),r.shape[t-_+r.ndim]>1||(D-=T),e.shape[t-_+e.ndim]>1||(I-=L)}R*=n.shape[t-_+n.ndim]||1,T*=r.shape[t-_+r.ndim]||1,L*=e.shape[t-_+e.ndim]||1}return q(0),new o.NDArray(b,S)}},32515:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.rand_ortho=l;var a=t(e(42989)),o=e(11882),i=e(30065),s=e(48265),f=e(30716),u=!0;function l(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];if(u&&(u=!1,console.warn(new Error("nd.la.rand_ortho is deprecated, use nd.rand.AleaRNG instead."))),n in o.ARRAY_TYPES||(e.unshift(n),n="float64"),!n.startsWith("float"))throw new Error("Unsupported dtype: '".concat(n,"'."));1===e.length&&e.push(e[0]);for(var l=e.length;l-- >0;)if(e[l]%1!==0||e[l]<1)throw new Error("shape[".concat(l,"] = ").concat(e[l]," not a positive integer."));e=Int32Array.from(e);for(var c=e.slice(-2),d=(0,a["default"])(c,2),h=d[0],p=d[1],v=Math.max(h,p),w=o.ARRAY_TYPES[n],m=new w(e.reduce((function(n,r){return n*r}))),y=new w(v*v),g=new w(v),_=new w(v),b=new f.FrobeniusNorm,E=0;E<m.length;E+=h*p){for(var A=0;A<v;A++)for(var x=0;x<v;x++)y[v*A+x]=1*(A===x);_[0]=Math.random()<=.5?-1:1;for(var M=v;M-- >1;){b.reset();for(var k=0;;k++){var P=g[k]=(0,s.rand_normal)();if(k>=M)break;b.include(P)}_[M]=g[M]>0?-1:1;var S=b.resultIncl(g[M])*_[M];if(0!==S){b.include(g[M]-=S);for(var O=b.max,N=Math.sqrt(b.sum),j=M;j>=0;j--)g[j]=g[j]/O/N;for(var F=v;F-- >0;){for(var R=0,D=M;D>=0;D--)R+=y[v*F+D]*g[D];R*=2;for(var T=M;T>=0;T--)y[v*F+T]-=g[T]*R}}}for(var I=0;I<v;I++)for(var L=0;L<v;L++)y[v*I+L]*=_[I];for(var C=0;C<h;C++)for(var q=0;q<p;q++)m[E+p*C+q]=y[v*C+q]}return new i.NDArray(e,m)}},67548:function(n,r,e){"use strict";var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.rank=i;var a=t(e(42989)),o=e(29362);function i(n){var r=(0,o.svd_decomp)(n),e=(0,a["default"])(r,3),t=(e[0],e[1]);e[2];return(0,o.svd_rank)(t)}},5323:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r._norm_update=d,r._norm=h,r._rrqr_rank=p,r.rrqr_decomp_full=v,r._rrqr_decomp_inplace=w,r.rrqr_decomp=m,r.rrqr_rank=y,r.rrqr_solve=g,r.rrqr_lstsq=_;var a=t(e(42989)),o=e(27871),i=e(30065),s=e(11882),f=e(30716),u=e(52894),l=e(13511),c=e(14748);function d(n,r,e,t){for(e|=0,t<<=1;t<n.length;t=t+2|0){var a=Math.abs(r[e+(t>>>1)]);if(0!==a){if(n[t]<a){var o=n[t]/a;n[t+1]*=o*o,n[t]=a}a/=n[t],n[t+1]+=a*a}}}function h(n,r){r<<=1;var e=n[r];return isFinite(e)?Math.sqrt(n[r+1])*e:e}function p(n,r,e,t,a){var o=Math.min(n,r);if(!(a.length>=o))throw new Error("Assertion failed.");for(var i=new f.FrobeniusNorm,u=o;u-- >0;){for(var l=r;l-- >u;)i.include(e[t+r*u+l]);if(a[u]=i.result,!isFinite(a[u]))throw new Error("Infinity or NaN encountered during rank estimation.")}var c=a instanceof Float32Array?"float32":"float64",d=2*(0,s.eps)(c)*Math.max(n,r)*a[0],h=o;while(h>0&&a[h-1]<=d)--h;return h}function v(n){if(n=(0,i.asarray)(n),n.ndim<2)throw new Error("A must be at least 2D.");var r=s.ARRAY_TYPES["float32"===n.dtype?"float32":"float64"],e=n.shape,t=Int32Array.from(e),o=t.slice(0,-1),f=e.slice(-2),c=(0,a["default"])(f,2),p=c[0],v=c[1],w=Math.min(p,v);t[t.length-1]=p,o[o.length-1]=v;var m=r.from(n.data);n=void 0;for(var y=new Int32Array(m.length/p),g=new r(m.length/v*p),_=new r(v<<1),b=0,E=0,A=0;b<g.length;b+=p*p,E+=p*v,A+=v){for(var x=0;x<v;x++)y[A+x]=x;for(var M=0;M<p;M++)g[b+p*M+M]=1;for(var k=0;k<p;k++)d(_,m,E+v*k,0);for(var P=0;P<w;P++){for(var S=-1,O=-1/0,N=P;N<v;N++){var j=h(_,N);O<j&&(S=N,O=j)}if(S!==P){for(var F=0;F<p;F++){var R=E+v*F+P,D=E+v*F+S,T=m[R];m[R]=m[D],m[D]=T}var I=y[A+P];y[A+P]=y[A+S],y[A+S]=I}if(_.fill(0,P<<1),0===O)break;for(var L=E+v*P+P,C=P;++C<p;){var q=E+v*C+P,U=m[q];if(0!==U){var Y=m[L],z=(0,u._giv_rot_qr)(Y,U),B=(0,a["default"])(z,3),G=B[0],V=B[1],$=B[2];m[q]=0,0!==V&&(m[L]=$,(0,u._giv_rot_rows)(m,v-1-P,L+1,q+1,G,V),(0,u._giv_rot_rows)(g,1+C,b+p*P,b+p*C,G,V))}d(_,m,E+v*C,P+1)}m[L]=(m[L]<0||Object.is(-0,m[L])?-1:1)*O}(0,l._transpose_inplace)(p,g,b)}return[new i.NDArray(t,g),new i.NDArray(e,m),new i.NDArray(o,y)]}function w(n,r,e,t,o,i,s,f,l,c){if(0!==n%1)throw new Error("Assertion failed.");if(0!==r%1)throw new Error("Assertion failed.");if(0!==e%1)throw new Error("Assertion failed.");if(0!==o%1)throw new Error("Assertion failed.");if(0!==s%1)throw new Error("Assertion failed.");if(0!==l%1)throw new Error("Assertion failed.");if(!(0<n))throw new Error("Assertion failed.");if(!(0<r))throw new Error("Assertion failed.");if(!(0<e))throw new Error("Assertion failed.");if(!(0<=o))throw new Error("Assertion failed.");if(!(0<=s))throw new Error("Assertion failed.");if(!(0<=l))throw new Error("Assertion failed.");if(!(n*r<=t.length-o))throw new Error("Assertion failed.");if(!(n*e<=i.length-s))throw new Error("Assertion failed.");if(!(r<=f.length-l))throw new Error("Assertion failed.");if(n|=0,r|=0,e|=0,o|=0,s|=0,l|=0,c.length!==r<<1)throw new Error("Assertion failed.");c.fill(0,0,r<<1);for(var p=0;p<n;p++)d(c,t,o+r*p,0);for(var v=Math.min(n,r),w=0;w<v;w++){for(var m=-1,y=-1/0,g=w;g<r;g++){var _=h(c,g);y<_&&(m=g,y=_)}if(m!==w){for(var b=0;b<n;b++){var E=o+r*b+w,A=o+r*b+m,x=t[E];t[E]=t[A],t[A]=x}var M=f[l+w];f[l+w]=f[l+m],f[l+m]=M}if(c.fill(0,w<<1),0===y)break;for(var k=o+r*w+w,P=w;++P<n;){var S=o+r*P+w,O=t[S];if(0!==O){var N=t[k],j=(0,u._giv_rot_qr)(N,O),F=(0,a["default"])(j,3),R=F[0],D=F[1],T=F[2];t[S]=0,0!==D&&(t[k]=T,(0,u._giv_rot_rows)(t,r-1-w,k+1,S+1,R,D),(0,u._giv_rot_rows)(i,e,s+e*w,s+e*P,R,D))}d(c,t,o+r*P,w+1)}t[k]=(t[k]<0||Object.is(-0,t[k])?-1:1)*y}}function m(n){if(n=(0,i.asarray)(n),n.ndim<2)throw new Error("A must be at least 2D.");var r=s.ARRAY_TYPES["float32"===n.dtype?"float32":"float64"],e=n.shape,t=Int32Array.from(e),o=e.slice(0,-1),f=e.slice(-2),l=(0,a["default"])(f,2),c=l[0],p=l[1];if(t[t.length-2]=p,o[o.length-1]=p,c<=p)return v(n);var w=r.from(n.data);n=void 0;for(var m=new Int32Array(w.length/c),y=new r(w.length/c*p),g=new r(p<<1),_=0,b=0,E=0;_<w.length;_+=c*p,b+=p*p,E+=p){for(var A=0;A<p;A++)m[E+A]=A;for(var x=0;x<c;x++)d(g,w,_+p*x,0);for(var M=0;M<p;M++){for(var k=-1,P=-1/0,S=M;S<p;S++){var O=h(g,S);P<O&&(k=S,P=O)}if(k!==M){for(var N=0;N<c;N++){var j=_+p*N+M,F=_+p*N+k,R=w[j];w[j]=w[F],w[F]=R}var D=m[E+M];m[E+M]=m[E+k],m[E+k]=D}if(g.fill(0,M<<1),0===P)break;for(var T=_+p*M+M,I=M;++I<c;){var L=_+p*I+M,C=w[L];if(0!==C){var q=w[T],U=(0,u._giv_rot_qr)(q,C),Y=(0,a["default"])(U,3),z=Y[0],B=Y[1],G=Y[2];0!==B&&(z<0&&(z*=-1,B*=-1,G*=-1),(0,u._giv_rot_rows)(w,p-1-M,T+1,L+1,z,B),w[T]=G),w[L]=B}d(g,w,_+p*I,M+1)}w[T]=(w[T]<0||Object.is(w[T],-0)?-1:1)*P}for(var V=0;V<p;V++)for(var $=y[b+p*V+V],X=$<0||Object.is($,-0)?-1:1,W=V;W<p;W++)y[b+p*V+W]=w[_+p*V+W]*X,w[_+p*V+W]=X*(V===W);for(var J=p;J-- >0;)for(var H=c;--H>J;){var Q=w[_+p*H+J];if(0!==Q){w[_+p*H+J]=0;var K=Math.sqrt((1-Q)*(1+Q));(0,u._giv_rot_rows)(w,p-J,_+p*H+J,_+p*J+J,K,Q)}}}return[new i.NDArray(e,w),new i.NDArray(t,y),new i.NDArray(o,m)]}function y(n){n=(0,i.asarray)(n);var r=n.shape.slice(-2),e=(0,a["default"])(r,2),t=e[0],o=e[1],f=n.shape.slice(0,-2);n=n.data;for(var u=new s.ARRAY_TYPES["int32"](n.length/t/o),l=new s.ARRAY_TYPES["float32"===n.dtype?"float32":"float64"](Math.min(t,o)),c=0,d=0;c<u.length;c++,d+=t*o)u[c]=p(t,o,n,d,l);return new i.NDArray(f,u)}function g(n,r,e,t){if(void 0==t){if(void 0!=e)throw new Error("rrqr_lstsq(Q,R,P, y): Either 2 ([Q,R,P], y) or 4 arguments (Q,R,P, y) expected.");t=r;var f=n,u=(0,a["default"])(f,3);n=u[0],r=u[1],e=u[2]}n=(0,i.asarray)(n),r=(0,i.asarray)(r);var l=n.shape[n.ndim-2];if(l!==r.shape[r.ndim-1])throw new Error("rrqr_solve(Q,R,P, y): Q @ R not square.");for(var c=_(n,r,e,t),d=new s.ARRAY_TYPES["float32"===r.dtype?"float32":"float64"](l),h=0;h<r.data.length;h+=l*l){var v=p(l,l,r.data,h,d);if(v<l)throw new o.SingularMatrixSolveError(c)}return c}function _(n,r,e,t){if(void 0==t){if(void 0!=e)throw new Error("rrqr_lstsq(Q,R,P, y): Either 2 ([Q,R,P], y) or 4 arguments (Q,R,P, y) expected.");t=r;var o=n,f=(0,a["default"])(o,3);n=f[0],r=f[1],e=f[2]}if(n=(0,i.asarray)(n),n.ndim<2)throw new Error("rrqr_lstsq(Q,R,P, y): Q.ndim must be at least 2.");if(r=(0,i.asarray)(r),r.ndim<2)throw new Error("rrqr_lstsq(Q,R,P, y): R.ndim must be at least 2.");if(e=(0,i.asarray)(e),e.ndim<1)throw new Error("rrqr_lstsq(Q,R,P, y): P.ndim must be at least 1.");if(t=(0,i.asarray)(t),t.ndim<2)throw new Error("rrqr_lstsq(Q,R,P, y): y.ndim must be at least 2.");if("int32"!==e.dtype)throw new Error('rrqr_lstsq(Q,R,P, y): P.dtype must be "int32".');var u=n.shape.slice(-2),l=(0,a["default"])(u,2),d=l[0],h=l[1],v=r.shape.slice(-1),w=(0,a["default"])(v,1),m=w[0],y=t.shape.slice(-1),g=(0,a["default"])(y,1),_=g[0];if(d!=t.shape[t.ndim-2])throw new Error("rrqr_lstsq(Q,R,P,y): Q and y don't match.");if(h!=r.shape[r.ndim-2])throw new Error("rrqr_lstsq(Q,R,P,y): Q and R don't match.");if(m!=e.shape[e.ndim-1])throw new Error("rrqr_lstsq(Q,R,P,y): R and P don't match.");var b=Math.max(n.ndim,r.ndim,e.ndim+1,t.ndim),E=Int32Array.from({length:b},(function(){return 1}));E[b-2]=m,E[b-1]=_;for(var A=0,x=[n,r,t];A<x.length;A++)for(var M=x[A],k=b-2,P=M.ndim-2;k-- >0&&P-- >0;)if(1===E[k])E[k]=M.shape[P];else if(E[k]!=M.shape[P]&&1!=M.shape[P])throw new Error("rrqr_lstsq(Q,R,P,y): Q,R,P,y not broadcast-compatible.");for(var S=b-2,O=e.ndim-1;S-- >0&&O-- >0;)if(1===E[S])E[S]=e.shape[O];else if(E[S]!=e.shape[O]&&1!=e.shape[O])throw new Error("rrqr_lstsq(Q,R,P,y): Q,R,P,y not broadcast-compatible.");var N=s.ARRAY_TYPES[[n,r,t].every((function(n){return"float32"===n.dtype}))?"float32":"float64"],j=new N(Math.min(h,m)),F=new Int32Array(m),R=new N(E.reduce((function(n,r){return n*r}),1)),D=n.data,T=r.data,I=e.data,L=t.data,C=0,q=1,U=0,Y=1,z=0,B=1,G=0,V=1,$=0;function X(a){if(a===b-2){q=d*h,Y=h*m,B=m,V=d*_;for(var o=p(h,m,T,U,j),i=0;i<d;i++)for(var s=0;s<o;s++)for(var f=0;f<_;f++)R[$+s*_+f]+=D[C+i*h+s]*L[G+i*_+f];(0,c._triu_solve)(o,m,_,T,U,R,$);for(var u=m;u-- >0;)F[u]=I[z+u];for(var l=m;l-- >0;){var v=void 0;while((v=F[l])!==l){if(F[v]===v)throw new Error("rrqr_lstsq(Q,R,P,y): Invalid indices in P.");F[l]=F[v],F[v]=v;for(var w=_;w-- >0;){var y=R[$+_*l+w];R[$+_*l+w]=R[$+_*v+w],R[$+_*v+w]=y}}}return C+=q,U+=Y,z+=B,G+=V,void($+=m*_)}for(var g=E[a];;g--){if(X(a+1),1==g)break;n.shape[a-b+n.ndim]>1||(C-=q),r.shape[a-b+r.ndim]>1||(U-=Y),e.shape[a-b+1+e.ndim]>1||(z-=B),t.shape[a-b+t.ndim]>1||(G-=V)}q*=n.shape[a-b+n.ndim]||1,Y*=r.shape[a-b+r.ndim]||1,B*=e.shape[a-b+1+e.ndim]||1,V*=t.shape[a-b+t.ndim]||1}return X(0),new i.NDArray(E,R)}},56493:function(n,r,e){"use strict";e(21703),e(25438);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.schur_eigenvals=h,r.schur_eigen=p,r.schur_decomp=v;var a=t(e(42989)),o=e(11882),i=e(20162),s=e(95551),f=e(30065),u=e(66022),l=e(52894),c=e(30128),d=e(48782);function h(n){n=(0,f.asarray)(n);var r=n.shape.slice(-1),e=(0,a["default"])(r,1),t=e[0],i=n.shape.slice(0,-1),u=new o.ARRAY_TYPES["complex128"](n.data.length/t);if(n.shape[n.ndim-2]!=t)throw new Error("T is not square.");n=n.data;for(var l=0,c=function(r,e){return n[l+t*r+e]},d=0;l<n.length;l+=t*t,d+=t)for(var h=t-1;h>=0;h--){var p=h-1;if(0===h||0==c(h,p))u[d+h]=c(h,h);else{var v=c(p,p),w=c(p,h),m=c(h,p),y=c(h,h),g=s.math.sub(v,y),_=s.math.add(v,y),b=s.math.add(s.math.mul(g,g),s.math.mul(s.math.mul(4,w),m));if(b>=0)throw new Error("schur_eigenvals(T): T must not contain real eigenvalued 2x2 blocks.");var E=s.math.mul(.5,s.math.sqrt(b)),A=s.math.mul(.5,_);u[d+p]=s.math.add(A,E),u[d+h]=s.math.sub(A,E),h--}}return new f.NDArray(i,u)}function p(n,r){if(n=(0,f.asarray)(n),r=(0,f.asarray)(r),n.ndim!=r.ndim)throw new Error("Q.ndim != T.ndim.");for(var e=r.ndim;e-- >0;)if(n.shape[e]!=r.shape[e])throw new Error("Q.shape != T.shape.");var t=r.shape.slice(-1),u=(0,a["default"])(t,1),l=u[0],c=r.shape,h=c.slice(0,-1);if(r.shape[r.ndim-2]!=l)throw new Error("Q is not square.");var p=o.ARRAY_TYPES["complex128"],v=p.from(r.data);r=void 0;var w=new p(v.length/l),m=v._array,y=(w._array,new p(l)),g=y._array,_=new p(l),b=_._array,E=y._array.subarray(0,l),A=_._array.subarray(l),x=new i.MutableComplex(NaN,NaN),M=new i.MutableComplex(NaN,NaN),k=new i.MutableComplex(NaN,NaN),P=NaN;function S(n,r,e){for(var t=Math.min(l,e+2),a=r._array,o=e;o-- >0;){for(var i=t;--i>o;){var s=a[2*i+0],f=m[2*(O+l*o+i)+0],u=a[2*i+1],c=m[2*(O+l*o+i)+1];a[2*o+0]-=s*f-u*c,a[2*o+1]-=s*c+u*f}if(0==o||0==N(o,o-1)){var d=m[2*(O+l*o+o)+0]-n.re,h=m[2*(O+l*o+o)+1]-n.im;M.re=a[2*o+0],M.im=a[2*o+1],Math.hypot(d,h)<=P?M.abs()<=P?(a[2*o+0]=0,a[2*o+1]=0):(a[2*o]=1,a.fill(0,2*o+1,2*t)):(M["/="](d,h),a[2*o+0]=M.re,a[2*o+1]=M.im)}else{for(var p=o-1,v=t;--v>o;){var w=a[2*v+0],y=m[2*(O+l*p+v)+0],g=a[2*v+1],_=m[2*(O+l*p+v)+1];a[2*p+0]-=w*y-g*_,a[2*p+1]-=w*_+g*y}var b=m[2*(O+l*p+p)+0]-n.re,E=m[2*(O+l*p+p)+1]-n.im,A=m[2*(O+l*o+o)+0]-n.re,S=m[2*(O+l*o+o)+1]-n.im,j=m[2*(O+l*p+o)+0],F=m[2*(O+l*p+o)+1],R=m[2*(O+l*o+p)+0],D=m[2*(O+l*o+p)+1];if(k["= c0*c1"](b,E,A,S),k["-= c0*c1"](j,F,R,D),0===k.re&&0===k.im)throw new Error("Assertion failed.");M["= c0*c1"](b,E,a[2*o+0],a[2*o+1]),M["-= c0*c1"](R,D,a[2*p+0],a[2*p+1]),M["/="](k.re,k.im),x["= c0*c1"](A,S,a[2*p+0],a[2*p+1]),x["-= c0*c1"](j,F,a[2*o+0],a[2*o+1]),x["/="](k.re,k.im),a[2*p+0]=x.re,a[2*p+1]=x.im,a[2*o+0]=M.re,a[2*o+1]=M.im,o--}}}for(var O=0,N=function(n,r){return v[O+l*n+r]},j=0;O<v.length;O+=l*l,j+=l){if(P=Math.sqrt(Number.EPSILON)*function(){for(var n=0,r=0,e=O+l*l,t=O;t<e;t++){var a=s.math.abs(v[t]);0!=a&&(a>r&&(n*=Math.pow(r/a,2),r=a),n+=Math.pow(a/r,2))}return Math.sqrt(n)*r}(),!(P>=0))throw new Error("Assertion failed.");for(var F=l-1;F>=0;F--){var R=F-1;if(0==F||0==N(F,R)){var D=N(F,F);w[j+F]=D,y.fill(0,0,F+2),y[F]=1,S(D,y,F);for(var T=Math.min(l,F+2);T-- >0;)m[2*(O+l*T+F)+0]=g[2*T+0],m[2*(O+l*T+F)+1]=g[2*T+1]}else{var I=N(R,R),L=N(R,F),C=N(F,R),q=N(F,F),U=s.math.sub(I,q),Y=s.math.add(I,q),z=s.math.add(s.math.mul(U,U),s.math.mul(s.math.mul(4,L),C));if(z>=0)throw new Error("schur_eigenvals(T): T must not contain real eigenvalued 2x2 blocks.");var B=s.math.mul(.5,s.math.sqrt(z)),G=s.math.mul(.5,Y),V=s.math.add(G,B),$=s.math.sub(G,B);g.fill(0,0,2*(F+1)),b.fill(0,0,2*(F+1)),s.math.abs(L)>=s.math.abs(C)?(y[R]=L,y[F]=s.math.sub(V,I),_[R]=L,_[F]=s.math.sub($,I)):(y[F]=C,y[R]=s.math.sub(V,q),_[F]=C,_[R]=s.math.sub($,q)),S(V,y,R),S($,_,R);for(var X=F+1;X-- >0;)m[2*(O+l*X+R)+0]=g[2*X+0],m[2*(O+l*X+R)+1]=g[2*X+1],m[2*(O+l*X+F)+0]=b[2*X+0],m[2*(O+l*X+F)+1]=b[2*X+1];w[j+R]=V,w[j+F]=$,--F}}E.fill(0),A.fill(0);for(var W=0;W<l;W++)for(var J=0;J<2*l;J++){var H=J>>>1,Q=Math.abs(m[2*(O+l*W)+J]);if(Q>0){if(Q>A[H]){var K=A[H]/Q;A[H]=Q,E[H]*=K*K}var Z=Q/A[H];E[H]+=Z*Z}}for(var nn=E,rn=0;rn<l;rn++){var en=A[rn];nn[rn]=isFinite(en)?Math.sqrt(E[rn])*en:en}for(var tn=0;tn<l;tn++)for(var an=0;an<l;an++)v[O+l*tn+an]=s.math.div(v[O+l*tn+an],nn[an])}return[new f.NDArray(h,w),(0,d.matmul2)(n,new f.NDArray(c,v))]}function v(n){n=(0,f.asarray)(n);n.shape[n.ndim-1];var r=(0,c.hessenberg_decomp)(n),e=(0,a["default"])(r,2),t=e[0],o=e[1];return n=void 0,w(t,o),[t,o]}function w(n,r){var e=n.shape[n.ndim-1],t=o.ARRAY_TYPES[n.dtype],i=new t(e);if(n.shape[n.ndim-2]!=e)throw new Error("Q is not square.");if(n.ndim!=r.ndim)throw new Error("Q.ndim != H.ndim.");for(var s=n.ndim;s-- >0;)if(n.shape[s]!=r.shape[s])throw new Error("Q.shape != H.shape.");n=n.data,r=r.data;for(var f=Number.EPSILON,c=function n(o,s,c,d){var h=function(n,t){return r[d+e*n+t]},p=function(n){return!(Math.abs(h(n,n-1))>f*(Math.abs(h(n-1,n-1))+Math.abs(h(n,n))))&&(r[d+e*n+n-1]*=0,!0)},v=function(n,t,a,i){if(t<=n)throw new Error("Assertion failed.");for(var f=Math.max(0,n-1);f<c;f++){var u=r[d+e*n+f],l=r[d+e*t+f];r[d+e*n+f]=i*l+a*u,r[d+e*t+f]=a*l-i*u}for(var h=Math.min(c,t+2);h-- >0;){var p=r[d+e*h+n],v=r[d+e*h+t];r[d+e*h+n]=i*v+a*p,r[d+e*h+t]=a*v-i*p}for(var w=c;w-- >0;){var m=o[s+c*n+w],y=o[s+c*t+w];o[s+c*n+w]=i*y+a*m,o[s+c*t+w]=a*y-i*m}},w=function(a,f){if(f-a>c>>>1)throw new Error("Assertion failed.");var u=f-a;if(u<3)throw new Error("Assertion failed.");for(var l=new t(u*u),h=0;h<u;h++)l[u*h+h]=1;n(l,0,u,d+e*a+a);for(var p=0;p<u;p++)for(var v=0;v<p;v++){var w=l[u*p+v];l[u*p+v]=l[u*v+p],l[u*v+p]=w}for(var m=0;m<c;m++){i.fill(0,0,u);for(var y=0;y<u;y++)for(var g=0;g<u;g++)i[g]+=l[u*y+g]*o[s+c*(a+y)+m];for(var _=0;_<u;_++)o[s+c*(a+_)+m]=i[_]}for(var b=f;b<c;b++){i.fill(0,0,u);for(var E=0;E<u;E++)for(var A=0;A<u;A++)i[A]+=l[u*E+A]*r[d+e*(a+E)+b];for(var x=0;x<u;x++)r[d+e*(a+x)+b]=i[x]}for(var M=0;M<a;M++){i.fill(0,0,u);for(var k=0;k<u;k++)for(var P=0;P<u;P++)i[P]+=l[u*k+P]*r[d+e*M+(a+k)];for(var S=0;S<u;S++)r[d+e*M+(a+S)]=i[S]}},m=0,y=0,g=c,_=new u.AleaRNG("nd.la.schur_qrfrancis_inplace");while(1){for(var b=!1;!b;){if(g-y<3)return;if(g-y<c>>>4)return w(y,g);b=!1,p(y+1)?y+=1:p(g-1)?g-=1:p(y+2)?y+=2:p(g-2)?g-=2:b=!0;for(var E=y+g>>>1,A=y+2;b&&++A<g-2;)p(A)&&(b=!1,A>E?(w(A,g),g=A):(w(y,A),y=A));b||(m=0)}m+=1;var x=g-2,M=g-1,k=h(x,x)+h(M,M),P=h(x,x)*h(M,M)-h(x,M)*h(M,x);if(k*k>4*P){var S=k>=0?1:-1,O=.5*(k+S*Math.sqrt(k*k-4*P)),N=2*P/(k+S*Math.sqrt(k*k-4*P));Math.abs(h(M,M)-O)>Math.abs(h(M,M)-N)&&(O=N),k=2*O,P=O*O}if(m%16==0){if(m>1e9)throw new Error("Too many iterations for a single eigenvalue.");k=Math.abs(h(M,x))+Math.abs(h(x,g-3)),P=k*k,k*=_.uniform(1.25,1.75)}x=y+0,M=y+1;for(var j=y+2,F=h(x,x)*h(x,x)+h(x,M)*h(M,x)-k*h(x,x)+P,R=h(M,x)*(h(x,x)+h(M,M)-k),D=h(M,x)*h(j,M),T=2;T-- >0;M=j,R=D)if(0!=R){var I=(0,l._giv_rot_qr)(F,R),L=(0,a["default"])(I,3),C=L[0],q=L[1],U=L[2];v(x,M,C,q),F=U}for(var Y=y;Y<g-2;Y++){x=Y+1;var z=Math.min(g,Y+4);for(M=Y+2;M<z;M++){var B=h(x,Y),G=h(M,Y);if(0!==G){var V=(0,l._giv_rot_qr)(B,G),$=(0,a["default"])(V,3),X=$[0],W=$[1];$[2];v(x,M,X,W),r[d+e*M+Y]*=0}}}}},d=0;d<n.length;d+=e*e){for(var h=0;h<e;h++)for(var p=0;p<h;p++){var v=n[d+e*h+p];n[d+e*h+p]=n[d+e*p+h],n[d+e*p+h]=v}c(n,d,e,d);for(var w=1;w<e;w++){var m=w-1;if(0!=r[d+e*w+m]){var y=function(){var t=r[d+e*m+m],o=r[d+e*m+w],i=r[d+e*w+m],s=r[d+e*w+w],f=s-t,u=f*f+4*o*i;if(u<0)return"continue";for(var l=function(){if(0===o)return[0,1];var n=f+(f<0?-1:1)*Math.sqrt(u),r=2*o,e=Math.hypot(n,r),t=(r<0?-n:+n)/e,a=Math.abs(r)/e;return[a,t]}(),c=(0,a["default"])(l,2),h=c[0],p=c[1],v=m;v<e;v++){var y=r[d+e*m+v],g=r[d+e*w+v];r[d+e*m+v]=p*g+h*y,r[d+e*w+v]=h*g-p*y}for(var _=w+1;_-- >0;){var b=r[d+e*_+m],E=r[d+e*_+w];r[d+e*_+m]=p*E+h*b,r[d+e*_+w]=h*E-p*b}for(var A=e;A-- >0;){var x=n[d+e*m+A],M=n[d+e*w+A];n[d+e*m+A]=p*M+h*x,n[d+e*w+A]=h*M-p*x}r[d+e*w+m]*=0}();if("continue"===y)continue}}for(var g=0;g<e;g++)for(var _=0;_<g;_++){var b=n[d+e*g+_];n[d+e*g+_]=n[d+e*_+g],n[d+e*_+g]=b}}}},27871:function(n,r,e){"use strict";e(81299),e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.SingularMatrixSolveError=void 0;var a=t(e(16125)),o=t(e(63490)),i=t(e(55156)),s=t(e(46907)),f=t(e(25629)),u=e(30065);function l(n){var r=c();return function(){var e,t=(0,s["default"])(n);if(r){var a=(0,s["default"])(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return(0,i["default"])(this,e)}}function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var d=function(n){(0,o["default"])(e,n);var r=l(e);function e(n){var t;(0,a["default"])(this,e);for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(t=r.call.apply(r,[this].concat(i)),!(n instanceof u.NDArray))throw new Error("Assertion failed.");return t.x=n,t}return e}((0,f["default"])(Error));r.SingularMatrixSolveError=d},34071:function(n,r,e){"use strict";var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.solve=i;var a=t(e(42989)),o=e(5323);function i(n,r){var e=(0,o.rrqr_decomp)(n),t=(0,a["default"])(e,3),i=t[0],s=t[1],f=t[2];return(0,o.rrqr_solve)(i,s,f,r)}},97619:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(25438);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r._row_norm_update=c,r.srrqr_decomp_full=d;var a=t(e(42989)),o=e(11882),i=e(30065),s=e(52894),f=e(30716),u=e(5323),l=e(13511);function c(n,r,e,t){e|=0,t<<=1;for(var a=0;a<t;a+=2){var o=Math.abs(r[e+(a>>>1)]);if(0!==o){if(n[a]<o){var i=n[a]/o;n[a+1]*=i*i,n[a]=o}o/=n[a],n[a+1]+=o*o}}}function d(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n=(0,i.asarray)(n),n.ndim<2)throw new Error("srrqr_decomp_full(A,opt): A must be at least 2D.");if(n.dtype.startsWith("complex"))throw new Error("srrqr_decomp_full(A,opt): Complex A not (yet) supported.");var e="float32"===n.dtype?"float32":"float64",t=o.ARRAY_TYPES[e],d=n.shape,h=Int32Array.from(d),p=h.slice(0,-1),v=d.slice(0,-2),w=d.slice(-2),m=(0,a["default"])(w,2),y=m[0],g=m[1],_=Math.min(y,g);h[h.length-1]=y,p[p.length-1]=g;var b=t.from(n.data);n=void 0;for(var E=new Int32Array(b.length/g/y),A=new Int32Array(b.length/y),x=new t(b.length/g*y),M=new t(y*g),k=new t(y*g),P=new t(g<<1),S=new f.FrobeniusNorm,O=E.length;O-- >0;)E[O]=1024*Math.random()-1024;var N=NaN,j=NaN,F=!1,R=0,D=0,T=0,I=0,L=0,C=0,q=function(){var n=r,t=n.dtol,a=void 0===t?1.01:t,s=n.ztol,f=void 0===s?void 0:s;if(a instanceof i.NDArray)throw new Error("srrqr_decomp_full(A,opt): NDArray as opt.dtol not yet supported.");if(!(a>=1))throw new Error("srrqr_decomp_full(A,opt): Invalid opt.dtol: ".concat(a,". Must be >=1."));var u=Number(a);if(a=function(){return u},f instanceof i.NDArray)throw new Error("srrqr_decomp_full(A,opt): NDArray as opt.ztol not yet supported.");if(null==f){var l=Math.sqrt((0,o.eps)(e));f=function(n){n*=y*g;var r=n+y*g;for(S.reset();n<r;n++)S.include(b[n]);return l*S.result*Math.max(y,g)}}else{if(!(f>=0))throw new Error("srrqr_decomp_full(A,opt): invalid opt.ztol: ".concat(f,". Must be non-negative number."));var c=Number(f);f=function(){return c}}return[a,f]}(),U=(0,a["default"])(q,2),Y=U[0],z=U[1];r=void 0;for(var B=function(n,r){var e=-b[D+g*r+r];n[r+r*y]=-1/e;for(var t=r;t-- >0;)n[t+r*y]/=e;for(var a=r;++a<g;)for(var o=0;o<=r;o++)n[o+a*y]+=n[o+r*y]*b[D+g*r+a]},G=function(n,r){for(var e=g;--e>r;){n[r+e*y]=0;for(var t=r;t-- >0;)n[t+e*y]-=n[t+r*y]*b[D+g*r+e]}n[r+r*y]=0;for(var a=-b[D+g*r+r],o=r;o-- >0;)n[o+r*y]*=a},V=function(n){for(var r=0;r<y;r++){var e=b[D+g*r+L];b[D+g*r+L]=b[D+g*r+n],b[D+g*r+n]=e}for(var t=0;t<L;t++){var o=k[t+L*y];k[t+L*y]=k[t+n*y],k[t+n*y]=o}for(var i=0;i<L;i++){var f=M[i+L*y];M[i+L*y]=M[i+n*y],M[i+n*y]=f}var l=A[T+L];A[T+L]=A[T+n],A[T+n]=l,P.fill(0);for(var c=L;++c<y;){var d=D+g*L+L,h=D+g*c+L,p=b[h];if(0!==p){var v=b[d],w=(0,s._giv_rot_qr)(v,p),m=(0,a["default"])(w,3),_=m[0],E=m[1],S=m[2];b[h]=0,0!==E&&(b[d]=S,(0,s._giv_rot_rows)(b,g-1-L,d+1,h+1,_,E),(0,s._giv_rot_rows)(x,F?y:c+1,R+y*L,R+y*c,_,E))}(0,u._norm_update)(P,b,D+g*c,L+1)}},$=function(){for(var n=-1,r=-1/0,e=L;e<g;e++){var t=(0,u._norm)(P,e);r<t&&(n=e,r=t)}V(n)},X=function(n,r){for(var e=0;e<g;e++)for(var t=0;t<L;t++)r[t+e*y]=n[t+e*y]},W=function(n,r,e){for(var t=r;t<g;t++){var a=n[r+t*y];if(t<e){for(var o=r;o<t;o++)n[o+t*y]=n[o+1+t*y];n[t+t*y]=0}else for(var i=r;i<e;i++)n[i+t*y]=n[i+1+t*y];n[e+t*y]=a}},J=function(){P.fill(0);for(var n=L;n<y;n++)(0,u._norm_update)(P,b,D+g*n,L)},H=function(){S.reset();for(var n=L;n<g;n++)S.include((0,u._norm)(P,n));return S.result},Q=function(n){n?($(),B(M,L++),X(M,k),I=L):(X(k,M),L=I,J());var r=I+C>>>1;while(L<r){if(H()<=N){if(C=L,I<L){X(k,M),L=I,J(),r=I+C>>>1,n=!1;continue}break}n&&$(),B(M,L++),n||J()}},K=0;R<x.length;R+=y*y,D+=y*g,T+=g,K+=1){S.reset();for(var Z=y*g;Z-- >0;)S.include(b[D+Z]);var nn=0===S.max?1:S.result;if(!isFinite(nn))throw new Error("Assertion failed: "+nn);if(!(0<nn))throw new Error("Assertion failed: "+nn);if(1!==nn)for(var rn=y*g;rn-- >0;)b[D+rn]/=nn;for(var en=0;en<g;en++)A[T+en]=en;for(var tn=0;tn<y;tn++)x[R+y*tn+tn]=1;if(k.fill(0),M.fill(0),j=Y(K),N=z(K),!isFinite(j))throw new Error("Assertion failed. Invalid dtol: ".concat(j,"."));if(!isFinite(N))throw new Error("Assertion failed. Invalid ztol: ".concat(N,"."));if(!(1<=j))throw new Error("Assertion failed. Invalid dtol: ".concat(j,"."));if(!(0<=N))throw new Error("Assertion failed. Invalid ztol: ".concat(N,"."));I=L=0,C=_,F=!1,J();n:for(;;){if(H()<=N)if(C=L,I<L)Q(!1);else if(L===g)break n;for(var an=-1,on=-1,sn=-1/0,fn=0;fn<L;fn++)c(P,M,fn*y,fn+1);for(var un=0;un<L;un++)for(var ln=(0,u._norm)(P,un),cn=L;cn<g;cn++){var dn=(0,u._norm)(P,cn),hn=Math.hypot(M[un+cn*y],ln*dn);sn<hn&&(sn=hn,an=un,on=cn)}if(sn>j){if(F=!0,an<I){--I;for(var pn=0;pn<=I;pn++){for(var vn=b[D+g*pn+an],wn=Math.max(an,pn-1);wn<I;wn++)b[D+g*pn+wn]=b[D+g*pn+(wn+1)];b[D+g*pn+I]=vn}W(M,an,I),W(k,an,I);for(var mn=A[T+an],yn=an;yn<I;yn++)A[T+yn]=A[T+yn+1];A[T+I]=mn;for(var gn=an;gn<I;gn++){var _n=D+g*gn+gn,bn=D+g*(gn+1)+gn,En=b[bn];if(0!==En){var An=b[_n],xn=(0,s._giv_rot_qr)(An,En),Mn=(0,a["default"])(xn,3),kn=Mn[0],Pn=Mn[1],Sn=Mn[2];b[bn]=0,0!==Pn&&(b[_n]=Sn,(0,s._giv_rot_rows)(b,g-1-gn,_n+1,bn+1,kn,Pn),(0,s._giv_rot_rows)(x,y,R+y*gn,R+y*(gn+1),kn,Pn),(0,s._giv_rot_rows)(M,gn+1,y*gn,y*(gn+1),kn,Pn),M[I+(gn+1)*y]=-Pn*M[I+gn*y]+kn*M[I+(gn+1)*y],(0,s._giv_rot_rows)(k,gn+1,y*gn,y*(gn+1),kn,Pn),k[I+(gn+1)*y]=-Pn*k[I+gn*y]+kn*k[I+(gn+1)*y])}M[I+gn*y]=0,k[I+gn*y]=0}G(k,I),an=I++}--L;for(var On=0;On<=L;On++){for(var Nn=b[D+g*On+an],jn=Math.max(an,On-1);jn<L;jn++)b[D+g*On+jn]=b[D+g*On+(jn+1)];b[D+g*On+L]=Nn}W(M,an,L);for(var Fn=0;Fn<I;Fn++)P[Fn]=k[Fn+an*y];for(var Rn=an;Rn<L;Rn++)for(var Dn=0;Dn<I;Dn++)k[Dn+Rn*y]=k[Dn+(Rn+1)*y];for(var Tn=0;Tn<I;Tn++)k[Tn+L*y]=P[Tn];for(var In=A[T+an],Ln=an;Ln<L;Ln++)A[T+Ln]=A[T+Ln+1];A[T+L]=In;for(var Cn=an;Cn<L;Cn++){var qn=D+g*Cn+Cn,Un=D+g*(Cn+1)+Cn,Yn=b[Un];if(0!==Yn){var zn=b[qn],Bn=(0,s._giv_rot_qr)(zn,Yn),Gn=(0,a["default"])(Bn,3),Vn=Gn[0],$n=Gn[1],Xn=Gn[2];b[Un]=0,0!==$n&&(b[qn]=Xn,(0,s._giv_rot_rows)(b,g-1-Cn,qn+1,Un+1,Vn,$n),(0,s._giv_rot_rows)(x,y,R+y*Cn,R+y*(Cn+1),Vn,$n),(0,s._giv_rot_rows)(M,Cn+1,y*Cn,y*(Cn+1),Vn,$n),M[L+(Cn+1)*y]=-$n*M[L+Cn*y]+Vn*M[L+(Cn+1)*y])}M[L+Cn*y]=0}G(M,L),V(on),an<I&&B(k,an),B(M,L++)}else{if(I>=C)break n;Q(!0)}}if(1!==nn)for(var Wn=y*g;Wn-- >0;)b[D+Wn]*=nn;E[K]=L,(0,l._transpose_inplace)(y,x,R)}return[new i.NDArray(h,x),new i.NDArray(d,b),new i.NDArray(p,A),new i.NDArray(v,E)]}},29362:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.svd_rank=l,r.svd_solve=c,r.svd_lstsq=d,Object.defineProperty(r,"svd_decomp",{enumerable:!0,get:function(){return u.svd_dc}});var a=t(e(42989)),o=t(e(95551)),i=e(30065),s=e(11882),f=e(27871),u=e(48660);function l(n){n=(0,i.asarray)(n);var r=n.shape[n.ndim-1],e=n.shape.slice(0,-1),t=o["default"].sqrt((0,s.eps)(n.dtype));n=n.data;for(var a=new s.ARRAY_TYPES["int32"](n.length/r),f=0;f<a.length;f++){var u=t*o["default"].abs(n[r*f]);if(0!==a[f])throw new Error("Assertion failed.");for(;a[f]<r;a[f]++){var l=o["default"].abs(n[r*f+a[f]]);if(!isFinite(l))throw new Error("svd_rank(): NaN or Infinity encountered.");if(l<=u)break}}return new i.NDArray(e,a)}function c(n,r,e,t){if(void 0==t){if(void 0!=e)throw new Error("svd_lstsq(Q,R,P, y): Either 2 ([Q,R,P], y) or 4 arguments (Q,R,P, y) expected.");t=r;var u=n,l=(0,a["default"])(u,3);n=l[0],r=l[1],e=l[2]}if(n=(0,i.asarray)(n),r=(0,i.asarray)(r),e=(0,i.asarray)(e),n.shape[n.ndim-2]!==e.shape[e.ndim-1])throw new Error("rrqr_solve(Q,R,P, y): System not square.");var c=d(n,r,e,t),h=o["default"].sqrt((0,s.eps)(r.dtype)),p=r.shape[r.ndim-1];r=r.data;for(var v=0;v<r.length;v+=p)for(var w,m=h*o["default"].abs(r[v]);w<p;w++){var y=o["default"].abs(r[v+w]);if(!isFinite(y))throw new Error("svd_solve(): NaN or Infinity encountered.");if(y<=m)throw new f.SingularMatrixSolveError(c)}return c}function d(n,r,e,t){if(void 0==t){if(void 0!=e)throw new Error("svd_lstsq(Q,R,P, y): Either 2 ([Q,R,P], y) or 4 arguments (Q,R,P, y) expected.");t=r;var f=n,u=(0,a["default"])(f,3);n=u[0],r=u[1],e=u[2]}if(n=(0,i.asarray)(n),n.ndim<2)throw new Error("svd_lstsq(U,sv,V, y): U.ndim must be at least 2.");if(r=(0,i.asarray)(r),r.ndim<1)throw new Error("svd_lstsq(U,sv,V, y): sv.ndim must be at least 1.");if(e=(0,i.asarray)(e),e.ndim<2)throw new Error("svd_lstsq(U,sv,V, y): V.ndim must be at least 2.");if(t=(0,i.asarray)(t),t.ndim<2)throw new Error("svd_lstsq(U,sv,V, y): y.ndim must be at least 2.");var l=n.shape.slice(-2),c=(0,a["default"])(l,2),d=c[0],h=c[1],p=e.shape.slice(-1),v=(0,a["default"])(p,1),w=v[0],m=t.shape.slice(-1),y=(0,a["default"])(m,1),g=y[0];if(d!==t.shape[t.ndim-2])throw new Error("svd_lstsq(U,sv,V, y): U and y don't match.");if(h!==r.shape[r.ndim-1])throw new Error("svd_lstsq(U,sv,V, y): U and sv don't match.");if(h!==e.shape[e.ndim-2])throw new Error("svd_lstsq(U,sv,V, y): V and sv don't match.");var _=Math.max(n.ndim,r.ndim+1,e.ndim,t.ndim),b=Int32Array.from({length:_},(function(){return 1}));b[_-2]=w,b[_-1]=g;for(var E=0,A=[n,e,t];E<A.length;E++)for(var x=A[E],M=_-2,k=x.ndim-2;M-- >0&&k-- >0;)if(1===b[M])b[M]=x.shape[k];else if(b[M]!=x.shape[k]&&1!=x.shape[k])throw new Error("svd_lstsq(U,sv,V, y): U,sv,V,y not broadcast-compatible.");for(var P=_-2,S=r.ndim-1;P-- >0&&S-- >0;)if(1===b[P])b[P]=r.shape[S];else if(b[P]!=r.shape[S]&&1!=r.shape[S])throw new Error("svd_lstsq(U,sv,V, y): U,sv,V,y not broadcast-compatible.");var O=o["default"].sqrt((0,s.eps)(r.dtype)),N=s.ARRAY_TYPES[[n,r,e,t].every((function(n){return"float32"===n.dtype}))?"float32":"float64"],j=new N(h*g),F=new N(b.reduce((function(n,r){return n*r}),1)),R=n.data,D=r.data,T=e.data,I=t.data,L=0,C=1,q=0,U=1,Y=0,z=1,B=0,G=1,V=0;function $(a){if(a===_-2){C=d*h,U=h,z=h*w,G=d*g;var i=function(){for(var n=O*o["default"].abs(D[q]),r=0;r<h;r++){var e=o["default"].abs(D[q+r]);if(!isFinite(e))throw new Error("svd_solve(): NaN or Infinity encountered.");if(e<=n)return r}return h}();j.fill(0);for(var s=0;s<d;s++)for(var f=0;f<i;f++)for(var u=0;u<g;u++)j[g*f+u]+=R[L+h*s+f]*I[B+g*s+u];for(var l=0;l<i;l++)for(var c=0;c<g;c++)j[g*l+c]/=D[q+l];for(var p=0;p<i;p++)for(var v=0;v<w;v++)for(var m=0;m<g;m++)F[V+g*v+m]+=T[Y+w*p+v]*j[g*p+m];return L+=C,q+=U,Y+=z,B+=G,void(V+=w*g)}for(var y=b[a];;y--){if($(a+1),1==y)break;n.shape[a-_+n.ndim]>1||(L-=C),r.shape[a-_+1+r.ndim]>1||(q-=U),e.shape[a-_+e.ndim]>1||(Y-=z),t.shape[a-_+t.ndim]>1||(B-=G)}C*=n.shape[a-_+n.ndim]||1,U*=r.shape[a-_+1+r.ndim]||1,z*=e.shape[a-_+e.ndim]||1,G*=t.shape[a-_+t.ndim]||1}return $(0),new i.NDArray(b,F)}},48660:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r._svd_dc_bidiag=v,r._svd_dc=w,r.svd_dc=m,r._svd_dc_neves=r._svd_dc_2x3=r._svd_dc_1x2=void 0;var a=t(e(42989)),o=e(11882),i=e(30065),s=e(13511),f=e(52894),u=e(12812),l=e(30716),c=e(23608),d=function(n,r,e,t,o,i){n|=0,e|=0,o|=0,i|=0;var s=(0,f._giv_rot_qr)(t[o],t[o+1]),u=(0,a["default"])(s,3),l=u[0],c=u[1],d=u[2];0!==d?(t[o]=d,t[o+1]=NaN,t[i]=l,t[i+1]=-c,t[i+1*n]=c,t[i+1*n+1]=l):(t[i]=1,t[i+1*n+1]=1),r[e]=1};r._svd_dc_1x2=d;var h=function(n,r,e,t,o,i){e|=0,o|=0,i|=0,n|=0;var s=n-1|0,l=t[o],c=t[o+1],d=t[o+2],h=t[o+3];if(0!==h){var p=(0,f._giv_rot_qr)(d,h),v=(0,a["default"])(p,3),w=v[0],m=v[1],y=v[2];if(t[i+1*n+1]=w,t[i+2*n+1]=m,d=y,h=-m*c,c*=w,0!==h){var g=(0,f._giv_rot_qr)(l,h),_=(0,a["default"])(g,3),b=_[0],E=_[1],A=_[2];l=A,t[i]=b,t[i+1*n]=E*-m,t[i+2*n]=E*w,t[i+2]=-E,t[i+1*n+2]=b*-m,t[i+2*n+2]=b*w}else t[i]=1,t[i+1*n+2]=-m,t[i+2*n+2]=w}else t[i]=1,t[i+1*n+1]=1,t[i+2*n+2]=1;var x=(0,u._svd_jac_angles)(l,c,0,d),M=(0,a["default"])(x,4),k=M[0],P=M[1],S=M[2],O=M[3];t[o+1]=NaN,t[o+3]=NaN,t[o]=k*l*S-(k*c+P*d)*O,d=(-P*c+k*d)*S-P*l*O;var N=d<0?-1:1;t[o+2]=N*d,r[e]=k,r[e+1]=-P*N,r[e+1*s]=P,r[e+1*s+1]=k*N,t[i+1]=O*t[i],t[i]*=S;var j=t[i+1*n]*S-t[i+1*n+1]*O;t[i+1*n+1]=t[i+1*n]*O+t[i+1*n+1]*S,t[i+1*n]=j;var F=t[i+2*n]*S-t[i+2*n+1]*O;t[i+2*n+1]=t[i+2*n]*O+t[i+2*n+1]*S,t[i+2*n]=F};r._svd_dc_2x3=h;var p=function(n,r,e,t,i,s,u,c){t|=0,s|=0,u|=0,n|=0;var d=n-1|0;r|=0;var h=r-1|0;if(c.length<3*d)throw new Error("Assertion failed: Integer work matrix I too small.");if(i.length<d*(d+2)+2*d+(d+1)*(d+1))throw new Error("Assertion failed: Scalar work matrix F too small.");var p=d*(d+2)-h,v=d*(d+2)-2*h,w=d*(d+2)-h*(h+2),m=2*h,y=h,g=0;if(r<2)throw new Error("Assertion failed.");if(0!==i[s+2*h-2])throw new Error("Assertion failed.");for(var _=1;_<h;_++)if(i[s+2*(_-1)]<i[s+2*_])throw new Error("Assertion failed.");for(var b=new l.FrobeniusNorm,E=function(){for(var n=0;n<h;n++)b.include(i[s+2*n+1]);for(var r=b.result,e=0;e<h;e++)b.include(i[s+2*e]);var t=b.result;return 0===t&&(t=1),[r/t,t]}(),A=(0,a["default"])(E,2),x=A[0],M=A[1],k=0;k<2*h;k++)i[s+k]/=M;for(var P=(0,o.eps)(e instanceof Float32Array?"float32":"float64"),S=function(){for(var n=0,r=h-1,e=h-1;e-- >0;){var t=i[s+2*e],a=i[s+2*e+1],o=c[g+e];Math.abs(a)/P<=t?(i[p+n]=t,c[y+n]=o,++n):(--r,i[s+2*r]=t,i[s+2*r+1]=i[s+2*e+1],c[y+r]=o)}return n}(),O=0;O<S;O++)c[g+O]=c[y+O];for(var N=function(){for(var n=S,r=h-1,e=h-1;e-- >S;){var t=i[s+2*e],o=i[s+2*r],u=c[y+e],l=i[s+2*e+1],d=i[s+2*r+1],v=(0,f._giv_rot_qr)(d,l),_=(0,a["default"])(v,3),b=_[0],E=_[1],A=_[2];(t-o)/P<=t||!isFinite(Math.sqrt(h)/(t-o))?(i[w+2*n]=b,i[w+2*n+1]=E,i[s+2*r+1]=A,i[s+2*r]=i[p+n]=t,c[g+n]=u,c[m+n]=r,++n):(--r,i[s+2*r]=t,i[s+2*r+1]=i[s+2*e+1],c[g+r]=u)}return n}(),j=2*S;j<2*N;j++)i[s+j]=i[w+j],i[w+j]=0;for(var F=function(n){var r=i[s+2*n],e=N<n?i[s+2*n-2]:r+x;if(r>e)throw new Error("Assertion failed.");for(var t=function(){if(n>N){for(var t=(r+e)/2,a=1,o=N;o<h;o++){var f=i[s+2*o],u=i[s+2*o+1];a+=u/(f-t)*(u/(f+t))}if(!isFinite(a))throw new Error("Assertion failed.");if(a<0){var l=e;return r-=e,e=-Number.MIN_VALUE,l}}var c=r;return e-=r,r=+Number.MIN_VALUE,c}();;){var a=(r+e)/2;if(a===r||a===e){i[p+n]=a;break}for(var o=1,f=N;f<h;f++){var u=i[s+2*f],l=i[s+2*f+1];o+=l/(u-t-a)*(l/(u+t+a))}if(!isFinite(o))throw new Error("Assertion failed.");o<=0&&(r=a),o>=0&&(e=a)}},R=N;R<h;R++)F(R);0===Math.abs(i[s+2*h-1])&&(i[s+2*h-2]=0,i[s+2*h-1]=0,i[p+h-1]=0);for(var D=i[p+h-1],T=i[s+2*(h-1-(D<0))],I=N;I<h;I++){for(var L=i[s+2*I],C=(T-L+D)*(T+L+D),q=N;q<I;q++){var U=i[p+q],Y=i[s+2*(q-(U<0))],z=i[s+2*q];C*=(Y-L+U)/(z-L)*((Y+L+U)/(z+L))}for(var B=I;B<h-1;B++){var G=i[p+B],V=i[s+2*(B-(G<0))],$=i[s+2*B+2];C*=(V-L+G)/($-L)*((V+L+G)/($+L))}i[s+2*I+1]=Math.sign(i[s+2*I+1])*Math.sqrt(C)}for(var X=S-1,W=N-1,J=N,H=0;H<h;H++){var Q=-1/0,K=3;if(J<h){var Z=i[p+J];K=2,Q=Z+i[s+2*(J-(Z<0))]}if(W>=S){var nn=i[p+W];nn<Q||(K=1,Q=nn)}if(X>=0){var rn=i[p+X];rn<Q||(K=0,Q=rn)}switch(K){case 0:c[y+X--]=H;continue;case 1:c[y+W--]=H;continue;case 2:c[y+J++]=H;continue;default:throw new Error("Assertion failed.")}}for(var en=N;en<h;en++){var tn=i[p+en],an=i[s+2*(en-(tn<0))];b.reset();for(var on=N;on<h-1;on++){var sn=i[s+2*on],fn=i[s+2*on+1],un=fn/(sn-an-tn)*(sn/(sn+an+tn));b.include(i[w+h*en+on]=un)}b.include(i[w+h*en+h-1]=-1);var ln=b.result;if(!(0<ln))throw new Error("Assertion failed.");for(var cn=N;cn<h;cn++)i[w+h*en+cn]/=ln}for(var dn=N;dn<h;dn++)for(var hn=dn;++hn<h;){var pn=i[w+h*dn+hn];i[w+h*dn+hn]=i[w+h*hn+dn],i[w+h*hn+dn]=pn}if(S<N){for(var vn=S;vn<N;vn++)i.fill(0,w+h*vn+S,w+h*vn+h),i[w+h*vn+vn]=1;for(var wn=N;wn<h;wn++)i.fill(0,w+h*wn+S,w+h*wn+N);for(var mn=N;mn-- >S;){var yn=c[m+mn];if(yn<h-1){var gn=i[s+2*mn],_n=i[s+2*mn+1];(0,f._giv_rot_rows)(i,h-mn,w+h*mn+mn,w+h*yn+mn,gn,_n)}}}for(var bn=0;bn<h;bn++){i.fill(0,v+S,v+h);for(var En=S;En<h;En++){var An=e[t+d*bn+c[g+En]];if(0!==An)for(var xn=S;xn<h;xn++)i[v+xn]+=An*i[w+h*En+xn]}for(var Mn=0;Mn<S;Mn++){var kn=c[g+Mn];i[v+Mn]=e[t+d*bn+kn]}for(var Pn=0;Pn<h;Pn++){var Sn=c[y+Pn];e[t+d*bn+Sn]=i[v+Pn]}}for(var On=N;On<h;On++){var Nn=i[p+On],jn=i[s+2*(On-(Nn<0))];b.reset();for(var Fn=N;Fn<h;Fn++){var Rn=i[s+2*Fn],Dn=i[s+2*Fn+1],Tn=Dn/(Rn-jn-Nn)/(Rn+jn+Nn);b.include(i[w+h*On+Fn]=Tn)}var In=b.result;if(!(0<In||On===h-1))throw new Error("Assertion failed: "+In);for(var Ln=N;Ln<h;Ln++)i[w+h*On+Ln]/=In}if(0===i[s+2*h-1]){for(var Cn=N;Cn<h-1;Cn++)i[w+h*(h-1)+Cn]=0;i[w+h*(h-1)+(h-1)]=1}for(var qn=N;qn<h;qn++)for(var Un=qn;++Un<h;){var Yn=i[w+h*qn+Un];i[w+h*qn+Un]=i[w+h*Un+qn],i[w+h*Un+qn]=Yn}if(S<N){for(var zn=S;zn<N;zn++)i.fill(0,w+h*zn+S,w+h*zn+h),i[w+h*zn+zn]=1;for(var Bn=N;Bn<h;Bn++)i.fill(0,w+h*Bn+S,w+h*Bn+N);for(var Gn=N;Gn-- >S;){var Vn=c[m+Gn],$n=i[s+2*Gn],Xn=i[s+2*Gn+1];(0,f._giv_rot_rows)(i,h-Gn,w+h*Gn+Gn,w+h*Vn+Gn,$n,Xn)}}for(var Wn=0;Wn<r;Wn++){i.fill(0,v+S,v+h);for(var Jn=S;Jn<h;Jn++){var Hn=i[u+n*Wn+c[g+Jn]];if(0!==Hn)for(var Qn=S;Qn<h;Qn++)i[v+Qn]+=Hn*i[w+h*Jn+Qn]}for(var Kn=0;Kn<S;Kn++){var Zn=c[g+Kn];i[v+Kn]=i[u+n*Wn+Zn]}for(var nr=0;nr<h;nr++){var rr=c[y+nr];i[u+n*Wn+rr]=i[v+nr]}}for(var er=N;er<h;er++)i[p+er]+=i[s+2*(er-(i[p+er]<0))];for(var tr=0;tr<h;tr++){var ar=c[y+tr];i[s+2*ar]=i[p+tr]*M,i[s+2*ar+1]=NaN}};function v(n,r,e,t,o,i,s,u){if(r>n)throw new Error("Assertion failed.");if(1>=r)throw new Error("Assertion failed.");if(2===r)return d(n,e,t,o,i,s);if(3===r)return h(n,e,t,o,i,s);var l=n-1,c=r-1,w=r>>>1,m=w-1;if(u.length<l)throw new Error("Assertion failed: Integer work matrix I too small.");if(o.length<2*l)throw new Error("Assertion failed: Scalar work matrix F too small.");v(n,w,e,t,o,i,s,u),v(n,r-w,e,t+l*w+w,o,i+2*w,s+n*w+w,u),e[t+l*m+m]=1;for(var y=o[i+2*m],g=o[i+2*m+1],_=0;_<m;_++)o[i+2*_+1]=y*o[s+n*m+_];for(var b=w;b<c;b++)o[i+2*b+1]=g*o[s+n*w+b];var E=(0,f._giv_rot_qr)(y*o[s+n*m+m],g*o[s+n*w+c]),A=(0,a["default"])(E,3),x=A[0],M=A[1],k=A[2];if(o[i+2*m]=0,o[i+2*m+1]=k,0!==k){for(var P=0;P<w;P++)o[s+n*P+c]=o[s+n*P+m]*-M,o[s+n*P+m]*=x;for(var S=w;S<r;S++)o[s+n*S+m]=o[s+n*S+c]*M,o[s+n*S+c]*=x}u[c-1]=m;for(var O=0,N=w,j=0;j<c-1;j++)u[j]=N>=c||O<m&&o[i+2*O]>=o[i+2*N]?O++:N++;for(var F=0;F<c;F++){var R=u[F];o[2*F]=o[i+2*R],o[2*F+1]=o[i+2*R+1]}for(var D=0;D<c;D++)o[i+2*D]=o[2*D],o[i+2*D+1]=o[2*D+1];p(n,r,e,t,o,i,s,u)}function w(n,r,e,t,a,o,i,s,f,u){if(n>r)throw new Error("Assertion failed.");if(f.length<3*n)throw new Error("Assertion failed: Integer work matrix I too small.");if(u.length<n*(n+2)+2*n+(n+1)*(n+1)+(n+1)*r)throw new Error("Assertion failed: Scalar work matrix F too small.");var l=n*(n+2),d=l+2*n,h=d+(n+1)*(n+1);u.fill(0,d,h+r);for(var p=0;p<n;p++)for(var w=0;w<r;w++)u[h+r+r*p+w]=i[s+r*p+w];i.fill(0,s,s+n*r),(0,c._bidiag_decomp_horiz)(n,r,e,t,u,0,u,h);for(var m=0;m<n;m++)u[l+2*m]=u[(n+1)*m+m],u[l+2*m+1]=u[(n+1)*m+m+1];v(n+1,n+1,i,s,u,l,d,f);for(var y=0;y<n;y++)a[o+y]=u[l+2*y];for(var g=0;g<n;g++){u.fill(0,0,n);for(var _=0;_<n;_++)for(var b=0;b<n;b++)u[b]+=e[t+n*g+_]*i[s+n*_+b];for(var E=0;E<n;E++)e[t+n*g+E]=u[E]}i.fill(0,s,s+n*n);for(var A=0;A<n+1;A++)for(var x=0;x<n;x++)for(var M=0;M<r;M++)i[s+r*x+M]+=u[d+(n+1)*A+x]*u[h+r*A+M]}function m(n){if(n=(0,i.asarray)(n),n.dtype.startsWith("complex"))throw new Error("svd_dc(A): A.dtype must be float.");var r=n.shape.slice(-2),e=(0,a["default"])(r,2),t=e[0],f=e[1];if(t>f){var u=m(n.T),l=(0,a["default"])(u,3),c=l[0],d=l[1],h=l[2];return(0,s.transpose_inplace)(c),[h.T,d,c]}var p=n.shape,v=p.slice(),y=p.slice(0,-1);v[v.length-1]=t;var g="float32"===n.dtype?"float32":"float64",_=o.ARRAY_TYPES[g];n=n.data;var b=n.length/(t*f),E=_.from(n);n=void 0;for(var A=new _(b*t*t),x=new _(b*t),M=new _(t*(t+2)+2*t+(t+1)*(t+1)+(t+1)*Math.max(1+t,f)),k=new Int32Array(3*t),P=0,S=0,O=0;S<x.length;P+=t*t,S+=t,O+=t*f)w(t,f,A,P,x,S,E,O,k,M);return[new i.NDArray(v,A),new i.NDArray(y,x),new i.NDArray(p,E)]}r._svd_dc_neves=p},69305:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.svd_jac_2sided=d;var a=t(e(42989)),o=e(11882),i=e(30065),s=e(48782),f=e(99777),u=e(13511),l=e(12812),c=e(52894);function d(n){if(n=(0,i.asarray)(n),n.dtype.startsWith("complex"))throw new Error("svd_jac_1sided(A): A.dtype must be float.");var r=n.shape,e=0|r[r.length-2],t=r[r.length-1];if(e>t){var h=(0,f.qr_decomp)(n),p=(0,a["default"])(h,2),v=p[0],w=p[1],m=d(w),y=(0,a["default"])(m,3),g=y[0],_=y[1],b=y[2];return[(0,s.matmul2)(v,g),_,b]}if(e<t){var E=(0,f.qr_decomp)(n.T),A=(0,a["default"])(E,2),x=A[0],M=A[1],k=d(M),P=(0,a["default"])(k,3),S=P[0],O=P[1],N=P[2];return(0,u.transpose_inplace)(N),[N,O,(0,s.matmul2)(x,S).T]}var j="float32"===n.dtype?"float32":"float64",F=o.ARRAY_TYPES[j],R=Math.pow(e*(0,o.eps)(j),2),D="float32"===j?16:8,T=F.from(n.data);n=void 0;var I=new F(e*e),L=new F(T.length),C=new F(T.length/e),q=Int32Array.from({length:e},(function(n,r){return r}));if(1>e)throw new Error("Assertion failed.");if(1==e){for(var U=T.length;U-- >0;)T[U]<0?(T[U]*=-1,C[U]=-1):C[U]=1;return[new i.NDArray(r,C),new i.NDArray(r.slice(0,-1),T),new i.NDArray(r,L.fill(1))]}for(var Y=0,z=0;z<C.length;Y+=e*e,z+=e){for(var B=0;B<e;B++)for(var G=0;G<e;G++)I[e*B+G]=T[Y+e*B+G],T[Y+e*B+G]=+(B===G);for(var V=0;V<e;V++)for(var $=0;$<e;$++)L[Y+e*V+$]=+(V===$);for(var X=!1;!X;){X=!0;for(var W=0;W<e;W+=D)for(var J=0;J<=W;J+=D)for(var H=W;H<W+D&&H<e;H++)for(var Q=J;Q<J+D&&Q<H;Q++){var K=I[e*Q+Q],Z=I[e*Q+H],nn=I[e*H+Q],rn=I[e*H+H];if(Z*Z+nn*nn>Math.abs(K*rn)*R){X=!1;var en=(0,l._svd_jac_angles)(K,Z,nn,rn),tn=(0,a["default"])(en,4),an=tn[0],on=tn[1],sn=tn[2],fn=tn[3];(0,c._giv_rot_rows)(I,e,e*Q,e*H,an,on),(0,c._giv_rot_cols)(I,e,Q,H,sn,fn),I[e*Q+H]=I[e*H+Q]=0,(0,c._giv_rot_rows)(T,e,Y+e*Q,Y+e*H,an,on),(0,c._giv_rot_rows)(L,e,Y+e*Q,Y+e*H,sn,-fn)}}}(0,l._svd_jac_post)(e,T,I,L,Y,C,z,q)}return[new i.NDArray(r,T),new i.NDArray(r.slice(0,-1),C),new i.NDArray(r,L)]}},31221:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.svd_jac_2sided_blocked=p;var a=t(e(42989)),o=e(30065),i=e(11882),s=e(48782),f=e(99777),u=e(13511),l=e(12812),c=e(52894),d=4,h=d*d;function p(n){if(n=(0,o.asarray)(n),n.dtype.startsWith("complex"))throw new Error("svd_jac_1sided(A): A.dtype must be float.");var r=n.shape,e=0|r[r.length-2],t=r[r.length-1];if(e>t){var v=(0,f.qr_decomp)(n),w=(0,a["default"])(v,2),m=w[0],y=w[1],g=p(y),_=(0,a["default"])(g,3),b=_[0],E=_[1],A=_[2];return[(0,s.matmul2)(m,b),E,A]}if(e<t){var x=(0,f.qr_decomp)(n.T),M=(0,a["default"])(x,2),k=M[0],P=M[1],S=p(P),O=(0,a["default"])(S,3),N=O[0],j=O[1],F=O[2];return(0,u.transpose_inplace)(F),[F,j,(0,s.matmul2)(k,N).T]}var R="float32"===n.dtype?"float32":"float64",D=i.ARRAY_TYPES[R],T=Math.pow(e*(0,i.eps)(R),2),I=0|Math.ceil(e/d),L=D.from(n.data);n=void 0;var C=new D(I*I*d*d),q=new D(L.length),U=new D(L.length/e),Y=Int32Array.from({length:e},(function(n,r){return r}));if(1>e)throw new Error("Assertion failed.");if(1==e){for(var z=L.length;z-- >0;)L[z]<0?(L[z]*=-1,U[z]=-1):U[z]=1;return[new o.NDArray(r,U),new o.NDArray(r.slice(0,-1),L),new o.NDArray(r,q.fill(1))]}for(var B=0,G=0;G<U.length;B+=e*e,G+=e){for(var V=0;V<e;V++)for(var $=0;$<e;$++){var X=h*(I*(V/d|0)+($/d|0))+d*(V%d)+$%d|0;C[X]=L[B+e*V+$],L[B+e*V+$]=+(V===$)}for(var W=0;W<e;W++)for(var J=0;J<e;J++)q[B+e*W+J]=+(W===J);for(var H=!1;!H;){H=!0;for(var Q=I;Q-- >0;)for(var K=Q;K>=0;K--)for(var Z=d;Z-- >0;)for(var nn=K===Q?Z:d;nn-- >0;){var rn=C[h*(I*K+K)+d*nn+nn],en=C[h*(I*K+Q)+d*nn+Z],tn=C[h*(I*Q+K)+d*Z+nn],an=C[h*(I*Q+Q)+d*Z+Z];if(en*en+tn*tn>Math.abs(rn*an)*T){H=!1;for(var on=(0,l._svd_jac_angles)(rn,en,tn,an),sn=(0,a["default"])(on,4),fn=sn[0],un=sn[1],ln=sn[2],cn=sn[3],dn=K*I*h+nn*d,hn=Q*I*h+Z*d,pn=dn+I*h;dn<pn;dn+=h,hn+=h)for(var vn=0;vn<d;vn++){var wn=fn*C[vn+dn]+un*C[vn+hn];C[vn+hn]=-un*C[vn+dn]+fn*C[vn+hn],C[vn+dn]=wn}for(var mn=K*h+nn+I*I*d*d,yn=Q*h+Z+I*I*d*d;(mn-=I*h)>=0;){yn-=I*h;for(var gn=h;(gn-=d)>=0;){var _n=C[mn+gn]*ln+C[yn+gn]*-cn;C[yn+gn]=C[mn+gn]*cn+C[yn+gn]*ln,C[mn+gn]=_n}}C[h*(I*K+Q)+d*nn+Z]=C[h*(I*Q+K)+d*Z+nn]=0;var bn=B+e*(d*K+nn),En=B+e*(d*Q+Z);(0,c._giv_rot_rows)(L,e,bn,En,fn,un),(0,c._giv_rot_rows)(q,e,bn,En,ln,-cn)}}}for(var An=0;An<e;An++){var xn=h*(I+1)*(An/d|0)+(d+1)*(An%d)|0;U[G+An]=C[xn]}(0,l._svd_jac_post_skip1)(e,L,q,B,U,G,Y)}return[new o.NDArray(r,L),new o.NDArray(r.slice(0,-1),U),new o.NDArray(r,q)]}},15445:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.svd_jac_classic=h;var a=t(e(9545)),o=t(e(42989)),i=e(11882),s=e(30065),f=e(48782),u=e(99777),l=e(13511),c=e(12812),d=e(52894);function h(n){if(n=(0,s.asarray)(n),n.dtype.startsWith("complex"))throw new Error("svd_jac_1sided(A): A.dtype must be float.");var r=n.shape,e=r[r.length-2],t=r[r.length-1];if(e>t){var p=(0,u.qr_decomp)(n),v=(0,o["default"])(p,2),w=v[0],m=v[1],y=h(m),g=(0,o["default"])(y,3),_=g[0],b=g[1],E=g[2];return[(0,f.matmul2)(w,_),b,E]}if(e<t){var A=(0,u.qr_decomp)(n.T),x=(0,o["default"])(A,2),M=x[0],k=x[1],P=h(k),S=(0,o["default"])(P,3),O=S[0],N=S[1],j=S[2];return(0,l.transpose_inplace)(j),[j,N,(0,f.matmul2)(M,O).T]}var F="float32"===n.dtype?"float32":"float64",R=i.ARRAY_TYPES[F],D=(0,i.eps)(F)*e,T=R.from(n.data);n=void 0;var I=new R(e*e),L=new R(T.length),C=new R(T.length/e),q=(new R(e),Int32Array.from({length:e},(function(n,r){return r})));if(1>e)throw new Error("Assertion failed.");if(1===e){for(var U=T.length;U-- >0;)T[U]<0?(T[U]*=-1,C[U]=-1):C[U]=1;return[new s.NDArray(r,C),new s.NDArray(r.slice(0,-1),T),new s.NDArray(r,L.fill(1))]}for(var Y=Int32Array.from(a["default"].mark((function n(){var r;return a["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=e;case 1:if(!(r>1)){n.next=7;break}return r=r+1>>>1,n.next=5,r;case 5:n.next=1;break;case 7:case"end":return n.stop()}}),n)}))()),z=new R(Y.reduce((function(n,r){return n+(r*r+r>>>1)}),0)),B=function(){for(var n=0,r=0,t=0,a=0,o=function(e,o){var s=function(n,r){return n+=t,r+=a,i=e,z[e+(n*n+n>>>1)+r]},f=Y[o];e-=f*f+f>>>1;var u=s(0,0);if(n=t,r=a,t+1<f){var l=s(1,0);l>u&&(u=l,n=t+1,r=a);var c=s(1,1);c>u&&(u=c,n=t+1,r=a+1)}if(t!=a){var d=s(0,1);d>u&&(u=d,n=t,r=a+1)}t=2*n,a=2*r,i=e},i=z.length,s=Y.length;s-- >0;)o(i,s);var f=-1/0,u=function(n,r){n+=t,r+=a;var o=I[e*n+r],i=I[e*r+n];return o*o+i*i};if(t+1<e){var l=u(1,0);l>f&&(f=l,n=t+1,r=a)}if(a+1<e){var c=u(0,1);c>f&&(f=c,n=t,r=a+1)}if(t!=a){var d=u(0,0);if(d>f&&(f=d,n=t,r=a),t+1<e){var h=u(1,1);h>f&&(n=t+1,r=a+1)}}return[r,n]},G=function(n){n=n>>>1<<1;for(var r=n;r<n+2&&r<e;r++)for(var t=r>>>1,a=t*t+t>>>1,o=0;o<n+1;o++){var i=I[e*r+o],s=I[e*o+r],f=r===o?-1/0:i*i+s*s,u=a+(o>>>1);z[u]=r%2||o%2?Math.max(z[u],f):f}for(var l=0,c=1;c<Y.length;c++){var d=Y[c-1],h=l;l+=d*d+d>>>1,n=n>>>2<<1;for(var p=n;p<n+2&&p<d;p++)for(var v=h+(p*p+p>>>1),w=p>>>1,m=l+(w*w+w>>>1),y=0;y<=p;y++){var g=m+(y>>>1),_=z[v+y];z[g]=p%2||y%2?Math.max(z[g],_):_}}},V=function(n){n=n>>>1<<1;for(var r=Math.min(n+2,e),t=n;t<e;t++)for(var a=t>>>1,o=a*a+a>>>1,i=n;i<r;i++){var s=I[e*t+i],f=I[e*i+t],u=t===i?-1/0:s*s+f*f,l=o+(i>>>1);z[l]=t%2||i%2?Math.max(z[l],u):u}for(var c=0,d=1;d<Y.length;d++){n=n>>>2<<1;var h=Y[d-1],p=Math.min(n+2,h),v=c;c+=h*h+h>>>1;for(var w=n;w<h;w++)for(var m=v+(w*w+w>>>1),y=w>>>1,g=c+(y*y+y>>>1),_=n;_<p&&_<=w;_++){var b=g+(_>>>1),E=z[m+_];z[b]=w%2||_%2?Math.max(z[b],E):E}}},$=0,X=0;X<C.length;$+=e*e,X+=e){for(var W=0;W<e;W++)for(var J=0;J<e;J++)I[e*W+J]=T[$+e*W+J],T[$+e*W+J]=+(W===J);for(var H=0;H<e;H++)for(var Q=0;Q<e;Q++)L[$+e*H+Q]=+(H===Q);for(var K=0;K<e;K+=2)G(K);for(var Z=-1,nn=-1;;){var rn=B(),en=(0,o["default"])(rn,2),tn=en[0],an=en[1];if(tn>=an)throw new Error("Assertion failed.");if(Z==an&&nn==tn)break;Z=an,nn=tn;var on=I[e*an+an],sn=I[e*an+tn],fn=I[e*tn+an],un=I[e*tn+tn];if(!(Math.max(Math.abs(sn),Math.abs(fn))>Math.sqrt(Math.abs(on*un))*D))break;var ln=(0,c._svd_jac_angles)(un,fn,sn,on),cn=(0,o["default"])(ln,4),dn=cn[0],hn=cn[1],pn=cn[2],vn=cn[3];(0,d._giv_rot_rows)(I,e,e*tn,e*an,dn,hn),(0,d._giv_rot_cols)(I,e,tn,an,pn,vn),I[e*an+tn]=0,I[e*tn+an]=0,G(an),G(tn),V(an),V(tn),(0,d._giv_rot_rows)(T,e,$+e*tn,$+e*an,dn,hn),(0,d._giv_rot_rows)(L,e,$+e*tn,$+e*an,pn,-vn)}(0,c._svd_jac_post)(e,T,I,L,$,C,X,q)}return[new s.NDArray(r,T),new s.NDArray(r.slice(0,-1),C),new s.NDArray(r,L)]}},13511:function(n,r,e){"use strict";e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r._transpose_inplace=o,r.transpose_inplace=i;var a=t(e(42989));e(30065);function o(n,r,e){for(var t=n;--t>0;)for(var a=t;a-- >0;){var o=e+n*t+a,i=e+n*a+t,s=r[o];r[o]=r[i],r[i]=s}}function i(n){var r=n.shape.slice(-2),e=(0,a["default"])(r,2),t=e[0],i=e[1];if(t!=i)throw new Error("In-place transposition is only supported for square matrices.");n=n.data;for(var s=0;s<n.length;s+=t*t)o(t,n,s)}},14748:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.tril=s,r.triu=f,r._tril_solve=u,r._triu_solve=l,r._tril_t_solve=c,r._triu_t_solve=d,r.tril_solve=h,r.triu_solve=p;var a=t(e(42989)),o=e(11882),i=e(30065);function s(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(n=(0,i.asarray)(n),n.ndim<2)throw new Error("Input must be at least 2D.");return n.mapElems(n.dtype,(function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];var i=t.slice(-2),s=(0,a["default"])(i,2),f=s[0],u=s[1];return f<u-r?0:n}))}function f(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(n=(0,i.asarray)(n),n.ndim<2)throw new Error("Input must be at least 2D.");return n.mapElems(n.dtype,(function(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),o=1;o<e;o++)t[o-1]=arguments[o];var i=t.slice(-2),s=(0,a["default"])(i,2),f=s[0],u=s[1];return f>u-r?0:n}))}function u(n,r,e,t,a,o,i){if(!(n<=r))throw new Error("Assertion failed.");if(n|=0,r|=0,e|=0,a|=0,i|=0,!(0<=a))throw new Error("Assertion failed.");if(!(0<=i))throw new Error("Assertion failed.");if(!(n*r<=t.length-a))throw new Error("Assertion failed.");if(!(n*e<=o.length-i))throw new Error("Assertion failed.");for(var s=0;s<n;s++){for(var f=0;f<s;f++)for(var u=0;u<e;u++)o[i+e*s+u]-=t[a+r*s+f]*o[i+e*f+u];for(var l=0;l<e;l++)o[i+e*s+l]/=t[a+r*s+s]}}function l(n,r,e,t,a,o,i){if(!(n<=r))throw new Error("Assertion failed.");if(n|=0,r|=0,e|=0,a|=0,i|=0,!(0<=a))throw new Error("Assertion failed.");if(!(0<=i))throw new Error("Assertion failed.");if(!(n*r<=t.length-a))throw new Error("Assertion failed.");if(!(n*e<=o.length-i))throw new Error("Assertion failed.");for(var s=n;s-- >0;)for(var f=e;f-- >0;){for(var u=n;--u>s;)o[i+e*s+f]-=t[a+r*s+u]*o[i+e*u+f];o[i+e*s+f]/=t[a+r*s+s]}}function c(n,r,e,t,a,o,i){if(!(n<=r))throw new Error("Assertion failed.");if(n|=0,r|=0,e|=0,a|=0,i|=0,!(0<=a))throw new Error("Assertion failed.");if(!(0<=i))throw new Error("Assertion failed.");if(!(n*r<=t.length-a))throw new Error("Assertion failed.");if(!(n*e<=o.length-i))throw new Error("Assertion failed.");for(var s=n;s-- >0;){for(var f=e;f-- >0;)o[i+e*s+f]/=t[a+r*s+s];for(var u=s;u-- >0;)for(var l=e;l-- >0;)o[i+e*u+l]-=t[a+r*s+u]*o[i+e*s+l]}}function d(n,r,e,t,a,o,i){if(!(n<=r))throw new Error("Assertion failed.");if(n|=0,r|=0,e|=0,a|=0,i|=0,!(0<=a))throw new Error("Assertion failed.");if(!(0<=i))throw new Error("Assertion failed.");if(!(n*r<=t.length-a))throw new Error("Assertion failed.");if(!(n*e<=o.length-i))throw new Error("Assertion failed.");for(var s=0;s<n;s++){for(var f=0;f<e;f++)o[i+e*s+f]/=t[a+r*s+s];for(var u=s;++u<n;)for(var l=0;l<e;l++)o[i+e*u+l]-=t[a+r*s+u]*o[i+e*s+l]}}function h(n,r){if(n=(0,i.asarray)(n),n.ndim<2)throw new Error("tril_solve(L,Y): L.ndim must be at least 2.");if(r=(0,i.asarray)(r),r.ndim<2)throw new Error("tril_solve(L,Y): Y.ndim must be at least 2.");var e=r.shape.slice(-2),t=(0,a["default"])(e,2),s=t[0],f=t[1];if(n.shape[n.ndim-2]!==s)throw new Error("tril_solve(L,Y): L and Y don't match.");if(n.shape[n.ndim-1]!==s)throw new Error("tril_solve(L,Y): Last two dimensions of L must be quadratic.");var l=Math.max(n.ndim,r.ndim),c=n.shape,d=r.shape,h=new Int32Array(l);h.fill(1,0,-2),h[l-2]=s,h[l-1]=f;for(var p=0,v=[c,d];p<v.length;p++)for(var w=v[p],m=l-2,y=w.length-2;m-- >0&&y-- >0;)if(1===h[m])h[m]=w[y];else if(h[m]!=w[y]&&1!=w[y])throw new Error("tril_solve(L,Y): L and Y not broadcast-compatible.");var g=[n,r].every((function(n){return"float32"===n.dtype}))?"float32":"float64";n=n.data,r=r.data;var _=new o.ARRAY_TYPES[g](h.reduce((function(n,r){return n*r}))),b=0,E=1,A=0,x=1,M=0;function k(e){if(e===l-2){E=s*s,x=s*f;for(var t=x;t-- >0;)_[M+t]=r[A+t];u(s,s,f,n,b,_,M),b+=E,A+=x,M+=x}else{for(var a=h[e];;a--){if(k(e+1),1==a)break;c[e-l+c.length]>1||(b-=E),d[e-l+d.length]>1||(A-=x)}E*=c[e-l+c.length]||1,x*=d[e-l+d.length]||1}}return k(0),new i.NDArray(h,_)}function p(n,r){if(n=(0,i.asarray)(n),n.ndim<2)throw new Error("triu_solve(U,Y): U.ndim must be at least 2.");if(r=(0,i.asarray)(r),r.ndim<2)throw new Error("triu_solve(U,Y): Y.ndim must be at least 2.");var e=r.shape.slice(-2),t=(0,a["default"])(e,2),s=t[0],f=t[1];if(n.shape[n.ndim-2]!==s)throw new Error("triu_solve(U,Y): U and Y don't match.");if(n.shape[n.ndim-1]!==s)throw new Error("triu_solve(U,Y): Last two dimensions of U must be quadratic.");var u=Math.max(n.ndim,r.ndim),c=n.shape,d=r.shape,h=new Int32Array(u);h.fill(1,0,-2),h[u-2]=s,h[u-1]=f;for(var p=0,v=[c,d];p<v.length;p++)for(var w=v[p],m=u-2,y=w.length-2;m-- >0&&y-- >0;)if(1===h[m])h[m]=w[y];else if(h[m]!=w[y]&&1!=w[y])throw new Error("triu_solve(U,Y): U and Y not broadcast-compatible.");var g=[n,r].every((function(n){return"float32"===n.dtype}))?"float32":"float64";n=n.data,r=r.data;var _=new o.ARRAY_TYPES[g](h.reduce((function(n,r){return n*r}))),b=n.length,E=1,A=r.length,x=1,M=_.length;function k(e){if(e===u-2){E=s*s,x=s*f,b-=E,A-=x,M-=x;for(var t=x;t-- >0;)_[M+t]=r[A+t];l(s,s,f,n,b,_,M)}else{for(var a=h[e];;a--){if(k(e+1),1==a)break;c[e-u+c.length]>1||(b+=E),d[e-u+d.length]>1||(A+=x)}E*=c[e-u+c.length]||1,x*=d[e-u+d.length]||1}}return k(0),new i.NDArray(h,_)}},63119:function(n,r,e){"use strict";e(21703),e(85827),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r._urv_decomp_full=l,r.urv_decomp_full=c,r._urv_lstsq=d,r.urv_lstsq=h;var a=t(e(42989)),o=e(11882),i=e(30065),s=e(97619),f=e(52894),u=e(14748);function l(n,r,e,t,o,i,s,u){if(0!==n%1)throw new Error("Assertion failed.");if(0!==r%1)throw new Error("Assertion failed.");if(0!==t%1)throw new Error("Assertion failed.");if(0!==i%1)throw new Error("Assertion failed.");for(var l=r;l-- >0;)for(var c=r;c-- >0;)if(0!==o[i+r*l+c])throw new Error("Assertion failed.");if(n|=0,r|=0,t|=0,i|=0,!(n<=r))throw new Error("Assertion failed.");if(n===r)for(var d=r;d-- >0;){var h=s[u+d];o[i+r*d+h]=1}else{for(var p=r;p-- >0;)o[i+r*p+p]=1;for(var v=n;v-- >0;)for(var w=n;w<r;w++){var m=t+r*v+w,y=e[m];if(0!==y){var g=t+r*v+v,_=e[g],b=(0,f._giv_rot_qr)(_,y),E=(0,a["default"])(b,3),A=E[0],x=E[1],M=E[2];if(0!==x){for(var k=v;k-- >0;){var P=t+r*k+v,S=e[P],O=t+r*k+w,N=e[O];e[P]=N*x+S*A,e[O]=N*A-S*x}(0,f._giv_rot_rows)(o,1+w-v,i+r*v+v,i+r*w+v,A,x),e[g]=M}e[m]=0}}for(var j=0;j<r;++j)for(;;){var F=s[u+j];if(s[u+j]=s[u+F],s[u+F]=F,F<=j)break;for(var R=r;R-- >0;){var D=o[i+r*R+j];o[i+r*R+j]=o[i+r*R+F],o[i+r*R+F]=D}}}}function c(n){var r=(0,s.srrqr_decomp_full)(n),e=(0,a["default"])(r,4),t=e[0],f=e[1],u=e[2],c=e[3];n=void 0;var d=f.shape.slice(-2),h=(0,a["default"])(d,2),p=h[0],v=h[1],w=f.shape.slice();w[w.length-2]=v,u=u.data;for(var m=c.data,y=f.data,g=new o.ARRAY_TYPES[f.dtype](y.length/p*v),_=0,b=0,E=0,A=0;A<m.length;_+=p*v,b+=v*v,E+=v,A+=1){var x=m[A];if(x<v)for(var M=x;M<p;M++)for(var k=x;k<v;k++)y[_+v*M+k]=0;l(x,v,y,_,g,b,u,E)}return[t,f,new i.NDArray(w,g),c]}function d(n,r,e,t,a,o,i,s,f,l,c,d,h,p,v,w,m){if(n%1!==0)throw new Error("Assertion failed.");if(r%1!==0)throw new Error("Assertion failed.");if(e%1!==0)throw new Error("Assertion failed.");if(t%1!==0)throw new Error("Assertion failed.");if(a%1!==0)throw new Error("Assertion failed.");if(o%1!==0)throw new Error("Assertion failed.");if(s%1!==0)throw new Error("Assertion failed.");if(l%1!==0)throw new Error("Assertion failed.");if(d%1!==0)throw new Error("Assertion failed.");if(p%1!==0)throw new Error("Assertion failed.");if(w%1!==0)throw new Error("Assertion failed.");if(!(0<=r))throw new Error("Assertion failed.");if(!(0<=e))throw new Error("Assertion failed.");if(!(0<=t))throw new Error("Assertion failed.");if(!(0<=a))throw new Error("Assertion failed.");if(!(0<=o))throw new Error("Assertion failed.");if(!(0<=s))throw new Error("Assertion failed.");if(!(0<=l))throw new Error("Assertion failed.");if(!(0<=d))throw new Error("Assertion failed.");if(!(0<=p))throw new Error("Assertion failed.");if(!(0<=w))throw new Error("Assertion failed.");if(!(s<=i.length-r*e))throw new Error("Assertion failed.");if(!(l<=f.length-e*t))throw new Error("Assertion failed.");if(!(d<=c.length-t*a))throw new Error("Assertion failed.");if(!(p<=h.length-a*o))throw new Error("Assertion failed.");if(!(w<=v.length-r*o))throw new Error("Assertion failed.");if(m.length<r*o)throw new Error("Assertion failed.");m.fill(0,0,r*o);for(var y=0;y<r;y++)for(var g=0;g<n;g++)for(var _=0;_<o;_++)m[o*g+_]+=i[s+e*y+g]*v[w+o*y+_];(0,u._triu_solve)(n,t,o,f,l,m,0);for(var b=0;b<n;b++)for(var E=0;E<a;E++)for(var A=0;A<o;A++)h[p+o*E+A]+=c[d+a*b+E]*m[o*b+A]}function h(n,r,e,t,s){if(null==s){if(null!=t||null!=e)throw new Error("urv_lstsq( U,R,V,ranks, Y ): Either 2 ([U,R,V,ranks], Y) or 5 arguments (U,R,V,ranks, Y) expected.");s=r;var f=n,u=(0,a["default"])(f,4);n=u[0],r=u[1],e=u[2],t=u[3]}if(n=(0,i.asarray)(n),!(n.ndim>=2))throw new Error("urv_lstsq(U,R,V, Y): U.ndim must be at least 2.");if(r=(0,i.asarray)(r),!(r.ndim>=2))throw new Error("urv_lstsq(U,R,V, Y): R.ndim must be at least 2.");if(e=(0,i.asarray)(e),!(e.ndim>=2))throw new Error("urv_lstsq(U,R,V, Y): V.ndim must be at least 2.");if(s=(0,i.asarray)(s),!(s.ndim>=2))throw new Error("urv_lstsq(U,R,V, Y): Y.ndim must be at least 2.");t=(0,i.asarray)(t);var l=n.shape,c=r.shape,h=e.shape,p=s.shape,v=t.shape,w=[n,r,e,s].every((function(n){return"float32"===n.dtype}))?"float32":"float64",m=o.ARRAY_TYPES[w],y=[n,r,e,s].reduce((function(n,r){var e=r.ndim;return Math.max(n,e)}),t.ndim+2),g=new Int32Array(y);g.fill(1);for(var _=0,b=[n,r,e,s];_<b.length;_++)for(var E=b[_],A=y-2,x=E.ndim-2;A-- >0&&x-- >0;)if(1===g[A])g[A]=E.shape[x];else if(g[A]!=E.shape[x]&&1!=E.shape[x])throw new Error("urv_lstsq( U,R,V,ranks, Y ): U,R,V,ranks, Y not broadcast-compatible.");for(var M=y-2,k=t.ndim;M-- >0&&k-- >0;)if(1===g[M])g[M]=t.shape[k];else if(g[M]!=t.shape[k]&&1!=t.shape[k])throw new Error("urv_lstsq( U,R,V,ranks, Y ): U,R,V,ranks, Y not broadcast-compatible.");var P=n.shape.slice(-2),S=(0,a["default"])(P,2),O=S[0],N=S[1],j=e.shape.slice(-2),F=(0,a["default"])(j,2),R=F[0],D=F[1],T=s.shape[s.ndim-1];if(r.shape[r.ndim-2]!==N)throw new Error("urv_lstsq( U,R,V,ranks, Y ): Matrix dimensions incompatible.");if(r.shape[r.ndim-1]!==R)throw new Error("urv_lstsq( U,R,V,ranks, Y ): Matrix dimensions incompatible.");if(s.shape[s.ndim-2]!==O)throw new Error("urv_lstsq( U,R,V,ranks, Y ): Matrix dimensions incompatible.");if(N!==R&&O<D){if(O!==N)throw new Error("Assertion failed.");if(R!==D)throw new Error("Assertion failed.")}if(!(O>=N))throw new Error("Assertion failed.");if(!(R<=D))throw new Error("Assertion failed.");g[y-2]=D,g[y-1]=T,t=t.data,n=n.data,r=r.data,e=e.data,s=s.data;var I=new m(g.reduce((function(n,r){return n*r}))),L=new m(O*T),C=n.length,q=1,U=r.length,Y=1,z=e.length,B=1,G=s.length,V=1,$=t.length,X=1,W=I.length;function J(a){if(a===y-2){q=O*N,Y=N*R,B=R*D,V=O*T,X=1,C-=q,U-=Y,z-=B,G-=V,$-=X,W-=D*T;var o=t[$];d(o,O,N,R,D,T,n,C,r,U,e,z,I,W,s,G,L)}else{for(var i=g[a];;i--){if(J(a+1),1==i)break;l[a-y+l.length]>1||(C+=q),c[a-y+c.length]>1||(U+=Y),h[a-y+h.length]>1||(z+=B),p[a-y+p.length]>1||(G+=V),v[a-y+2+v.length]>1||($+=X)}q*=l[a-y+l.length]||1,Y*=c[a-y+c.length]||1,B*=h[a-y+h.length]||1,V*=p[a-y+p.length]||1,X*=v[a-y+2+v.length]||1}}return J(0),new i.NDArray(g,I)}},95551:function(n,r,e){"use strict";e(21703),e(25438),Object.defineProperty(r,"__esModule",{value:!0}),r["default"]=r.math=void 0;var t=e(7074),a={nextUp:function(n){var r=Number.EPSILON,e=Number.MIN_VALUE,t=n*(n<0?1-r/2:1+r);if(!isFinite(n))throw new Error("Assertion failed!");if(!isFinite(t))throw new Error("Assertion failed!");t===n&&(t+=e);var a=n+(t-n)/2;n<a&&a<t&&(t=a);var o=(t+n)/2;return n<o&&o<t&&(t=o),0===t?-0:t},add:function(n,r){return n instanceof t.Complex?n.add(r):r instanceof t.Complex?r.add(n):n+r},sub:function(n,r){return n instanceof t.Complex?n.sub(r):r instanceof t.Complex?new t.Complex(n).sub(r):n-r},mul:function(n,r){return n instanceof t.Complex?n.mul(r):r instanceof t.Complex?r.mul(n):n*r},div:function(n,r){return n instanceof t.Complex?n.div(r):r instanceof t.Complex?new t.Complex(n).div(r):n/r},zero:function(n){return a.cast(0,n)},one:function(n){return a.cast(1,n)},neg:function(n){return n instanceof t.Complex?n.neg():-n},abs:function(n){return n instanceof t.Complex?n.abs():Math.abs(n)},sqrt:function(n){return n instanceof t.Complex?n.sqrt():n>=0?Math.sqrt(n):new t.Complex(n).sqrt()},exp:function(n){return n instanceof t.Complex?n.exp():Math.exp(n)},min:function(n,r){return Math.min(n,r)},max:function(n,r){return Math.max(n,r)},hypot:function(n,r){return Math.hypot(n,r)},atan2:function(n,r){return Math.atan2(n,r)},conj:function(n){return n instanceof t.Complex?n.conj():n},is_equal:function(n,r){return n instanceof t.Complex?n.equals(r):r instanceof t.Complex?r.equals(n):n==r},is_close:function(n,r){var e=1e-8,t=1e-5,o=e+t*a.max(a.abs(n),a.abs(r));return a.abs(a.sub(n,r))<=o}};r.math=a;var o=a;r["default"]=o},30065:function(n,r,e){"use strict";e(21703),e(81299),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.array=b,r.asarray=E,r.NDArray=void 0;var a=t(e(42989)),o=t(e(25069)),i=t(e(16125)),s=t(e(39885)),f=t(e(63490)),u=t(e(55156)),l=t(e(46907)),c=t(e(25629)),d=t(e(9545)),h=t(e(51382)),p=e(45854),v=e(11882);function w(n,r){var e;if("undefined"===typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=m(n))||r&&n&&"number"===typeof n.length){e&&(n=e);var t=0,a=function(){};return{s:a,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return i=n.done,n},e:function(n){s=!0,o=n},f:function(){try{i||null==e["return"]||e["return"]()}finally{if(s)throw o}}}}function m(n,r){if(n){if("string"===typeof n)return y(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?y(n,r):void 0}}function y(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function g(n){var r=_();return function(){var e,t=(0,l["default"])(n);if(r){var a=(0,l["default"])(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return(0,u["default"])(this,e)}}function _(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}function b(n,r){var e=d["default"].mark(a);if(null==r&&(r=n,n=void 0),("object"==(0,h["default"])(r)||"function"==typeof r)&&"shape"in r&&"data"in r){var t=r.data;return null==n?n=r.dtype:"float"===n&&(n=r.dtype.startsWith("float")&&v.ARRAY_TYPES.hasOwnProperty(n)?r.dtype:"float64"),(0,v._check_dtype)(n),t=t instanceof v.ARRAY_TYPES[n]?t.slice():v.ARRAY_TYPES[n].from(t),new A(r.shape,t)}function a(n){var r;return d["default"].wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("object"!==(0,h["default"])(n)||!("length"in n)){e.next=11;break}if(r=n.length,"number"===typeof r){e.next=4;break}throw new Error("Illegal argument(s).");case 4:if(0===r%1){e.next=6;break}throw new Error("Illegal argument(s).");case 6:if(0!==r){e.next=8;break}throw new Error("Illegal argument(s).");case 8:return e.next=10,r;case 10:return e.delegateYield(a(n[0]),"t0",11);case 11:case"end":return e.stop()}}),e)}a=Int32Array.from(a(r)),null==n?n=function n(r,e){if(r===a.length)return(0,v.dtypeof)(e);for(var t=a[r]-1,o=n(r+1,e[t]);t>=0;t--)o=(0,v.super_dtype)(o,n(r+1,e[t]));return o}(0,r):"float"===n&&(n="float64"),(0,v._check_dtype)(n);var o=new v.ARRAY_TYPES[n](a.reduce((function(n,r){return n*r}),1)),i=0;function s(n,r){if(n===a.length)o[i++]=r;else{if(r.length!==a[n])throw new Error("Nested array not axis-aligned.");for(var e=0;e<a[n];e++)s(n+1,r[e])}}return s(0,r),new A(a,o)}function E(n,r){if(null==r&&(r=n,n=void 0),null!=n&&"float"!==n&&!(n in v.ARRAY_TYPES))throw new Error("asarray(dtype, arrayLike): Invalid dtype: '".concat(n,"'."));return r instanceof A?null==n||n===r.dtype||"float"===n&&r.dtype.startsWith("float")?r:new A(r.shape,v.ARRAY_TYPES[n].from(r.data)):("float"===n&&(n="float64"),b(n,r))}var A=function(n){(0,f["default"])(r,n);g(r);function r(n,e){var t;if((0,i["default"])(this,r),!(n instanceof Int32Array))throw new Error("Shape must be Int32Array.");if(n.some((function(n){return n<1})))throw new Error("Invalid shape: ".concat(n,"."));if(e.length!=n.reduce((function(n,r){return n*r}),1))throw new Error("Shape [".concat(n,"] does not match array length of ").concat(e.length,"."));var a=function n(){for(var r=arguments.length,e=new Array(r),t=0;t<r;t++)e[t]=arguments[t];return n.data[n._flat_idx(e)]};return Object.setPrototypeOf(a,r.prototype),Object.freeze(n.buffer),a.shape=n,a.data=e,Object.seal(a),(0,u["default"])(t,a)}return(0,s["default"])(r,null,[{key:"name",get:function(){return"nd.Array"}}]),(0,s["default"])(r,[{key:"set",value:function(n,r){this.data[this._flat_idx(n)]=r}},{key:"modify",value:function(n,r){var e=this._flat_idx(n);this.data[e]=r.apply(void 0,[this.data[e]].concat((0,o["default"])(n)))}},{key:"_flat_idx",value:function(n){var r=this.shape;if(n.length!=r.length)throw new Error("Multi-index [".concat(n,"] does not have expected length of ").concat(r.length,"."));for(var e=0,t=1,a=r.length;a-- >0;t*=r[a]){var o=n[a];if(o%1!=0)throw new Error("Multi-index [".concat(n,"] contains non-integer entries."));if(o<0&&(o+=r[a]),o<0||o>=r[a])throw new Error("Multi-index [".concat(n,"] out of bounds [").concat(r,"]."));e+=o*t}return e}},{key:Symbol["for"]("nodejs.util.inspect.custom"),value:function(n,r){return this.toString()}},{key:"toString",value:function(){var n=d["default"].mark(u),r=d["default"].mark(h),e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(n,r){return r.length,6};if(!(e instanceof Function)){var t=1*e;e=function(){return t}}var a=this.shape,i=this.data,s=new Int32Array(a.length);s[s.length-1]=1;for(var f=s.length;--f>0;)s[f-1]=s[f]*a[f];function u(r,t){var o,f,l,c,h,p,v;return d["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(o=e(r,a),f=o>>>1,l=o-f,a.length!==r){n.next=16;break}c=i[t],n.t0=c,n.next=null===n.t0?6:void 0===n.t0?9:12;break;case 6:return n.next=8,"null";case 8:return n.abrupt("break",14);case 9:return n.next=11,"undefined";case 11:return n.abrupt("break",14);case 12:return n.next=14,c.toString();case 14:n.next=37;break;case 16:if(!(a[r]>o+1)){n.next=31;break}h=0;case 18:if(!(h<l)){n.next=23;break}return n.delegateYield(u(r+1,t+h*s[r]),"t1",20);case 20:h++,n.next=18;break;case 23:p=a[r]-f;case 24:if(!(p<a[r])){n.next=29;break}return n.delegateYield(u(r+1,t+p*s[r]),"t2",26);case 26:p++,n.next=24;break;case 29:n.next=37;break;case 31:v=0;case 32:if(!(v<a[r])){n.next=37;break}return n.delegateYield(u(r+1,t+v*s[r]),"t3",34);case 34:v++,n.next=32;break;case 37:case"end":return n.stop()}}),n)}if(u=(0,o["default"])(u(0,0)),this.ndim>1){var l=u.reduce((function(n,r){return Math.max(n,r.length)}),0);u=u.map((function(n){return n.padStart(l)}))}var c=0;function h(n,t,o){var i,f,l,p,v,w,m,y,g;return d["default"].wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a.length!==t){r.next=4;break}return r.next=3,u[c++];case 3:return r.abrupt("return");case 4:return n+=" ",i="[ ",f=", ",l=" ]",t<a.length-1&&(f=",\n"+n,i="[",l="]"),r.next=9,i;case 9:if(p=e(t,a),v=p>>>1,w=p-v,!(a[t]>p+1)){r.next=31;break}m=0;case 12:if(!(m<w)){r.next=19;break}return r.delegateYield(h(n,t+1,o+m*s[t]),"t0",14);case 14:return r.next=16,f;case 16:m++,r.next=12;break;case 19:return r.next=21,"...".concat(a[t]-p," more...");case 21:y=a[t]-v;case 22:if(!(y<a[t])){r.next=29;break}return r.next=25,f;case 25:return r.delegateYield(h(n,t+1,o+y*s[t]),"t1",26);case 26:y++,r.next=22;break;case 29:r.next=40;break;case 31:g=0;case 32:if(!(g<a[t])){r.next=40;break}if(!(g>0)){r.next=36;break}return r.next=36,f;case 36:return r.delegateYield(h(n,t+1,o+g*s[t]),"t2",37);case 37:g++,r.next=32;break;case 40:return r.next=42,l;case 42:case"end":return r.stop()}}),r)}return(0,o["default"])(h("",0,0)).join("")}},{key:"toNestedArray",value:function(){var n=this.data,r=this.shape,e=0,t=function t(a){return a===r.length?n[e++]:Array.from({length:r[a]},(function(){return t(a+1)}))};return t(0)}},{key:Symbol.iterator,value:d["default"].mark((function n(){var e,t,a;return d["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:e=this.shape.slice(1),t=e.reduce((function(n,r){return n*r}),1),a=0;case 2:if(!(a<this.data.length)){n.next=7;break}return n.next=5,new r(e,this.data.slice(a,a+=t));case 5:n.next=2;break;case 7:case"end":return n.stop()}}),n,this)}))},{key:"forEach",value:function(n){for(var e=this.shape[0],t=this.shape.slice(1),a=t.reduce((function(n,r){return n*r}),1),o=0,i=0;o<e;o++,i+=a)n(new r(t,this.data.slice(i,i+a)),o)}},{key:"elems",value:d["default"].mark((function(){var n,r,e,t,a,o;return d["default"].wrap((function(i){while(1)switch(i.prev=i.next){case 0:return o=function(i){return d["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i!==r.length){n.next=5;break}return n.next=3,[t.slice(),e[a++]];case 3:n.next=11;break;case 5:t[i]=0;case 6:if(!(t[i]<r[i])){n.next=11;break}return n.delegateYield(o(i+1),"t0",8);case 8:t[i]++,n.next=6;break;case 11:case"end":return n.stop()}}),n)},n=d["default"].mark(o),r=this.shape,e=this.data,t=new Int32Array(r.length),a=0,i.delegateYield(o(0),"t0",5);case 5:case"end":return i.stop()}}),o,this)}))},{key:"forElems",value:function(n){var r=this.shape,e=this.data,t=new Int32Array(r.length),a=0;function i(s){if(s===r.length)n.apply(void 0,[e[a++]].concat((0,o["default"])(t)));else for(t[s]=0;t[s]<r[s];t[s]++)i(s+1)}i(0)}},{key:"valueOf",value:function(){return 0===this.shape.length?this.data[0]:this}},{key:"mapElems",value:function(n,e){if(null==e){if(null==n)return new r(this.shape,this.data.slice());n instanceof Function&&(e=n,n=void 0)}return null==e&&(e=function(n){return n}),(0,p.zip_elems)([this],n,e)}},{key:"transpose",value:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e=(0,o["default"])(e);var a=Int32Array.from(this.shape),i=a.length,s=new Int32Array(i);i>0&&(s[i-1]=1);for(var f=i;--f>0;)s[f-1]=a[f]*s[f];if(0==e.length){if(i<=1)return this.sliceElems();a[i-2]=this.shape[i-1],a[i-1]=this.shape[i-2];var u=s[i-2];s[i-2]=s[i-1],s[i-1]=u}else{var l=new Set(e),c=s;if(s=new Int32Array(i),l.size!=e.length)throw new Error("Duplicate axes are not allowed.");for(var d=e.length;d-- >0;){var h=e[d];if(0>h||h>=i)throw new Error("Axis out of bounds.");a[d]=this.shape[h],s[d]=c[h]}for(var p=0,v=l.size;p<i;p++)l.has(p)||(a[v]=this.shape[p],s[v++]=c[p])}var w=this.data,m=new w.__proto__.constructor(w.length),y=w.length;function g(n,r){if(i>n)for(var e=a[n];e-- >0;r-=s[n])g(n+1,r);else m[--y]=w[r]}return g(0,y-1),new r(a,m)}},{key:"reshape",value:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e=Int32Array.from(e);for(var a=this.data.length,o=1,i=-1,s=e.length;--s>=0;)if(e[s]<0){if(-1!==e[s])throw new Error("Invalid dimension: "+e[s]);if(-1!==i)throw new Error("At most on dimension may be -1.");i=s}else o*=e[s];if(-1!==i){if(0!==a%o)throw new Error("Shape cannot be inferred.");e[i]=a/o}return new r(e,this.data)}},{key:"reduceElems",value:function(n,e,t){if(null==t){if(null==e)return this.data.reduce(n);if("string"===typeof n)return this.data.reduce(e);t=e,e=void 0}if(null==e&&(e="object"),!(0,v.is_subdtype)(this.dtype,e))throw new Error("New dtype must be a super-dtype.");var a=this.ndim;if("number"===typeof n&&(n=[n]),n instanceof r){if(!(0,v.is_subdtype)(n.dtype,"int32"))throw new Error("Invalid dtype ".concat(n.dtype," for axes."));if(1!==n.ndim)throw new Error("Only 1D nd.Array allowed for axes.");n=n.data}n=new Set(d["default"].mark((function r(){var e,t,o;return d["default"].wrap((function(r){while(1)switch(r.prev=r.next){case 0:e=w(n),r.prev=1,e.s();case 3:if((t=e.n()).done){r.next=12;break}if(o=t.value,0>o&&(o+=a),!(0>o||o>=a)){r.next=8;break}throw new Error("Reduction axis "+o+" out of bounds.");case 8:return r.next=10,+o;case 10:r.next=3;break;case 12:r.next=17;break;case 14:r.prev=14,r.t0=r["catch"](1),e.e(r.t0);case 17:return r.prev=17,e.f(),r.finish(17);case 20:case"end":return r.stop()}}),r,null,[[1,14,17,20]])}))());var o=this.shape,i=o.filter((function(r,e){return!n.has(e)})),s=new v.ARRAY_TYPES[e](i.reduce((function(n,r){return n*r}),1)),f=this.data,u=0,l=0;function c(r,e){if(o.length===r)s[u]=e?t(f[l++],s[u]):f[l++],++u;else if(n.has(r))for(var a=u,i=o[r];i-- >0;e=!0)u=a,c(r+1,e);else for(var d=o[r];d-- >0;)c(r+1,e)}if(c(0,!1),u!=s.length)throw new Error([u,s.length]);if(l!=this.data.length)throw new Error([l,this.data.length]);return new r(i,s)}},{key:"sliceElems",value:function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];for(var o=this.ndim,i=this.shape,s=0,f=0,u=0,l=0,c=e;l<c.length;l++){var h=c[l];if("..."===h)++s;else if("new"===h)0;else if("number"===typeof h){if(h%1!=0)throw new Error("Only integral indices allowed.");++f}else{var p=h.length;if("number"!==typeof p||p%1!=0||p>3||1==p)throw new Error("Illegal argument(s).");++u}}if(s>1)throw new Error("Highlander! There can be only one ... (ellipsis).");if(0==s&&e.push("..."),f+u>o)throw new Error("Cannot sliced more dimensions than available.");var w=0,m=[],y=Int32Array.from(d["default"].mark((function n(){var r,t,s,l,c,h,p,v,y,g,_,b,E;return d["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=o,t=1,s=e.length;case 2:if(!(--s>=0)){n.next=54;break}l=e[s],n.t0=l,n.next="new"===n.t0?7:"..."===n.t0?11:21;break;case 7:return m.push(0),n.next=10,1;case 10:return n.abrupt("break",52);case 11:c=f+u;case 12:if(!(c<o)){n.next=20;break}return m.push(t),t*=i[--r],n.next=17,i[r];case 17:c++,n.next=12;break;case 20:return n.abrupt("break",52);case 21:if(--r,"number"!==typeof l){n.next=29;break}if(0>l&&(l+=i[r]),!(0>l||l>=i[r])){n.next=26;break}throw new Error("Index out of bounds.");case 26:w+=t*l,n.next=51;break;case 29:if(h=l,p=(0,a["default"])(h,3),v=p[0],y=void 0===v?void 0:v,g=p[1],_=void 0===g?void 0:g,b=p[2],E=void 0===b?1:b,_<0&&(_+=i[r]),y<0&&(y+=i[r]),!(0>y||y>=i[r])){n.next=34;break}throw new Error("Slice start out of bounds.");case 34:if(0!=E){n.next=36;break}throw new Error("Stride/step cannot be zero.");case 36:if(!(E<0)){n.next=43;break}if(null==y&&(y=i[r]-1),null==_&&(_=-1),!(-1>_||_>=i[r])){n.next=41;break}throw new Error("Slice end out of bounds.");case 41:n.next=47;break;case 43:if(null==y&&(y=0),null==_&&(_=i[r]),!(0>_||_>i[r])){n.next=47;break}throw new Error("Slice end out of bounds.");case 47:return m.push(t*E),w+=t*y,n.next=51,1+Math.trunc((-Math.sign(E)+_-y)/E);case 51:t*=i[r];case 52:n.next=2;break;case 54:case"end":return n.stop()}}),n)}))()),g=this.data,_=new v.ARRAY_TYPES[this.dtype](y.reduce((function(n,r){return n*r}),1)),b=0;function E(n,r){if(0===n)_[b++]=g[r];else for(var e=y[--n];e-- >0;r+=m[n])E(n,r)}return E(y.length,w),y.reverse(),new r(y,_)}},{key:"ndim",get:function(){return this.shape.length}},{key:"dtype",get:function(){for(var n=0,r=Object.entries(v.ARRAY_TYPES);n<r.length;n++){var e=(0,a["default"])(r[n],2),t=e[0],o=e[1];if(this.data instanceof o)return t}throw new Error("Data type could not determined.")}},{key:"T",get:function(){return 0==this.ndim?this.sliceElems():1==this.ndim?this.sliceElems([],"new"):this.transpose()}},{key:"H",get:function(){var n=this.T;return"object"!=this.dtype&&"complex128"!=this.dtype?n:n.mapElems(math.conj)}}]),r}((0,c["default"])(Function));r.NDArray=A},25315:function(n,r,e){"use strict";e(48675),e(3462),e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.LBFGS_Solver=void 0;var a=t(e(16125)),o=t(e(39885)),i=e(19137),s=function(){function n(r,e){(0,a["default"])(this,n),this.dXdG=new Float64Array(r),this.dX=new Float64Array(r*e),this.dG=new Float64Array(r*e),this.tmp=new Float64Array(r),Object.assign(this,{M:r,N:e}),this.m=0,this.off=0,Object.seal(this)}return(0,o["default"])(n,[{key:"update",value:function(n,r){var e=this.M,t=this.N,a=this.dG,o=this.dXdG,s=this.dX;if(n.length!==t)throw new Error("Assertion failed.");if(r.length!==t)throw new Error("Assertion failed.");for(var f=0,u=t;u-- >0;)f+=n[u]*r[u];if(!(0<f))throw new i.LineSearchNoProgressError;this.m===e?this.off=(this.off+1)%e:this.m++;var l=(this.off+this.m-1)%e;o[l]=f;for(var c=t;c-- >0;)s[t*l+c]=n[c];for(var d=t;d-- >0;)a[t*l+d]=r[d]}},{key:"forget",value:function(n){if(0!==n%1)throw new Error("Assertion failed.");if(!(n>=0))throw new Error("Assertion failed.");if(!(n<=this.m))throw new Error("Assertion failed.");this.off=(this.off+n)%this.M,this.m-=n}},{key:"compute_Hv_phase1",value:function(n){var r=this.M,e=this.N,t=this.dG,a=this.m,o=this.dXdG,i=this.dX,s=this.off,f=this.tmp;if(n.length!==e)throw new Error("Assertion failed.");for(var u=a;u-- >0;){var l=s+u;l-=(l>=r)*r;for(var c=0,d=e;d-- >0;)c+=i[e*l+d]*n[d];f[l]=c/=o[l];for(var h=e;h-- >0;)n[h]-=c*t[e*l+h]}}},{key:"compute_Hv_phase2",value:function(n){var r=this.M,e=this.N,t=this.dG,a=this.m,o=this.dXdG,i=this.dX,s=this.off,f=this.tmp;if(n.length!==e)throw new Error("Assertion failed.");for(var u=0;u<a;u++){var l=s+u;l-=(l>=r)*r;for(var c=0,d=e;d-- >0;)c+=t[e*l+d]*n[d];c/=o[l];for(var h=e;h-- >0;)n[h]+=(f[l]-c)*i[e*l+h]}}}]),n}();r.LBFGS_Solver=s},27357:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.LBFGSB_Solver=void 0;var a=t(e(16125)),o=t(e(39885)),i=e(53791),s=e(90053),f=e(9588),u=e(88235),l=e(93769),c=e(14748);function d(n,r){var e;if("undefined"===typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=h(n))||r&&n&&"number"===typeof n.length){e&&(n=e);var t=0,a=function(){};return{s:a,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return i=n.done,n},e:function(n){s=!0,o=n},f:function(){try{i||null==e["return"]||e["return"]()}finally{if(s)throw o}}}}function h(n,r){if(n){if("string"===typeof n)return p(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p(n,r):void 0}}function p(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}var v=!1,w=function(n,r){if(n.length%1!==0)throw new Error("Assertion failed.");if(r.length%1!==0)throw new Error("Assertion failed.");if(n.length!==r.length)throw new Error("Assertion failed.");for(var e=0,t=n.length;t-- >0;)e+=n[t]*r[t];return e},m=function(){function n(r,e){if((0,a["default"])(this,n),r%1!==0)throw new Error("Assertion failed.");if(e%1!==0)throw new Error("Assertion failed.");if(!(0<r))throw new Error("Assertion failed.");if(!(0<e))throw new Error("Assertion failed.");this.m=0,this.M=0|r,this.N=0|e,this._scale=1,this.dX=new Float64Array(r*e),this.dG=new Float64Array(r*e),this.dXdX=new Float64Array(r*r),this.dXdG=new Float64Array(r*r),this.dGdG=new Float64Array(r*r),this.D=new Float64Array(r),this._J=new Float64Array(r*r),this._J_invalid=!0,this.travels=new Float64Array(e),this.Bdx=new Float64Array(2*r),this.Bg=new Float64Array(2*r),this.Bei=new Float64Array(2*r),this.M_WAAW=new Float64Array(4*r*r),v||(this.P=new Int32Array(2*r))}return(0,o["default"])(n,[{key:"forget",value:function(n){var r=this.m,e=this.M,t=this.N,a=this.dX,o=this.dXdX,i=this.dG,s=this.dXdG,f=this.dGdG,u=this.D;if(r>e)throw new Error("Assertion failed.");if(n%1!==0)throw new Error("Assertion failed.");if(!(n>0))throw new Error("Assertion failed.");if(!(n<=r))throw new Error("Assertion failed.");for(var l=0,c=[a,i];l<c.length;l++)for(var d=c[l],h=n;h<r;h++)for(var p=0;p<t;p++)d[t*(h-n)+p]=d[t*h+p];for(var v=0,w=[o,s,f];v<w.length;v++)for(var m=w[v],y=n;y<r;y++)for(var g=n;g<r;g++)m[e*(y-n)+(g-n)]=m[e*y+g];for(var _=n;_<r;_++)u[_-n]=u[_];this.m=r-n,this._J_invalid=!0}},{key:"update",value:function(n,r){var e=this.M,t=this.N,a=this.dX,o=this.dXdX,i=this.dG,s=this.dXdG,f=this.dGdG,u=this.D;if(t!==n.length)throw new Error("Assertion failed.");if(t!==r.length)throw new Error("Assertion failed.");this.m>=e&&this.forget(1),this.m++;var l=this.m,c=l-1;if(l>e)throw new Error("Assertion failed.");for(var d=0;d<t;d++)a[t*c+d]=n[d];for(var h=0;h<t;h++)i[t*c+h]=r[h];for(var p=0;p<l;p++){for(var v=0,w=0;w<t;w++)v+=a[t*c+w]*a[t*p+w];o[e*c+p]=o[e*p+c]=v}for(var m=0;m<l;m++){s[e*c+m]=0;for(var y=0;y<t;y++)s[e*c+m]+=a[t*c+y]*i[t*m+y];s[e*m+c]=0;for(var g=0;g<t;g++)s[e*m+c]+=a[t*m+g]*i[t*c+g]}u[c]=Math.sqrt(s[e*c+c]);for(var _=0;_<l;_++){for(var b=0,E=0;E<t;E++)b+=i[t*c+E]*i[t*_+E];f[e*c+_]=f[e*_+c]=b}this._J_invalid=!0}},{key:"_compute_Bv",value:function(n,r){var e=this.m,t=this.M,a=this.N,o=this.dG,i=this.dXdG,s=this.dX,f=this.J,u=this.D,l=this.scale;if(n.length!==2*t)throw new Error("Assertion failed.");if(r.length!==a)throw new Error("Assertion failed.");for(var d=2*e;d-- >e;)n[d]*=-1;(0,c._tril_t_solve)(e,t,1,f,0,n,e);for(var h=0;h<e;h++)n[h]/=u[h];for(var p=1;p<e;p++)for(var v=0;v<p;v++)n[v]+=i[t*p+v]*n[e+p]/i[t*v+v];for(var w=a;w-- >0;)for(var m=e;m-- >0;)r[w]+=s[a*m+w]*n[e+m]*l;for(var y=a;y-- >0;)for(var g=e;g-- >0;)r[y]+=o[a*g+y]*n[g]}},{key:"compute_Bv",value:function(n,r){var e=this.N,t=this.scale,a=this.Bg;if(n.length!==e)throw new Error("Assertion failed.");this.compute_bv(n,a);for(var o=e;o-- >0;)r[o]=n[o]*t;this._compute_Bv(a,r)}},{key:"compute_bv",value:function(n,r){var e=this.m,t=this.M,a=this.N,o=this.dG,i=this.dXdG,s=this.dX,f=this.J,u=this.D,l=this.scale;if(n.length!==a)throw new Error("Assertion failed.");if(r.length!==2*t)throw new Error("Assertion failed.");r.fill(0,0,2*e);for(var d=0;d<e;d++)for(var h=0;h<a;h++)r[d]+=o[a*d+h]*n[h];for(var p=1;p<e;p++)for(var v=0;v<p;v++)r[e+p]+=i[t*p+v]*r[v]/i[t*v+v];for(var w=0;w<e;w++)r[w]/=u[w];for(var m=0;m<e;m++)for(var y=0;y<a;y++)r[e+m]+=s[a*m+y]*n[y]*l;(0,c._tril_solve)(e,t,1,f,0,r,e)}},{key:"compute_be",value:function(n,r){var e=this.m,t=this.M,a=this.N,o=this.dG,i=this.dXdG,s=this.dX,f=this.J,u=this.D,l=this.scale;if(n%1!==0)throw new Error("Assertion failed.");if(n|=0,!(n>=0))throw new Error("Assertion failed.");if(!(n<a))throw new Error("Assertion failed.");if(r.length!==2*t)throw new Error("Assertion failed.");r.fill(0,0,2*e);for(var d=0;d<e;d++)r[d]+=o[a*d+n];for(var h=1;h<e;h++)for(var p=0;p<h;p++)r[e+h]+=i[t*h+p]*r[p]/i[t*p+p];for(var v=0;v<e;v++)r[v]/=u[v];for(var w=0;w<e;w++)r[e+w]+=s[a*w+n]*l;(0,c._tril_solve)(e,t,1,f,0,r,e)}},{key:"compute_ubbv",value:function(n,r,e){var t=this.m,a=this.M,o=this.scale;if(r*=o,isNaN(r))throw new Error("Assertion failed.");if(n.length!==2*a)throw new Error("Assertion failed.");if(e.length!==2*a)throw new Error("Assertion failed.");for(var i=0,s=2*t;s-- >t;)i-=n[s]*e[s];for(var f=t;f-- >0;)i+=n[f]*e[f];return i+r}},{key:"compute_cauchyGeneralized",value:function(n,r,e,t){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=this.m,f=this.N,u=this.Bg,l=this.Bdx,c=this.Bei,h=this.scale,p=this.travels;if(n.length!==f)throw new Error("Assertion failed.");if(r.length!==f)throw new Error("Assertion failed.");if(e.length!==2*f)throw new Error("Assertion failed.");if(t.length!==f)throw new Error("Assertion failed.");if(!t.slice().sort((function(n,r){return n-r})).every((function(n,r){return n===r})))throw new Error("Assertion failed.");for(var v=f;v-- >0;){if(!(r[v]>=e[2*v+0]))throw new Error("Assertion failed.");if(!(r[v]<=e[2*v+1]))throw new Error("Assertion failed.")}for(var m=f;m-- >0;)if(0===n[m])p[m]=1/0;else{var y=e[2*m+(n[m]<0)];if(p[m]=(r[m]-y)/n[m],!(0<=p[m]))throw new Error("Assertion failed: "+p[m]);var g=0;while(Math.sign(n[m])*(r[m]-p[m]*n[m]-y)<0){if(++g>2)throw new Error("Assertion failed.");p[m]=(0,s.nextDown)(p[m])}if(n[m]<0&&r[m]-p[m]*n[m]>y)throw new Error("Assertion failed.");if(n[m]>0&&r[m]-p[m]*n[m]<y)throw new Error("Assertion failed.")}var _=0,b=0;this.compute_bv(n,u),l.fill(0,0,2*o);var E,A=w(n,n),x=this.compute_ubbv(u,A,u),M=0,k=(0,i.heap_sort_gen)(t,(function(r,e){var t=p[r],a=p[e];return t<a?-1:t>a?1:Math.abs(n[e])-Math.abs(n[r])})),P=d(k);try{n:for(P.s();!(E=P.n()).done;){var S=E.value;if(0===n[S]){var O,N=d(t.subarray(b));try{for(N.s();!(O=N.n()).done;){var j=O.value;if(!(Number.MAX_VALUE<p[j]))throw new Error("Assertion failed.");if(0!==n[j])throw new Error("Assertion failed.")}}catch(B){N.e(B)}finally{N.f()}break n}var F=e[2*S+(n[S]<0)],R=p[S]-_;if(!(0<=R))throw new Error("Assertion failed.");if(0!==R){var D=Math.min(R,A/x);if(!a&&!(D>=R))break n;if(0<D){for(var T=2*o;T-- >0;)l[T]-=D*u[T];_+=D}if(a&&!(D>=R))break n;_=p[S],this.compute_be(S,c);var I=this.compute_ubbv(c,-_*n[S],l),L=this.compute_ubbv(c,1,c),C=this.compute_ubbv(c,n[S],u);A-=n[S]*(n[S]+I)+R*x,x+=n[S]*(n[S]*L-2*C);for(var q=2*o;q-- >0;)u[q]-=n[S]*c[q];M+=n[S]*n[S]*_*(_*h/2-1),r[S]=F,n[S]*=1-_*h,++b}else r[S]=F,_=p[S],++b}}catch(B){P.e(B)}finally{P.f()}var U,Y=d(t.subarray(b));try{for(Y.s();!(U=Y.n()).done;){var z=U.value;if(M+=n[z]*n[z]*_*(_*h/2-1),r[z]-=_*n[z],n[z]*=1-_*h,!(r[z]>=e[2*z+0]))throw new Error("Assertion failed.");if(!(r[z]<=e[2*z+1]))throw new Error("Assertion failed.")}}catch(B){Y.e(B)}finally{Y.f()}return M+=.5*this.compute_ubbv(l,0,l),this._compute_Bv(l,n),[b,M]}},{key:"compute_subspace_Hv",value:function(n,r,e,t){var a=this.m,o=this.M,i=this.N,s=this.dX,f=this.dXdG,c=this.dG,h=this.dGdG,p=this.M_WAAW,w=this.Bei,m=this.scale;if(!(e instanceof Int32Array))throw new Error("Assertion failed.");if(n.length!==i)throw new Error("Assertion failed.");if(r.length!==i)throw new Error("Assertion failed.");if(e.length!==i)throw new Error("Assertion failed.");if(t%1!==0)throw new Error("Assertion failed.");if(!(t>=0))throw new Error("Assertion failed.");if(!(t<=i))throw new Error("Assertion failed.");if(!e.slice().sort((function(n,r){return n-r})).every((function(n,r){return n===r})))throw new Error("Assertion failed.");for(var y=e.subarray(t),g=0;g<a;g++){var _,b=0,E=d(y);try{for(E.s();!(_=E.n()).done;){var A=_.value;b+=c[i*g+A]*n[A]}}catch(yn){E.e(yn)}finally{E.f()}w[g]=b/m}for(var x=0;x<a;x++){var M,k=0,P=d(y);try{for(P.s();!(M=P.n()).done;){var S=M.value;k+=s[i*x+S]*n[S]}}catch(yn){P.e(yn)}finally{P.f()}w[a+x]=k}if(0<t){for(var O=e.subarray(0,t),N=0;N<a;N++)for(var j=0;j<=N;j++){var F,R=0,D=d(O);try{for(D.s();!(F=D.n()).done;){var T=F.value;R+=c[i*N+T]*c[i*j+T]}}catch(yn){D.e(yn)}finally{D.f()}p[2*a*N+j]=R}for(var I=0;I<a;I++)for(var L=0;L<a;L++){var C,q=0,U=d(O);try{for(U.s();!(C=U.n()).done;){var Y=C.value;q+=s[i*I+Y]*c[i*L+Y]}}catch(yn){U.e(yn)}finally{U.f()}p[2*a*(a+I)+L]=q}for(var z=0;z<a;z++)for(var B=0;B<=z;B++){var G,V=0,$=d(O);try{for($.s();!(G=$.n()).done;){var X=G.value;V+=s[i*z+X]*s[i*B+X]}}catch(yn){$.e(yn)}finally{$.f()}p[2*a*(a+z)+(a+B)]=V*m}}else for(var W=0;W<2*a;W++)for(var J=0;J<=W;J++)p[2*a*W+J]=0;for(var H=0;H<a;H++)for(var Q=0;Q<=H;Q++)p[2*a*H+Q]-=h[o*H+Q],p[2*a*H+Q]/=m;for(var K=0;K<a;K++)p[2*a*K+K]-=f[o*K+K];for(var Z=0;Z<a;Z++)for(var nn=Z;nn<a;nn++)p[2*a*(a+Z)+nn]-=f[o*Z+nn];if(0<a)if(v)(0,u._ldl_decomp)(2*a,2*a,p,0),(0,u._ldl_solve)(2*a,2*a,1,p,0,w,0);else{var rn=this.Bdx,en=this.P;(0,l._pldlp_decomp)(2*a,2*a,p,0,en,0),(0,l._pldlp_solve)(2*a,2*a,1,p,0,en,0,w,0,rn)}r.fill(0,0,i);for(var tn=0;tn<a;tn++){var an,on=d(y);try{for(on.s();!(an=on.n()).done;){var sn=an.value;r[sn]+=c[i*tn+sn]*w[tn]}}catch(yn){on.e(yn)}finally{on.f()}}var fn,un=d(y);try{for(un.s();!(fn=un.n()).done;){var ln=fn.value;r[ln]/=m}}catch(yn){un.e(yn)}finally{un.f()}for(var cn=0;cn<a;cn++){var dn,hn=d(y);try{for(hn.s();!(dn=hn.n()).done;){var pn=dn.value;r[pn]+=s[i*cn+pn]*w[a+cn]}}catch(yn){hn.e(yn)}finally{hn.f()}}var vn,wn=d(y);try{for(wn.s();!(vn=wn.n()).done;){var mn=vn.value;r[mn]+=n[mn]/m}}catch(yn){wn.e(yn)}finally{wn.f()}}},{key:"compute_Hv",value:function(n,r){var e=this.m,t=this.M,a=this.N,o=this.dX,i=this.dXdG,s=this.dG,f=this.dGdG,c=this.M_WAAW,d=this.Bei,h=this.scale;if(n.length!==a)throw new Error("Assertion failed.");if(r.length!==a)throw new Error("Assertion failed.");for(var p=0;p<e;p++){for(var w=0,m=0;m<a;m++)w+=s[a*p+m]*n[m];d[p]=w/h}for(var y=0;y<e;y++){for(var g=0,_=0;_<a;_++)g+=o[a*y+_]*n[_];d[e+y]=g}for(var b=0;b<2*e;b++)for(var E=0;E<=b;E++)c[2*e*b+E]=0;for(var A=0;A<e;A++)for(var x=0;x<=A;x++)c[2*e*A+x]-=f[t*A+x],c[2*e*A+x]/=h;for(var M=0;M<e;M++)c[2*e*M+M]-=i[t*M+M];for(var k=0;k<e;k++)for(var P=k;P<e;P++)c[2*e*(e+k)+P]-=i[t*k+P];if(0<e)if(v)(0,u._ldl_decomp)(2*e,2*e,c,0),(0,u._ldl_solve)(2*e,2*e,1,c,0,d,0);else{var S=this.Bdx,O=this.P;(0,l._pldlp_decomp)(2*e,2*e,c,0,O,0),(0,l._pldlp_solve)(2*e,2*e,1,c,0,O,0,d,0,S)}r.fill(0,0,a);for(var N=0;N<e;N++)for(var j=0;j<a;j++)r[j]+=s[a*N+j]*d[N];for(var F=0;F<a;F++)r[F]/=h;for(var R=0;R<e;R++)for(var D=0;D<a;D++)r[D]+=o[a*R+D]*d[e+R];for(var T=0;T<a;T++)r[T]+=n[T]/h}},{key:"J",get:function(){var n=this.m,r=this.M,e=(this.N,this.dXdX),t=this.dXdG,a=this.scale,o=this._J;if(this._J_invalid){this._J_invalid=!1;for(var i=0;i<n;i++)for(var s=0;s<=i;s++)o[r*i+s]=a*e[r*i+s];for(var u=0;u<n;u++)for(var l=0;l<=u;l++)for(var c=0;c<l;c++)o[r*u+l]+=t[r*u+c]/t[r*c+c]*t[r*l+c];(0,f._cholesky_decomp)(n,r,o,0)}return o}},{key:"scale",get:function(){return this._scale},set:function(n){if(n*=1,isNaN(n))throw new Error("Assertion failed.");if(!(0<n))throw new Error("Assertion failed.");this._scale!==n&&(this._scale=n,this._J_invalid=!0)}}]),n}();r.LBFGSB_Solver=m},78668:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.TrustRegionSolverLBFGS=void 0;var a=t(e(42989)),o=t(e(16125)),i=t(e(39885)),s=e(30065),f=e(30716),u=e(27357),l=e(93393),c=1,d=2,h=3,p=function(n,r){if(n.length%1!==0)throw new Error("Assertion failed.");if(r.length%1!==0)throw new Error("Assertion failed.");if(n.length!==r.length)throw new Error("Assertion failed.");for(var e=0,t=n.length;t-- >0;)e+=n[t]*r[t];return e},v=function(){function n(r,e,t){var i=t.updateTol,f=t.historySize,l=t.scaleInit;if((0,o["default"])(this,n),!(r instanceof Function))throw new Error("new TrustRegionSolverLBFGS(fg, x0, updateTol): fg must be Function.");if(l*=1,!(0<l))throw new Error("TrustRegionSolverLBFGS(fg,x0,opt): opt.scaleInit must be greater than 0.");if(!isFinite(l))throw new Error("TrustRegionSolverLBFGS(fg,x0,opt): opt.scaleInit must be greater than 0.");if(this.fg=r,this.report_x=e=(0,s.array)("float64",e),1!==e.ndim)throw new Error("new TrustRegionSolverLBFGS(fg, x0, updateTol): x0.ndim must be 1.");var d=r(new s.NDArray(e.shape,e.data.slice())),h=(0,a["default"])(d,2),p=h[0],v=h[1];if(this.report_loss=p*=1,this.report_loss_grad=v=(0,s.array)("float64",v),isNaN(p))throw new Error("new TrustRegionSolverLBFGS(fg, x0, updateTol): fg must have signature float[N] => [float,float[N]].");if(1!==v.ndim)throw new Error("new TrustRegionSolverLBFGS(fg, x0, updateTol): fg must have signature float[N] => [float,float[N]].");var w=(0,a["default"])(e.shape,1),m=w[0];if(v.shape[0]!==m)throw new Error("new TrustRegionSolverLBFGS(fg, x0, updateTol): fg must have signature float[N] => [float,float[N]].");this.M=f,this.N=m,this.scaleInit=l=1/l,this.lbfgs=new u.LBFGSB_Solver(f,m),this.lbfgs.scale=l,this.D=new Float64Array(m),this.D.fill(Math.sqrt(l)),this.X0=Float64Array.from(e),this.G0=Float64Array.from(v),this.last_X=Float64Array.from(e),this.last_G=Float64Array.from(v),this.dg=new Float64Array(m),this.loss=p,this.bv=new Float64Array(2*f),this.newton_dX=new Float64Array(m),this.updateTol=i,this._report_state=c,Object.seal(this)}return(0,i["default"])(n,[{key:"wiggle",value:function(){var n=this.lbfgs,r=n.m;if(0===r)throw new l.OptimizationNoProgressError("Too many unsuccessfull iterations.");if(!(0<r))throw new Error("Assertion failed.");n.forget(n.m+1>>>1)}},{key:"report",value:function(){if(this._report_state!==c)throw new Error("TrustRegionSolverLSQ::report: can only be called once after each makeConsideredMove() but not directly after considerMove(dX).");this._report_state=d;var n=[this.report_x,this.report_loss,this.report_loss_grad];return this.report_x=this.report_loss_grad=null,this.report_loss=NaN,n}},{key:"considerMove",value:function(n){var r=this.N,e=this.D,t=this.updateTol,o=this.lbfgs,i=this.loss,f=this.bv,u=this.X0,l=this.G0,c=this.dg,d=this.last_X,v=this.last_G;this.scaleSharpness;if(this._report_state=h,r!==n.length)throw new Error("Assertion failed.");for(var w=Int32Array.of(r),m=new Float64Array(r),y=r;y-- >0;)m[y]=u[y]+n[y];var g=this.fg(new s.NDArray(w,m.slice())),_=(0,a["default"])(g,2),b=_[0],E=_[1];if(b*=1,E=(0,s.array)("float64",E),isNaN(b))throw new Error("Assertion failed.");if(1!==E.ndim)throw new Error("Assertion failed.");if(E.shape[0]!==r)throw new Error("Assertion failed.");this.report_x=new s.NDArray(w,m),this.report_loss=b,this.report_loss_grad=E,E=E.data;for(var A=r;A-- >0;)m[A]-=u[A];for(var x=i,M=r;M-- >0;)x+=l[M]*m[M];o.compute_bv(m,f),x+=.5*o.compute_ubbv(f,p(m,m),f);for(var k=m,P=r;P-- >0;)c[P]=E[P]-v[P];for(var S=r;S-- >0;)k[S]=u[S]+n[S],k[S]-=d[S];var O=c.reduce((function(n,r){return Math.max(n,Math.abs(r))}),0);if(0<O){for(var N=0,j=0,F=r;F-- >0;){var R=k[F]/O,D=c[F]/O;N+=D*D,j+=R*D}if(1<=N){if(!isFinite(j))throw new Error("Assertion failed.");if(t*N<j){o.update(k,c),o.scale=N/j;for(var T=r;T-- >0;){o.compute_be(T,f);var I=o.compute_ubbv(f,1,f);if(!(0<I))throw new Error("Assertion failed: LBFGS model not positive definite.");e[T]=Math.max(e[T],Math.sqrt(I))}for(var L=r;L-- >0;)d[L]=u[L]+n[L];for(var C=r;C-- >0;)v[C]=E[C]}}}for(var q=r;q-- >0;)m[q]=u[q]+n[q];return[x,this.report_loss]}},{key:"makeConsideredMove",value:function(){if(this._report_state!==h)throw new Error("Assertion failed.");this._report_state=c,this.loss=this.report_loss;for(var n=this.N,r=this.X0,e=this.G0,t=this.report_x.data,a=this.report_loss_grad.data,o=n;o-- >0;)r[o]=t[o];for(var i=n;i-- >0;)e[i]=a[i]}},{key:"scaledNorm",value:function(n){var r=this.N,e=this.D;if(n.length!==r)throw new Error("Assertion failed.");for(var t=new f.FrobeniusNorm,a=r;a-- >0;)t.include(e[a]*n[a]);return t.result}},{key:"cauchyTravel",value:function(){for(var n=this.N,r=this.lbfgs,e=this.G0,t=this.bv,a=0,o=n;o-- >0;)a+=e[o]*e[o];r.compute_bv(e,t);var i=r.compute_ubbv(t,p(e,e),t);if(isNaN(i))throw new Error("Assertion failed: "+i);return 0===a?0:0===i?-1/0:-a/i}},{key:"computeNewton",value:function(){var n=this.N,r=this.lbfgs,e=this.G0,t=this.newton_dX;if(r.compute_Hv(e,t),t.some(isNaN))throw new Error("Assertion failed.");for(var a=n;a-- >0;)t[a]*=-1}}]),n}();r.TrustRegionSolverLBFGS=v},86173:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.TrustRegionSolverLSQ=void 0;var a=t(e(42989)),o=t(e(16125)),i=t(e(39885)),s=e(30065),f=e(52894),u=e(30716),l=e(5323),c=e(14748),d=e(63119),h=e(93393),p=1,v=2,w=3,m=function(){function n(r,e){if((0,o["default"])(this,n),!(r instanceof Function))throw new Error("new TrustRegionSolverLSQ(fJ, x0): fJ must be Function.");if(this.fJ=r,this.report_x=e=(0,s.array)("float64",e),1!==e.ndim)throw new Error("new TrustRegionSolverLSQ(fJ, x0): x0.ndim must be 1.");var t=r(new s.NDArray(e.shape,e.data.slice())),i=(0,a["default"])(t,2),f=i[0],u=i[1];if(this.report_f=f=(0,s.array)("float64",f),this.report_J=u=(0,s.array)("float64",u),1!==f.ndim)throw new Error("new TrustRegionSolverLSQ(fJ, x0): fJ(x) returned [f,J] with f.ndim !== 1.");if(2!==u.ndim)throw new Error("new TrustRegionSolverLSQ(fJ, x0): fJ(x) returned [f,J] with J.ndim !== 2.");var l=(0,a["default"])(u.shape,2),c=l[0],d=l[1];if(f.shape[0]!==c)throw new Error("new TrustRegionSolverLSQ(fJ, x0): fJ(x) returned [f,J] where J.shape[0] did not match f.shape[0].");if(e.shape[0]!==d)throw new Error("new TrustRegionSolverLSQ(fJ, x0): fJ(x) returned [f,J] where J.shape[1] did not match x0.shape[0].");this.loss=this.report_loss=NaN,this.report_loss_grad=null,this.M=c,this.N=d;var h=Math.min(c,d),p=Math.max(c,d+1);this.D=new Float64Array(d),this.X0=new Float64Array(1*d),this.F0=new Float64Array(1*c),this.J0=new Float64Array(c*d),this.G0=new Float64Array(d),this.tmp=new Float64Array(2*d),this.TMP=new Float64Array(p*d),this.newton_P=new Int32Array(d),this.newton_Q=new Int32Array(d),this.newton_R=new Float64Array(h*h),this.newton_V=new Float64Array(d*d),this.newton_UF=new Float64Array(1*c),this.newton_dX=new Float64Array(1*d),this.regularized_R0=new Float64Array(h*d),this.regularized_QF=new Float64Array(1*p),this.regularized_dX=new Float64Array(1*d),this.rank=-1,this._report_state=w,Object.seal(this),this._considerMove_computeLoss(),this.makeConsideredMove()}return(0,i["default"])(n,[{key:"wiggle",value:function(){throw new h.OptimizationNoProgressError("Too many unsuccessfull iterations.")}},{key:"_considerMove_computeLoss",value:function(){for(var n=this.M,r=this.N,e=this.report_f.data,t=this.report_J.data,a=0,o=n;o-- >0;){var i=e[o];a+=i*i/n}for(var f=new Float64Array(r),u=n;u-- >0;)for(var l=r;l-- >0;)f[l]+=t[r*u+l]*e[u]/n*2;this.report_loss=a,this.report_loss_grad=new s.NDArray(Int32Array.of(r),f)}},{key:"scaledNorm",value:function(n){var r=this.N,e=this.D;if(n.length!==r)throw new Error("Assertion failed.");for(var t=new u.FrobeniusNorm,a=r;a-- >0;)t.include(e[a]*n[a]);return t.result}},{key:"cauchyTravel",value:function(){for(var n=this.M,r=this.N,e=this.J0,t=this.G0,a=0,o=0,i=r;i-- >0;)a+=t[i]*t[i];for(var s=n;s-- >0;){for(var f=0,u=r;u-- >0;)f+=e[r*s+u]*t[u];o+=f*f}return 0===a?0:0===o?-1/0:-a/o}},{key:"report",value:function(){if(this._report_state!==p)throw new Error("TrustRegionSolverLSQ::report: can only be called once after each makeConsideredMove() but not directly after considerMove(dX).");this._report_state=v;var n=[this.report_x,this.report_loss,this.report_loss_grad,this.report_f,this.report_J];return this.report_x=this.report_f=this.report_J=this.report_loss_grad=null,this.report_loss=NaN,n}},{key:"considerMove",value:function(n){var r=this.M,e=this.N,t=this.X0,o=this.F0,i=this.J0;if(this._report_state=w,e!==n.length)throw new Error("Assertion failed.");for(var f=Int32Array.of(e),u=new Float64Array(e),l=e;l-- >0;)u[l]=t[l]+n[l];var c=this.fJ(new s.NDArray(f,u.slice())),d=(0,a["default"])(c,2),h=d[0],p=d[1];if(h=(0,s.array)("float64",h),p=(0,s.array)("float64",p),1!==h.ndim)throw new Error("Assertion failed.");if(2!==p.ndim)throw new Error("Assertion failed.");if(h.shape[0]!==r)throw new Error("Assertion failed.");if(p.shape[0]!==r)throw new Error("Assertion failed.");if(p.shape[1]!==e)throw new Error("Assertion failed.");this.report_x=new s.NDArray(f,u),this.report_f=h,this.report_J=p,this._considerMove_computeLoss();for(var v=0,m=r;m-- >0;){for(var y=0,g=e;g-- >0;)y+=i[e*m+g]*(u[g]-t[g]);y+=o[m],v+=y*y/r}return[v,this.report_loss]}},{key:"makeConsideredMove",value:function(){if(this._report_state!==w)throw new Error("Assertion failed.");this._report_state=p,this.rank=-1,this.loss=this.report_loss;for(var n=this.M,r=this.N,e=this.D,t=this.tmp,a=this.X0,o=this.F0,i=this.J0,s=this.G0,f=this.report_f.data,u=this.report_J.data,c=this.report_x.data,d=r;d-- >0;)a[d]=c[d];for(var h=n;h-- >0;)o[h]=f[h];for(var v=n*r;v-- >0;)i[v]=u[v];s.fill(0);for(var m=n;m-- >0;)for(var y=r;y-- >0;)s[y]+=i[r*m+y]*o[m];if(t.length!==2*r)throw new Error("Assertion failed.");t.fill(0);for(var g=0;g<n;g++)(0,l._norm_update)(t,i,r*g,0);for(var _=0;_<r;_++)e[_]=Math.max(e[_],(0,l._norm)(t,_))}},{key:"computeNewton",value:function(){if(!(0<=this.rank)){for(var n=this.M,r=this.N,e=this.D,t=this.J0,a=this.F0,o=this.tmp,i=this.TMP,s=this.newton_P,f=this.newton_Q,u=this.newton_V,h=this.newton_dX,p=this.newton_UF,v=Math.min(n,r),w=r;w-- >0;)s[w]=w;for(var m=n*r;m-- >0;)i[m]=t[m];for(var y=n;y-- >0;)p[y]=a[y];(0,l._rrqr_decomp_inplace)(n,r,1,i,0,p,0,s,0,o);for(var g=this.regularized_R0,_=v*r;_-- >0;)g[_]=i[_];var b=this.rank=(0,l._rrqr_rank)(n,r,i,0,o);if(b<r){for(var E=r;E-- >0;){var A=e[s[E]];if(0!==A)for(var x=b;x-- >0;)i[r*x+E]/=A}for(var M=r;M-- >0;)f[M]=s[M];u.fill(0),(0,d._urv_decomp_full)(b,r,i,0,u,0,f,0);for(var k=b;k-- >0;)o[k]=-p[k];for(var P=this.newton_R,S=b;S-- >0;)for(var O=b;O-- >0;)P[v*S+O]=i[r*S+O];(0,c._triu_solve)(b,v,1,P,0,o,0),h.fill(0);for(var N=b;N-- >0;)for(var j=r;j-- >0;)h[j]+=u[r*N+j]*o[N];for(var F=r;F-- >0;){var R=e[F];0!==R&&(h[F]/=R)}}else{for(var D=r;D-- >0;)o[D]=-p[D];(0,c._triu_solve)(r,r,1,i,0,o,0);for(var T=r;T-- >0;)h[s[T]]=o[T]}}}},{key:"computeNewtonRegularized",value:function(n){this.computeNewton();var r=this.M,e=this.N,t=this.D,o=this.rank,i=this.tmp,s=this.TMP,u=this.newton_P,l=this.newton_UF,d=this.newton_R,h=this.newton_V,p=this.newton_dX,v=this.regularized_R0,w=this.regularized_dX,m=this.regularized_QF,y=Math.min(r,e);if(0===n){for(var g=e;g-- >0;)w[g]=p[g];if(o<e){var _=this.scaledNorm(w);if(0===_)return[0,0];i.fill(0,0,o);for(var b=o;b-- >0;)for(var E=e;E-- >0;)i[b]+=h[e*b+E]*t[E]*w[E];(0,c._triu_t_solve)(o,y,1,d,0,i,0);for(var A=0,x=o;x-- >0;){var M=i[x];A+=M*M}return A/=-_,[_,A]}}if(!(0<=n))throw new Error("TrustRegionSolverLSQ.prototype.computeMinRegularized(λ): λ must be non-negative.");for(var k=o*e;k-- >0;)s[k]=v[k];if(0!==n){for(var P=o;P-- >0;)m[P]=-l[P];s.fill(0,o*e,(e+1)*e),m.fill(0,o,e+1);for(var S=Math.sqrt(n),O=e;O-- >0;){var N=t[u[O]];if(0===N?N=1:N*=S,!(N>0))throw new Error("TrustRegionSolverLSQ.prototype.computeMinRegularized(λ): λ too small (caused underflow).");if(o<=O)s[e*O+O]=N;else{s[e*e+O]=N,m[e]=0;for(var j=O;j<e;j++){var F=e*j+j,R=e*e+j,D=s[R];if(0!==D){var T=s[F],I=(0,f._giv_rot_qr)(T,D),L=(0,a["default"])(I,3),C=L[0],q=L[1],U=L[2];s[R]=0,0!==q&&(s[F]=U,(0,f._giv_rot_rows)(s,e-1-j,F+1,R+1,C,q),(0,f._giv_rot_rows)(m,1,j,e,C,q))}}}}for(var Y=e;Y-- >0;)i[Y]=m[Y];(0,c._triu_solve)(e,e,1,s,0,i,0);for(var z=e;z-- >0;)w[u[z]]=i[z]}else if(o!==e)throw new Error("Assertion failed.");var B=this.scaledNorm(w);if(0===B)return[0,0];for(var G=e;G-- >0;){var V=u[G];i[G]=w[V]*t[V]*t[V]}(0,c._triu_t_solve)(e,e,1,s,0,i,0);for(var $=0,X=e;X-- >0;){var W=i[X];$+=W*W}return $/=-B,[B,$]}}]),n}();r.TrustRegionSolverLSQ=m},66153:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.odr_gen=v,r.TrustRegionSolverTLS=void 0;var a=t(e(16125)),o=t(e(39885)),i=t(e(25069)),s=t(e(42989)),f=e(30065),u=e(52894),l=e(30716),c=e(99777),d=e(5323),h=e(14748),p=e(93393);function v(n){var r=function r(e,t,a,o){var u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(!(a instanceof Function))throw new Error("".concat(c,"(x,y, fgg,p0): fgg must be function."));e=(0,f.array)("float64",e),t=(0,f.array)("float64",t),o=(0,f.asarray)("float64",o);var l="dx0"in u?(0,f.array)("float64",u.dx0):e.mapElems("float64",(function(){return 0})),c=r.name;if(1!==o.ndim)throw new Error("".concat(c,"(x,y, fgg,p0): p0.ndim must be 1."));if(1!==e.ndim&&2!==e.ndim)throw new Error("".concat(c,"(x,y, fgg,p0): x.ndim must be 1 or 2."));if(1!==t.ndim&&2!==t.ndim)throw new Error("".concat(c,"(x,y, fgg,p0): y.ndim must be 1 or 2."));if(e.ndim!==l.ndim)throw new Error("".concat(c,"(x,y, fgg,p0, opt): opt.dx0 and x must have same ndim."));var d=(0,s["default"])(e.shape,2),h=d[0],p=d[1],v=void 0===p?1:p,w=(0,s["default"])(t.shape,2),m=w[0],y=w[1],_=void 0===y?1:y,b=(0,s["default"])(o.shape,1),E=b[0];if(2==e.ndim&&v!==l.shape[1])throw new Error("".concat(c,"(x,y, fgg,p0, opt): opt.dx0 and x must have same shape."));if(h!==l.shape[0])throw new Error("".concat(c,"(x,y, fgg,p0, opt): opt.dx0 and x must have same shape."));if(h!==m)throw new Error("".concat(c,"(x,y, fgg,p0, opt): x.shape[0] must equal y.shape[0]."));var A=e.ndim,x=t.ndim,M=e.shape.slice(1),k=new Float64Array(h*_),P=new Float64Array(h*_*E),S=new Float64Array(h*_*v),O=new f.NDArray(t.shape,k),N=new f.NDArray(Int32Array.of.apply(Int32Array,(0,i["default"])(t.shape).concat([E])),P),j=new f.NDArray(Int32Array.of.apply(Int32Array,(0,i["default"])(t.shape).concat((0,i["default"])(e.shape.subarray(1)))),S);e=e.data,t=t.data;var F=function(n,r){if(!n.dtype.startsWith("float"))throw new Error("Assertion failed.");if(!r.dtype.startsWith("float"))throw new Error("Assertion failed.");if(1!==n.ndim)throw new Error("Assertion failed.");if(n.shape[0]!==E)throw new Error("Assertion failed.");if(A!==r.ndim)throw new Error("Assertion failed.");if(1!==A&&r.shape[1]!==v)throw new Error("Assertion failed.");if(r.shape[0]!==h)throw new Error("Assertion failed.");var o=a(n);r=r.data;for(var i=0;i<h;i++){for(var u=r.slice(v*i,v*(i+1)),l=v;l-- >0;)u[l]+=e[v*i+l];var c=o(new f.NDArray(M,u)),d=(0,s["default"])(c,3),p=d[0],w=d[1],m=d[2];if(p=(0,f.asarray)("float",p),w=(0,f.asarray)("float",w),m=(0,f.asarray)("float",m),p.ndim!==x-1)throw new Error("Assertion failed.");if(w.ndim!==x)throw new Error("Assertion failed.");if(m.ndim!==x-2+A)throw new Error("Assertion failed.");if(1!==x){if(p.shape[0]!==_)throw new Error("Assertion failed.");if(w.shape[0]!==_)throw new Error("Assertion failed.");if(m.shape[0]!==_)throw new Error("Assertion failed.")}if(1!==A&&m.shape[x-1]!==v)throw new Error("Assertion failed.");if(w.shape[x-1]!==E)throw new Error("Assertion failed.");p=p.data,w=w.data,m=m.data;for(var y=_;y-- >0;)k[_*i+y]=p[y]-t[_*i+y];for(var g=E*_;g-- >0;)P[E*_*i+g]=w[g];for(var b=v*_;b-- >0;)S[v*_*i+b]=m[b]}return[O,N,j]};return n(new g(F,o,l),u)};return Object.defineProperty(r,"name",{value:"odr".concat(n.name,"_gen")}),r}var w=1,m=2,y=3,g=function(){function n(r,e,t){if((0,a["default"])(this,n),!(r instanceof Function))throw new Error("Assertion failed.");if(e=(0,f.array)("float64",e),t=(0,f.array)("float64",t),1!==e.ndim)throw new Error("Assertion failed.");if(1!==t.ndim&&2!==t.ndim)throw new Error("Assertion failed.");var o=(0,s["default"])(t.shape,2),i=o[0],u=o[1],l=void 0===u?1:u,c=(0,s["default"])(e.shape,1),d=c[0],h=r(new f.NDArray(e.shape,e.data.slice()),new f.NDArray(t.shape,t.data.slice())),p=(0,s["default"])(h,3),v=p[0],w=p[1],y=p[2];if(v=(0,f.array)("float64",v),w=(0,f.array)("float64",w),y=(0,f.array)("float64",y),1!==v.ndim&&2!==v.ndim)throw new Error("Assertion failed.");if(w.ndim!==v.ndim+1)throw new Error("Assertion failed.");if(y.ndim!==v.ndim+t.ndim-1)throw new Error("Assertion failed.");var g=(0,s["default"])(v.shape,2),_=g[0],b=g[1],E=void 0===b?1:b;if(i!==_)throw new Error("Assertion failed.");if(w.shape[0]!==i)throw new Error("Assertion failed.");if(y.shape[0]!==i)throw new Error("Assertion failed.");if(2===v.ndim){if(w.shape[1]!==E)throw new Error("Assertion failed.");if(y.shape[1]!==E)throw new Error("Assertion failed.")}if(2===t.ndim&&y.shape[v.ndim]!==l)throw new Error("Assertion failed.");if(w.shape[v.ndim]!==d)throw new Error("Assertion failed.");var A=i*l+i*E,x=i*l+d,M=Math.min(l,E),k=Math.min(i*l+d+1,i*E),P=new Float64Array(i*l),S=new Float64Array(i*E*l),O=new Float64Array(i*E*d),N=new Float64Array(x),j=new Float64Array(x),F=new Float64Array(A),R=new Float64Array(x),D=new Float64Array(M*(M+3)>>>1),T=E<=l?S:new Float64Array(i*l*l+l),I=E<=l?O:new Float64Array(k*d),L=E<=l?F.subarray(i*l):new Float64Array(k),C=new Float64Array(i*l),q=new Float64Array(i*M*l),U=new Float64Array(k*d),Y=new Int32Array(d),z=new Float64Array(x),B=new Float64Array(i*l),G=new Float64Array(i*M*l),V=new Float64Array(Math.max(k,d+1)*d),$=new Int32Array(d),X=new Float64Array(x),W=new Float64Array(Math.max(i*l+k,x+1)),J=new Float64Array(2*d),H=P.slice(),Q=y.data,K=w.data;H.fill(1),Object.assign(this,{MX:i,NX:l,NY:E,NP:d,M:A,N:x,loss:0,rank:-1,_report_state:m,fgg:r,report_p:e,report_dx:t,report_loss:NaN,report_dloss_dp:null,report_dloss_ddx:null,report_dy:v,p_shape:e.shape,x_shape:t.shape,y_shape:v.shape,QF:W,J11:P,J21:S,J22:O,tmp:D,prepared_QF:L,prepared_J21:T,prepared_J22:I,prepared:!1,newton_R11:C,newton_R21:q,newton_R22:U,newton_P:Y,newton_dX:z,regularized_R11:B,regularized_R21:G,regularized_R22:V,regularized_P:$,regularized_dX:X,_consider_J11:H,_consider_J21:Q,_consider_J22:K,D:N,norm:J,X0:j,F0:F,G0:R}),Object.seal(this),this._considerMove_computeLoss(),this.makeConsideredMove()}return(0,o["default"])(n,[{key:"_considerMove_computeLoss",value:function(){var n=this.M,r=this.MX,e=this.NX,t=this.NY,a=this.NP,o=this.x_shape,i=this.p_shape,s=this._consider_J11,u=this._consider_J21,l=this._consider_J22;this._report_state=y;for(var c=new Float64Array(a),d=new Float64Array(r*e),h=this.report_dx.data,p=this.report_dy.data,v=r*t;v-- >0;)for(var w=a;w-- >0;)c[w]+=p[v]*l[a*v+w]/n*2;for(var m=r;m-- >0;)for(var g=e;g-- >0;)d[e*m+g]=s[e*m+g]*h[e*m+g]/n*2;for(var _=r;_-- >0;)for(var b=t;b-- >0;)for(var E=e;E-- >0;)d[e*_+E]+=u[e*(t*_+b)+E]*p[t*_+b]/n*2;for(var A=0,x=r*e;x-- >0;){var M=h[x];A+=M*M/n}for(var k=r*t;k-- >0;){var P=p[k];A+=P*P/n}this.report_dloss_dp=new f.NDArray(i,c),this.report_dloss_ddx=new f.NDArray(o,d),this.report_loss=A}},{key:"considerMove",value:function(n){var r=this.M,e=this.N,t=this.MX,a=this.NX,o=this.NY,i=this.NP,u=this.x_shape,l=this.y_shape,c=this.p_shape,d=this._consider_J11,h=this._consider_J21,p=this._consider_J22,v=this.J11,w=this.J21,m=this.J22,y=this.F0,g=this.X0,_=this.fgg;if(n.length!==e)throw new Error("Assertion failed.");var b=new Float64Array(i),E=new Float64Array(t*a);this.report_p=new f.NDArray(c,b),this.report_dx=new f.NDArray(u,E);for(var A=i;A-- >0;){var x=t*a+A;b[A]=g[x]+n[x]}for(var M=t*a;M-- >0;)E[M]=g[M]+n[M];var k=_(new f.NDArray(c,b.slice()),new f.NDArray(u,E.slice())),P=(0,s["default"])(k,3),S=P[0],O=P[1],N=P[2];if(S=(0,f.array)("float64",S),O=(0,f.asarray)("float64",O),N=(0,f.asarray)("float64",N),S.ndim!==l.length)throw new Error("Assertion failed.");if(O.ndim!==l.length+1)throw new Error("Assertion failed.");if(N.ndim!==l.length+u.length-1)throw new Error("Assertion failed.");if(S.shape[0]!==t)throw new Error("Assertion failed.");if(O.shape[0]!==t)throw new Error("Assertion failed.");if(N.shape[0]!==t)throw new Error("Assertion failed.");if(O.shape[l.length]!==i)throw new Error("Assertion failed.");if(2===u.length&&N.shape[l.length]!==a)throw new Error("Assertion failed.");if(2===l.length){if(S.shape[1]!==o)throw new Error("Assertion failed.");if(O.shape[1]!==o)throw new Error("Assertion failed.");if(N.shape[1]!==o)throw new Error("Assertion failed.")}this.report_dy=S,N=N.data,O=O.data;for(var j=t*o*a;j-- >0;)h[j]=N[j];for(var F=t*o*i;F-- >0;)p[F]=O[F];d.fill(1),this._considerMove_computeLoss();for(var R=0,D=t*a;D-- >0;){var T=y[D]+v[D]*(E[D]-g[D]);R+=T*T/r}for(var I=t;I-- >0;)for(var L=o;L-- >0;){for(var C=y[t*a+o*I+L],q=a;q-- >0;)C+=w[a*(o*I+L)+q]*(E[a*I+q]-g[a*I+q]);for(var U=i;U-- >0;)C+=m[i*(o*I+L)+U]*(b[U]-g[t*a+U]);R+=C*C/r}return[R,this.report_loss]}},{key:"makeConsideredMove",value:function(){if(this._report_state!==y)throw new Error("Assertion failed.");this._report_state=w,this.loss=this.report_loss,this.rank=-1,this.prepared=!1;for(var n=this.MX,r=this.NX,e=this.NY,t=this.NP,a=this._consider_J11,o=this.J11,i=this._consider_J21,s=this.J21,f=this._consider_J22,u=this.J22,c=this.D,d=this.X0,h=this.F0,p=this.G0,v=n*r;v-- >0;)o[v]=a[v];for(var m=n*e*r;m-- >0;)s[m]=i[m];for(var g=n*e*t;g-- >0;)u[g]=f[g];for(var _=this.report_p.data,b=this.report_dx.data,E=this.report_dy.data,A=t;A-- >0;)d[n*r+A]=_[A];for(var x=n*r;x-- >0;)d[x]=b[x];for(var M=n*e;M-- >0;)h[n*r+M]=E[M];for(var k=n*r;k-- >0;)h[k]=d[k];for(var P=n*r;P-- >0;)p[P]=o[P]*h[P];for(var S=n;S-- >0;)for(var O=e;O-- >0;)for(var N=r;N-- >0;)p[r*S+N]+=s[r*(e*S+O)+N]*h[n*r+e*S+O];p.fill(0,n*r,n*r+t);for(var j=n*e;j-- >0;)for(var F=t;F-- >0;)p[n*r+F]+=u[t*j+F]*h[n*r+j];for(var R=new l.FrobeniusNorm,D=n;D-- >0;)for(var T=r;T-- >0;){R.reset(),R.include(o[r*D+T]);for(var I=e;I-- >0;)R.include(s[r*(e*D+I)+T]);var L=r*D+T;c[L]=Math.max(c[L],R.result)}for(var C=t;C-- >0;){R.reset();for(var q=n*e;q-- >0;)R.include(u[t*q+C]);var U=n*r+C;c[U]=Math.max(c[U],R.result)}}},{key:"cauchyTravel",value:function(){for(var n=this.N,r=this.MX,e=this.NX,t=this.NY,a=this.NP,o=this.J11,i=this.J21,s=this.J22,f=this.G0,u=0,l=0,c=n;c-- >0;)u+=f[c]*f[c];for(var d=r;d-- >0;)for(var h=t;h-- >0;){for(var p=0,v=a;v-- >0;)p+=s[a*(t*d+h)+v]*f[r*e+v];for(var w=e;w-- >0;)p+=i[e*(t*d+h)+w]*f[e*d+w];l+=p*p}for(var m=r*e;m-- >0;){var y=o[m]*f[m];l+=y*y}return 0===u?0:0===l?-1/0:-u/l}},{key:"report",value:function(){if(this._report_state!==w)throw new Error("TrustRegionSolverLSQ::report: can only be called once after each makeConsideredMove() but not directly after considerMove(dX).");this._report_state=m;var n=[this.report_p,this.report_dx,this.report_loss,this.report_dloss_dp,this.report_dloss_ddx,this.report_dy];return this.report_p=this.report_dx=this.report_dy=this.report_dloss_dp=this.report_dloss_ddx=null,this.report_loss=NaN,n}},{key:"wiggle",value:function(){throw new p.OptimizationNoProgressError("Too many unsuccessfull iterations.")}},{key:"__DEBUG_J",value:function(n,r){if(n%1!==0)throw new Error("Assertion failed.");if(r%1!==0)throw new Error("Assertion failed.");if(n|=0,r|=0,!(0<=n))throw new Error("Assertion failed.");if(!(0<=r))throw new Error("Assertion failed.");var e=this.M,t=this.N,a=this.MX,o=this.NX,i=this.NY,s=this.NP,f=this.J11,u=this.J21,l=this.J22;if(!(n<e))throw new Error("Assertion failed.");if(!(r<t))throw new Error("Assertion failed.");if(n<a*o)return n===r?f[n]:0;if(n-=a*o,r<a*o){var c=n/i|0,d=r/o|0;return c!==d?0:(n%=i,r%=o,u[o*(i*c+n)+r])}return r-=a*o,l[s*n+r]}},{key:"scaledNorm",value:function(n){var r=this.N,e=this.D;if(n.length!==r)throw new Error("Assertion failed.");for(var t=new l.FrobeniusNorm,a=r;a-- >0;)t.include(e[a]*n[a]);return t.result}},{key:"_qr_decomp",value:function(n,r,e,t,a){var o=this.MX,i=this.NX,f=this.NY,l=this.NP,c=this.norm,h=this.tmp,p=this.prepared_J21,v=this.prepared_J22,w=Math.min(i,f),m=Math.min(o*f,o*i+l);if(!(t instanceof Int32Array))throw new Error("Assertion failed.");if(t.length!==l)throw new Error("Assertion failed.");if(n.length!==o*i)throw new Error("Assertion failed.");if(r.length!==o*w*i)throw new Error("Assertion failed.");if(e.length!==(l+1)*l&&e.length!==Math.min(o*f,o*i+l+1)*l)throw new Error("Assertion failed: "+JSON.stringify({len:e.length,MX:o,NX:i,NP:l}));if(1===w)for(var y=0;y<o;y++){for(var g=1,_=0;_<i;_++){var b=i*y+_,E=n[b],A=p[b]*g,x=(0,u._giv_rot_qr)(E,A),M=(0,s["default"])(x,3),k=M[0],P=M[1],S=M[2];if(0===S)throw new Error("Assertion failed: Sparse part of J must not be singular.");r[b]=g*P,0!==P&&(g*=k,n[b]=S,(0,u._giv_rot_rows)(a,1,b,o*i+y,k,P))}for(var O=0;O<l;O++)e[l*y+O]=g*v[l*y+O]}else for(var N=0;N<o;N++){h.fill(0,w,w*(w+3)>>>1);for(var j=w;j>0;j--)h[w-1+(j*(j+1)>>>1)]=1;for(var F=0;F<i;F++){h.fill(0,0,w);for(var R=n[i*N+F],D=0;D<w;D++){for(var T=w+(D*(D+1)>>>1),I=0,L=-1;L++<D;)I+=h[T+L]*p[i*(w*N+L)+F];if(0!==I){var C=(0,u._giv_rot_qr)(R,I),q=(0,s["default"])(C,3),U=q[0],Y=q[1],z=q[2];R=z,0!==Y&&((0,u._giv_rot_rows)(h,D+1,0,T,U,Y),(0,u._giv_rot_rows)(a,1,i*N+F,o*i+w*N+D,U,Y))}}n[i*N+F]=R;for(var B=0;B<w;B++)r[i*(w*N+B)+F]=h[B]}e.fill(0,l*w*N,l*w*(N+1));for(var G=0;G<w;G++)for(var V=w+(G*(G+1)>>>1),$=0;$<=G;$++)for(var X=0;X<l;X++)e[l*(w*N+G)+X]+=h[V+$]*v[l*(w*N+$)+X]}for(var W=o*w*l;W<m*l;W++)e[W]=v[W];for(var J=l;J-- >0;)t[J]=J;(0,d._rrqr_decomp_inplace)(m,l,1,e,0,a,o*i,t,0,c);var H=(0,d._rrqr_rank)(m,l,e,0,c);return e.fill(0,l*H,l*Math.min(m,l)),H}},{key:"_qr_solve",value:function(n,r,e,t,a,o){var i=this.MX,s=this.NX,f=this.NY,l=this.NP,c=this.prepared_J21,d=this.prepared_J22,p=this.D,v=this.tmp,w=this.norm,m=Math.min(s,f);if(!(t instanceof Int32Array))throw new Error("Assertion failed.");if(t.length!==l)throw new Error("Assertion failed.");if(n.length!==i*s)throw new Error("Assertion failed.");if(r.length!==i*m*s)throw new Error("Assertion failed.");if(!(e.length>=i*m*l))throw new Error("Assertion failed.");if(0!==a%1)throw new Error("Assertion failed.");if(!(0<=a))throw new Error("Assertion failed.");if(!(l>=a))throw new Error("Assertion failed.");if(a|=0,(0,h._triu_solve)(a,l,1,e,0,o,i*s),a!=l)for(var y=0;y<a;y++)for(var g=a;g<l;g++){var _=e[l*y+g];if(0!==_){var b=Math.sqrt(1-_*_);(0,u._giv_rot_rows)(o,1,i*s+g,i*s+y,b,_)}}for(var E=l;E-- >0;)w[t[E]]=o[i*s+E];for(var A=l;A-- >0;)o[i*s+A]=w[A];if(a!==l)for(var x=l;x-- >0;){var M=p[i*s+x];0!==M&&(o[i*s+x]/=M)}for(var k=i;k-- >0;)for(var P=m;P-- >0;){for(var S=0,O=l;O-- >0;)S+=d[l*(m*k+P)+O]*o[i*s+O];for(var N=s;N-- >0;)o[s*k+N]-=S*r[s*(m*k+P)+N]}for(var j=i;j-- >0;){v.fill(0,0,m);for(var F=s;F-- >0;){for(var R=s*j+F,D=m;D-- >0;)o[R]-=r[s*(m*j+D)+F]*v[D];o[R]/=n[R];for(var T=m;T-- >0;)v[T]+=c[s*(m*j+T)+F]*o[R]}}}},{key:"_rt_solve",value:function(n,r,e,t,a,o){var i=this.MX,s=this.NX,f=this.NY,l=this.NP,c=this.prepared_J21,d=this.prepared_J22,p=this.D,v=this.tmp,w=this.norm,m=Math.min(s,f);if(!(t instanceof Int32Array))throw new Error("Assertion failed.");if(t.length!==l)throw new Error("Assertion failed.");if(n.length!==i*s)throw new Error("Assertion failed.");if(r.length!==i*m*s)throw new Error("Assertion failed.");if(!(e.length>=i*l))throw new Error("Assertion failed.");if(!(o.length>=i*s+l))throw new Error("Assertion failed.");if(0!==a%1)throw new Error("Assertion failed.");if(!(0<=a))throw new Error("Assertion failed.");if(!(l>=a))throw new Error("Assertion failed.");a|=0,w.fill(0,0,l);for(var y=0;y<i;y++){v.fill(0,0,m);for(var g=0;g<s;g++){for(var _=s*y+g,b=0;b<m;b++)o[_]-=c[s*(m*y+b)+g]*v[b];o[_]/=n[_];for(var E=0;E<m;E++)v[E]+=r[s*(m*y+E)+g]*o[_]}for(var A=0;A<m;A++)for(var x=0;x<l;x++)w[x]+=v[A]*d[l*(m*y+A)+t[x]]}if(a<l){for(var M=l;M-- >0;){var k=p[i*s+t[M]];0!==k&&(w[M]/=k)}for(var P=a;P-- >0;)for(var S=l;S-- >a;){var O=e[l*P+S];if(0!==O){var N=Math.sqrt(1-O*O);(0,u._giv_rot_rows)(w,1,P,S,N,O)}}}for(var j=a;j-- >0;)o[i*s+j]-=w[j];(0,h._triu_t_solve)(a,l,1,e,0,o,i*s)}},{key:"prepare",value:function(){var n=this.MX,r=this.NX,e=this.NY,t=this.NP,a=this.prepared_J21,o=this.prepared_J22,i=this.prepared_QF,f=this.J21,l=this.J22,d=this.F0;if(this.prepared=this.prepared||r>=e,!this.prepared){if(this.prepared=!0,a.length!==n*r*r+r)throw new Error("Assertion failed.");if(o.length!==Math.min(n*e,n*r+t+1)*t)throw new Error("Assertion failed.");if(i.length!==Math.min(n*e,n*r+t+1))throw new Error("Assertion failed.");for(var h=-1,p=0;p<n;p++){for(var v=r*r*p,w=t*r*p,m=r*p,y=0;y<r*r;y++)a[v+y]=f[r*e*p+y];for(var g=0;g<r*t;g++)o[w+g]=l[t*e*p+g];for(var _=0;_<r;_++)i[m+_]=d[n*r+e*p+_];for(var b=1;b<r;b++)for(var E=0;E<b;E++){var A=v+r*b+E,x=a[A];if(0!==x){var M=v+r*E+E,k=a[M],P=(0,u._giv_rot_qr)(k,x),S=(0,s["default"])(P,3),O=S[0],N=S[1],j=S[2];a[A]=0,0!==N&&(a[M]=j,(0,u._giv_rot_rows)(a,r-1-E,M+1,A+1,O,N),(0,u._giv_rot_rows)(o,t,w+E*t,w+b*t,O,N),(0,u._giv_rot_rows)(i,1,m+E,m+b,O,N))}}for(var F=r;F<e;F++){++h===t&&(0,c._qr_decomp_inplace)(t,t,1,o,n*r*t,i,n*r),h=Math.min(h,t);for(var R=0;R<r;R++)a[v+r*r+R]=f[r*e*p+r*F+R];for(var D=0;D<t;D++)o[(n*r+h)*t+D]=l[t*e*p+t*F+D];i[n*r+h]=d[n*r+e*p+F];for(var T=0;T<r;T++){var I=v+r*r+T,L=a[I];if(0!==L){var C=v+r*T+T,q=a[C],U=(0,u._giv_rot_qr)(q,L),Y=(0,s["default"])(U,3),z=Y[0],B=Y[1],G=Y[2];a[I]=0,0!==B&&(a[C]=G,(0,u._giv_rot_rows)(a,r-1-T,C+1,I+1,z,B),(0,u._giv_rot_rows)(o,t,w+t*T,(n*r+h)*t,z,B),(0,u._giv_rot_rows)(i,1,m+T,n*r+h,z,B))}}if(!(h<=t))throw new Error("Assertion failed.");if(h===t)for(var V=0;V<t;V++){var $=n*r*t+t*h+V,X=o[$];if(0!==X){var W=n*r*t+t*V+V,J=o[W],H=(0,u._giv_rot_qr)(J,X),Q=(0,s["default"])(H,3),K=Q[0],Z=Q[1],nn=Q[2];o[$]=0,0!==Z&&(o[W]=nn,(0,u._giv_rot_rows)(o,t-1-V,W+1,$+1,K,Z),(0,u._giv_rot_rows)(i,1,n*r+V,n*r+h,K,Z))}}}}}}},{key:"computeNewton",value:function(){var n=this.MX,r=this.NX,e=this.NY,t=this.NP,a=this.QF,o=this.J11,i=this.prepared_QF,f=this.newton_R11,l=this.newton_R21,c=this.newton_R22,d=this.newton_P,h=this.newton_dX,p=this.F0,v=this.D;if(!(this.rank>=0)){if(-1!==this.rank)throw new Error("Assertion failed.");this.prepare();for(var w=Math.min(n*e,n*r+t),m=n*r;m-- >0;)f[m]=o[m];for(var y=w;y-- >0;)a[n*r+y]=i[y];for(var g=n*r;g-- >0;)a[g]=p[g];var _=this._qr_decomp(f,l,c,d,a);this.rank=_+n*r;for(var b=n*r+_;b-- >0;)h[b]=-a[b];if(_!==t){h.fill(0,n*r+_,n*r+t);for(var E=t;E-- >0;){var A=v[n*r+d[E]];if(0!==A)for(var x=_;x-- >0;)c[t*x+E]/=A}for(var M=_;M-- >0;)for(var k=t*M+M,P=t;P-- >_;){var S=t*M+P,O=c[S];if(0!==O){var N=c[k],j=(0,u._giv_rot_qr)(N,O),F=(0,s["default"])(j,3),R=F[0],D=F[1],T=F[2];if(0!==D){R<0&&(R*=-1,D*=-1,T*=-1);for(var I=M;I-- >0;){var L=c[t*I+M],C=c[t*I+P];c[t*I+M]=C*D+R*L,c[t*I+P]=C*R-D*L}c[k]=T}c[S]=D}}}this._qr_solve(f,l,c,d,_,h)}}},{key:"computeNewtonRegularized",value:function(n){if(n*=1,!(n>=0))throw new Error("Assertion failed.");var r=this.N,e=this.MX,t=this.NX,a=this.NY,o=this.NP,i=this.regularized_R11,f=this.J11,l=this.regularized_R21,c=this.regularized_R22,d=this.regularized_P,h=this.regularized_dX,p=this.D,v=this.QF,w=this.F0,m=this.prepared_QF,y=v,g=Math.min(e*a,e*t+o);if(c.length!==Math.max(Math.min(e*a,e*t+o+1),o+1)*o)throw new Error("Assertion failed.");if(v.length!==Math.max(Math.min(e*a,e*t+o+1),o+1)+e*t)throw new Error("Assertion failed.");if(0===n){this.computeNewton();for(var _=this.newton_R11,b=this.newton_R21,E=this.newton_R22,A=this.newton_P,x=this.newton_dX,M=this.rank,k=r;k-- >0;)h[k]=x[k];var P=this.scaledNorm(h);if(0===P)return[0,0];var S=M-e*t;if(M<r){for(var O=o;O-- >0;){var N=e*t+A[O];y[e*t+O]=h[N]*p[N]}for(var j=S;j-- >0;)for(var F=o;F-- >S;){var R=E[o*j+F];if(0!==R){var D=Math.sqrt(1-R*R);(0,u._giv_rot_rows)(y,1,e*t+j,e*t+F,D,R)}}}else for(var T=o;T-- >0;){var I=e*t+A[T];y[e*t+T]=h[I]*p[I]*p[I]}for(var L=e*t;L-- >0;)y[L]=h[L]*p[L]*p[L];this._rt_solve(_,b,E,A,S,y);for(var C=0,q=M;q-- >0;){var U=y[q];C+=U*U}return C/=-P,[P,C]}this.prepare();for(var Y=e*t;Y-- >0;)i[Y]=f[Y];for(var z=g;z-- >0;)v[e*t+z]=m[z];for(var B=e*t;B-- >0;)v[B]=w[B];for(var G=Math.sqrt(n),V=e*t;V-- >0;){var $=p[V]*G;if(!($>0))throw new Error("Assertion failed.");var X=(0,u._giv_rot_qr)(i[V],$),W=(0,s["default"])(X,3),J=W[0],H=(W[1],W[2]);i[V]=H,v[V]*=J}var Q=this._qr_decomp(i,l,c,d,v),K=o*o;c.fill(0,g*o,(o+1)*o);for(var Z=o;Z-- >0;){var nn=p[e*t+d[Z]];if(0===nn?nn=1:nn*=G,!(nn>0))throw new Error("Assertion failed.");if(Q<=Z)c[o*Z+Z]=nn,v[e*t+Z]=0;else{c[K+Z]=nn,v[r]=0;for(var rn=Z;rn<o;rn++){var en=o*rn+rn,tn=K+rn,an=c[en],on=c[tn],sn=(0,u._giv_rot_qr)(an,on),fn=(0,s["default"])(sn,3),un=fn[0],ln=fn[1],cn=fn[2];c[tn]=0,0!==ln&&(c[en]=cn,(0,u._giv_rot_rows)(c,o-rn-1,en+1,tn+1,un,ln),(0,u._giv_rot_rows)(v,1,e*t+rn,r,un,ln))}}}for(var dn=r;dn-- >0;)h[dn]=-v[dn];this._qr_solve(i,l,c,d,o,h);var hn=this.scaledNorm(h);if(0===hn)return[0,0];for(var pn=o;pn-- >0;){var vn=e*t+d[pn];y[e*t+pn]=h[vn]*p[vn]*p[vn]}for(var wn=e*t;wn-- >0;)y[wn]=h[wn]*p[wn]*p[wn];this._rt_solve(i,l,c,d,o,y);for(var mn=0,yn=r;yn-- >0;){var gn=y[yn];mn+=gn*gn}return mn/=-hn,[hn,mn]}},{key:"__DEBUG_RVD",get:function(){var n=this.M,r=this.N,e=this.MX,t=this.NX,a=this.NY,o=this.NP,i=this.newton_R11,s=this.newton_R21,l=this.newton_R22,c=this.newton_P,d=this.prepared_J21,h=this.prepared_J22;if(!(0<=this.rank))throw new Error("Assertion failed.");var p=Math.min(t,a),v=this.rank-e*t,w=new Float64Array(n*r),m=new Float64Array(r*r),y=new Float64Array(1*r);y.fill(1);for(var g=0;g<e*t;g++)m[r*g+g]=1;for(var _=0;_<o;_++)m[r*(e*t+_)+(e*t+c[_])]=1;for(var b=0;b<e*t;b++)w[r*b+b]=i[b];for(var E=0;E<e;E++)for(var A=0;A<t;A++)for(var x=1+A;x<t;x++)for(var M=0;M<p;M++)w[r*(t*E+A)+(t*E+x)]+=s[t*(p*E+M)+A]*d[t*(p*E+M)+x];for(var k=0;k<e;k++)for(var P=0;P<t;P++)for(var S=0;S<o;S++)for(var O=0;O<p;O++)w[r*(t*k+P)+(t*e+S)]+=s[t*(p*k+O)+P]*h[o*(p*k+O)+c[S]];for(var N=0;N<v;N++)for(var j=0;j<v;j++)w[r*(e*t+N)+(e*t+j)]=l[o*N+j];if(v!==o){for(var F=e*t+o;F-- >e*t;)y[F]=this.D[F]||1;for(var R=o;R-- >0;){var D=this.D[e*t+c[R]];if(0!==D)for(var T=e*t;T-- >0;)w[r*T+(e*t+R)]/=D}for(var I=v;I-- >0;)for(var L=o;L-- >v;){var C=l[o*I+L];if(0!==C)for(var q=Math.sqrt(1-C*C),U=e*t;U-- >0;){var Y=r*U+(e*t+I),z=r*U+(e*t+L),B=w[Y],G=w[z];w[Y]=G*C+q*B,w[z]=G*q-C*B}}for(var V=e*t;V-- >0;)for(var $=e*t+o;$-- >e*t+v;)w[r*V+$]=0;for(var X=v;X-- >0;)for(var W=o;W-- >v;){var J=l[o*X+W];if(0!==J){var H=Math.sqrt(1-J*J);(0,u._giv_rot_rows)(m,r,r*(e*t+X),r*(e*t+W),H,J)}}}return[new f.NDArray(Int32Array.of(n,r),w),new f.NDArray(Int32Array.of(r,r),m),new f.NDArray(Int32Array.of(1,r),y)]}}]),n}();r.TrustRegionSolverTLS=g},1471:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.min_dogleg_gen=w,r.fit_dogleg_gen=b,r.odr_dogleg_gen=r.tls_dogleg_gen=r.lsq_dogleg_gen=void 0;var a=t(e(9545)),o=t(e(42989)),i=t(e(25069)),s=e(30065),f=e(90053),u=e(93393),l=e(42402),c=e(78668),d=e(86173),h=e(66153),p=a["default"].mark(y),v=a["default"].mark(b);function w(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=e.updateTol,a=void 0===t?1e-14:t,o=e.historySize,i=void 0===o?8:o,s=e.scaleInit,f=void 0===s?.01:s;return y(new c.TrustRegionSolverLBFGS(n,r,{updateTol:a,historySize:i,scaleInit:f}),e)}var m=function(n,r,e){return y(new d.TrustRegionSolverLSQ(n,r),e)};function y(n){var r,e,t,s,c,d,h,v,w,m,y,g,_,b,E,A,x,M,k,P,S,O,N,j,F,R,D,T,I,L,C,q,U,Y,z,B,G,V,$,X,W,J,H,Q,K,Z,nn,rn,en,tn,an,on,sn,fn,un,ln,cn,dn=arguments;return a["default"].wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=dn.length>1&&void 0!==dn[1]?dn[1]:{},e=r.r0,t=void 0===e?1.1:e,s=r.rMin,c=void 0===s?0:s,d=r.rMax,h=void 0===d?1/0:d,v=r.rNewton,w=void 0===v?2:v,m=r.shrinkLower,y=void 0===m?.05:m,g=r.shrinkUpper,_=void 0===g?.95:g,b=r.grow,E=void 0===b?1.4142135623730951:b,A=r.expectGainMin,x=void 0===A?.25:A,M=r.expectGainMax,k=void 0===M?.75:M,P=r.stuckLimit,S=void 0===P?64:P,0<t){a.next=3;break}throw new Error("dogleg_gen(fJ, x0, opt): opt.r0 must be positive number.");case 3:if(0<=c){a.next=5;break}throw new Error("dogleg_gen(fJ, x0, opt): opt.rMin must be non-negative.");case 5:if(c<=h){a.next=7;break}throw new Error("dogleg_gen(fJ, x0, opt): opt.rMin must not be greater than opt.rMax.");case 7:if(c<=t){a.next=9;break}throw new Error("dogleg_gen(fJ, x0, opt): opt.r0 must not be less than opt.rMin.");case 9:if(h>=t){a.next=11;break}throw new Error("dogleg_gen(fJ, x0, opt): opt.r0 must not be greater than opt.rMax.");case 11:if(1<w){a.next=13;break}throw new Error("dogleg_gen(fJ, x0, opt): opt.rGN must be greater than 1.");case 13:if(0<y){a.next=15;break}throw new Error("dogleg_gen(fJ, x0, opt): opt.shrinkLower must be positive number.");case 15:if(y<=_){a.next=17;break}throw new Error("dogleg_gen(fJ, x0, opt): opt.shrinkLower must not be greater than opt.shrinkUpper.");case 17:if(_<1){a.next=19;break}throw new Error("dogleg_gen(fJ, x0, opt): opt.shrinkUpper must be less than 1.");case 19:if(1<E){a.next=21;break}throw new Error("dogleg_gen(fJ, x0, opt): opt.grow must be number greater than 1.");case 21:if(0<x){a.next=23;break}throw new Error("dogleg_gen(fJ, x0, opt): opt.expectGainMin must be positive number.");case 23:if(x<k){a.next=25;break}throw new Error("dogleg_gen(fJ, x0, opt): opt.expectGainMin must be less than expectGainMax.");case 25:if(k<1||console.warn("dogleg_gen(fJ, x0, opt): opt.expectGainMax should be less than 1."),0===S%1){a.next=28;break}throw new Error("dogleg_gen(fJ, x0, opt): opt.stuckLimit must be an integer.");case 28:if(0<=S){a.next=30;break}throw new Error("dogleg_gen(fJ, x0, opt): opt.stuckLimit must not be negative.");case 30:O=n.N,N=n.D,j=n.newton_dX,F=n.G0,R=new Float64Array(O),D=n.scaledNorm(F),T=n.cauchyTravel(),I=t*-D*T,L=n.loss,C=0;case 32:if(T<=0){a.next=34;break}throw new Error("Assertion failed.");case 34:if(0!==C){a.next=37;break}return a.next=37,n.report();case 37:for(q=Math.max(-I/D,T),U=O;U-- >0;)R[U]=q*F[U];if(Y=!1,!(-D*T<I)){a.next=52;break}for(n.computeNewton(),z=0,B=0,G=0,V=O;V-- >0;)$=N[V],X=$*R[V],W=$*(j[V]-R[V]),z+=X*X,B+=X*W,G+=W*W;if(z-=I*I,B*=2,J=(0,l.roots1d_polyquad)(z,B,G)[1],0<=J){a.next=50;break}throw new Error("Assertion failed.");case 50:for(J>1&&(J=1,Y=!0),H=O;H-- >0;)Q=j[H]-R[H],R[H]+=Q*J;case 52:if(Y){a.next=57;break}if(Math.abs(n.scaledNorm(R)-I)<=1e-5*I+1e-8){a.next=55;break}throw new Error("Assertion failed: "+JSON.stringify({cp:T,err:Math.abs(n.scaledNorm(R)-I),D:(0,i["default"])(N),G:(0,i["default"])(F),dX:(0,i["default"])(R)}));case 55:a.next=59;break;case 57:if(n.scaledNorm(R)<=1.00001*I){a.next=59;break}throw new Error("Assertion failed.");case 59:if(K=n.considerMove(R),Z=(0,o["default"])(K,2),nn=Z[0],rn=Z[1],en=function(){return 1},tn=L-nn,an=L-rn,!(an<tn*x)){a.next=74;break}for(on=0,sn=O;sn-- >0;)on+=R[sn]*F[sn];if(fn=on/(2*on+L-rn),fn>=y||(fn=y),fn<=_||(fn=_),un=Math.max(c*en(),I*fn),un!==I||L>rn){a.next=71;break}throw new u.OptimizationNoProgressError;case 71:I=un,a.next=75;break;case 74:Y?(ln=n.scaledNorm(R),cn=en(),I=Math.max(c*cn,Math.min(h*cn,w*ln))):(an>tn*k||0===an)&&(I=Math.min(h*en(),Math.max((0,f.nextUp)(I),I*E)));case 75:L>rn?(L=rn,n.makeConsideredMove(),C=0):++C>S&&n.wiggle(),D=n.scaledNorm(F),T=n.cauchyTravel();case 78:a.next=32;break;case 80:case"end":return a.stop()}}),p)}r.lsq_dogleg_gen=m;var g=function(n,r,e,t){return y(new h.TrustRegionSolverTLS(n,r,e),t)};r.tls_dogleg_gen=g;var _=(0,h.odr_gen)(y);function b(n,r,e,t,i){var f,u,l,c,d,h,p,w,y,g,_;return a["default"].wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e instanceof Function){a.next=2;break}throw new Error("fit_dogleg_gen(x,y, fg, p0): fg must be a function.");case 2:if(n=(0,s.array)(n),r=(0,s.array)("float64",r),t=(0,s.array)("float64",t),f=Float64Array,2===n.ndim){a.next=8;break}throw new Error("fit_dogleg_gen(x,y, fg, p0): x.ndim must be 2.");case 8:if(1===r.ndim){a.next=10;break}throw new Error("fit_dogleg_gen(x,y, fg, p0): y.ndim must be 1.");case 10:if(1===t.ndim){a.next=12;break}throw new Error("fit_dogleg_gen(x,y, fg, p0): p0.ndim must be 1.");case 12:if(u=(0,o["default"])(t.shape,1),l=u[0],c=(0,o["default"])(n.shape,2),d=c[0],h=c[1],p=Int32Array.of(h),d==r.shape[0]){a.next=15;break}throw new Error("fit_dogleg_gen(x,y, fg, p0): x.shape[0] must be equal to y.shape[0].");case 15:return n=n.data.slice(),r=r.data,Object.freeze(n.buffer),n=Array.from({length:d},(function(r,e){return Object.freeze(new s.NDArray(p,n.subarray(h*e,h*e+1)))})),Object.freeze(n),w=new f(d),y=new f(d*l),g=[new s.NDArray(Int32Array.of(d),w),new s.NDArray(Int32Array.of(d,l),y)],_=function(t){var a=e(t);if(!(a instanceof Function))throw new Error;for(var i=d;i-- >0;){var f=a(n[i]),u=(0,o["default"])(f,2),c=u[0],h=u[1];if(c=(0,s.asarray)(c),h=(0,s.asarray)(h),0!==c.ndim)throw new Error("fit_dogleg_gen(x,y, fg, p0): fg must have signature float[nParams] => float[nDim] => [float, float[nParams]].");if(1!==h.ndim)throw new Error("fit_dogleg_gen(x,y, fg, p0): fg must have signature float[nParams] => float[nDim] => [float, float[nParams]].");if(h.shape[0]!==l)throw new Error("fit_dogleg_gen(x,y, fg, p0): fg must have signature float[nParams] => float[nDim] => [float, float[nParams]].");if(c=c.data[0],h=h.data,isNaN(c))throw new Error("fit_dogleg_gen(x,y, fg, p0): NaN encountered.");if(h.some(isNaN))throw new Error("fit_dogleg_gen(x,y, fg, p0): NaN encountered.");w[i]=c-r[i];for(var p=l;p-- >0;)y[l*i+p]=h[p]}return g},a.delegateYield(m(_,t,i),"t0",23);case 23:case"end":return a.stop()}}),v)}r.odr_dogleg_gen=_},92786:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.fit_lin=f;var a=t(e(42989)),o=t(e(25069)),i=e(30065),s=e(47617);function f(n,r,e,t){if(null==t)t=e,e=0;else if(null==e)e=0;else if(!(0<=e&&e<1/0))throw new Error("fit_lin(x,y, regularization, funcs): Invalid regularization: ".concat(e,"."));if(t=(0,o["default"])(t),n=(0,i.asarray)("float64",n),r=(0,i.asarray)("float64",r),1!==r.ndim)throw new Error("fit_lin(x,y, (regularization,) funcs): y.ndim must be 1.");var f=r.shape[0],u=t.length;n.ndim;if(1!==n.ndim&&2!==n.ndim)throw new Error("fit_lin(x,y, (regularization,) funcs): x.ndim must be 1 or 2.");if(n.shape[0]!==r.shape[0])throw new Error("fit_lin(x,y, (regularization,) funcs): x.shape[0] and y.shape[0] must equal.");if(1===n.ndim)n=n.data;else{var l=n.shape.slice(1),c=(0,a["default"])(l,1),d=c[0];n=n.data.slice(),Object.freeze(n.buffer),n=Array.from({length:f},(function(r,e){return Object.freeze(new i.NDArray(l,n.subarray(d*e,d*(e+1))))}))}var h=Int32Array.of((0!==e)*u+f,u),p=new Float64Array(h[0]*h[1]);if(0!==e){e=Math.sqrt(e);for(var v=u;v-- >0;)p[f*u+u*v+v]=e}for(var w=f;w-- >0;)for(var m=u;m-- >0;)p[u*w+m]=t[m](n[w]);if(0!==e){r=r.data;for(var y=new Float64Array(f+u),g=f;g-- >0;)y[g]=r[g];r=new i.NDArray(Int32Array.of(f+u,1),y)}else r=new i.NDArray(Int32Array.of(f,1),r.data);p=new i.NDArray(h,p);var _=(0,s.lstsq)(p,r),b=_.data,E=function n(r){var e=n.coeffs,t=n.funcs;if(e.length!==t.length)throw new Error("Assertion failed.");for(var a=0,o=e.length;o-- >0;)a+=e[o]*t[o](r);return a};return E.coeffs=b,E.funcs=t,E}},26499:function(n,r,e){"use strict";e(21703),Object.defineProperty(r,"__esModule",{value:!0}),r.min1d_gss=a;var t=1.5-Math.sqrt(5/4);function a(n,r,e){if(r>e)throw new Error("opt1d_golden(F,x_min,x_max): x_max must not be less than x_min.");for(var a=r,o=e,i=a+(o-a)*t,s=n(i);;){var f=o-(o-a)*t;if(f===o)return(o+a)/2;var u=n(f);s<u?(o=a,a=f):(a=i,i=f,s=u)}}},18450:function(n,r,e){"use strict";var t=e(22768);Object.defineProperty(r,"__esModule",{value:!0});var a={line_search:!0,test_fn:!0};r.test_fn=r.line_search=void 0;var o=t(e(17555));r.line_search=o,Object.keys(o).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(a,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return o[n]}}))}));var i=t(e(36405));r.test_fn=i;var s=e(1471);Object.keys(s).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(a,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return s[n]}}))}));var f=e(92786);Object.keys(f).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(a,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return f[n]}}))}));var u=e(26499);Object.keys(u).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(a,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return u[n]}}))}));var l=e(177);Object.keys(l).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(a,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return l[n]}}))}));var c=e(41269);Object.keys(c).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(a,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return c[n]}}))}));var d=e(59588);Object.keys(d).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(a,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return d[n]}}))}));var h=e(49681);Object.keys(h).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(a,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return h[n]}}))}));var p=e(93393);Object.keys(p).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(a,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return p[n]}}))}));var v=e(45456);Object.keys(v).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(a,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return v[n]}}))}));var w=e(44685);Object.keys(w).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(a,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return w[n]}}))}));var m=e(86458);Object.keys(m).forEach((function(n){"default"!==n&&"__esModule"!==n&&(Object.prototype.hasOwnProperty.call(a,n)||Object.defineProperty(r,n,{enumerable:!0,get:function(){return m[n]}}))}))},177:function(n,r,e){"use strict";e(21703),e(85827),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.min_lbfgs_gen=h,r.lsq_lbfgs_gen=p,r.fit_lbfgs_gen=v;var a=t(e(9545)),o=t(e(42989)),i=e(30065),s=e(19137),f=e(25315),u=e(25143),l=a["default"].mark(h),c=a["default"].mark(p),d=a["default"].mark(v);function h(n,r){var e,t,c,d,h,p,v,w,m,y,g,_,b,E,A,x,M,k,P,S,O,N,j,F=arguments;return a["default"].wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e=F.length>2&&void 0!==F[2]?F[2]:{},t=e.historySize,c=void 0===t?8:t,d=e.lineSearch,h=void 0===d?(0,u.more_thuente_abc)():d,p=e.updateTol,v=void 0===p?1e-14:p,w=e.negDir0,m=void 0===w?function(n){return n}:w,y=e.scaling,g=void 0===y?function(){var n=1024;return{update:function(r,e){if(1!==r.ndim)throw new Error("Assertion failed.");if(1!==e.ndim)throw new Error("Assertion failed.");r=r.data,e=e.data;var t=r.length;if(t!==e.length)throw new Error("Assertion failed.");for(var a=e.reduce((function(n,r){return Math.max(n,Math.abs(r))}),0),o=0,i=0,s=e.length;s-- >0;){var f=e[s]/a,u=r[s]/a;o+=f*f,i+=u*f}if(n=o/i,!isFinite(n))throw new Error("Assertion failed.")},apply:function(r){if(1!==r.ndim)throw new Error("Assertion failed.");for(var e=r.data,t=e.length;t-- >0;)e[t]/=n;return r}}}():y,c%1===0){a.next=3;break}throw new Error("min_lbfgs_gen(fg, x0, opt): opt.historySize must be an integer.");case 3:if(c>0){a.next=5;break}throw new Error("min_lbfgs_gen(fg, x0, opt): opt.historySize must be positive.");case 5:if(_=(0,i.array)("float64",r),r=void 0,1===_.ndim){a.next=9;break}throw new Error("min_lbfgs_gen(fg, x0, opt): x0.ndim must be 1.");case 9:if(b=(0,o["default"])(_.shape,1),E=b[0],A=_.shape,x=n(_),M=(0,o["default"])(x,2),k=M[0],P=M[1],P=(0,i.array)("float64",P),k*=1,!isNaN(k)){a.next=15;break}throw new Error("min_lbfgs_gen(fg, x0, opt): fg must return [float,float[]].");case 15:if(1===P.ndim){a.next=17;break}throw new Error("min_lbfgs_gen(fg, x0, opt): fg must return [float,float[]].");case 17:if(P.shape[0]===E){a.next=19;break}throw new Error("min_lbfgs_gen(fg, x0, opt): fg must return [float,float[]].");case 19:h=h(n),S=new f.LBFGS_Solver(c,E),O=new Float64Array(E),N=new Float64Array(E),j=function(){var n,r,e,t=Float64Array.from(P.data);S.compute_Hv_phase1(t),t=m(new i.NDArray(A,t)),t=(0,i.array)("float64",t),t=g.apply(t),t=(0,i.array)("float64",t),S.compute_Hv_phase2(t.data);var a=!0;try{var f=h(new i.NDArray(A,_.data.slice()),k,new i.NDArray(A,P.data.slice()),t),u=(0,o["default"])(f,3);n=u[0],r=u[1],e=u[2]}catch(d){if(!(d instanceof s.LineSearchBisectionError))throw d;n=d.x,r=d.f,e=d.g,a=!1}if(n=(0,i.array)("float64",n),e=(0,i.array)("float64",e),r*=1,1!==n.ndim)throw new Error("Assertion failed.");if(1!==e.ndim)throw new Error("Assertion failed.");if(n.shape[0]!==E)throw new Error("Assertion failed.");if(e.shape[0]!==E)throw new Error("Assertion failed.");if(isNaN(r))throw new Error("Assertion failed.");for(var l=E;l-- >0;)N[l]=e.data[l]-P.data[l];for(var c=E;c-- >0;)O[c]=n.data[c]-_.data[c];if(O.every((function(n){return 0===n})))throw new s.LineSearchNoProgressError;a=a||function(){for(var n=N.reduce((function(n,r){return Math.max(n,Math.abs(r))}),0),r=0,e=0,t=N.length;t-- >0;){var a=N[t]/n,o=O[t]/n;r+=a*a,e+=o*a}return v*r<e}(),a&&(S.update(O,N),g.update(new i.NDArray(A,O.slice()),new i.NDArray(A,N.slice()))),_=n,k=r,P=e};case 23:if(_ instanceof i.NDArray){a.next=25;break}throw new Error("Assertion failed.");case 25:if(P instanceof i.NDArray){a.next=27;break}throw new Error("Assertion failed.");case 27:if(!isNaN(k)){a.next=29;break}throw new Error("Assertion#5 failed.");case 29:if(1===_.ndim){a.next=31;break}throw new Error("Assertion#4 failed.");case 31:if(1===P.ndim){a.next=33;break}throw new Error("Assertion#6 failed.");case 33:if(_.shape[0]===E){a.next=35;break}throw new Error("Assertion#7 failed.");case 35:if(P.shape[0]===E){a.next=37;break}throw new Error("Assertion#8 failed.");case 37:return a.next=39,[new i.NDArray(A,_.data.slice()),k,new i.NDArray(A,P.data.slice())];case 39:return a.prev=39,j(),a.abrupt("break",53);case 44:if(a.prev=44,a.t0=a["catch"](39),!(a.t0 instanceof s.LineSearchError&&S.m>0)){a.next=50;break}S.forget(S.m+1>>>1),a.next=51;break;case 50:throw a.t0;case 51:a.next=39;break;case 53:a.next=23;break;case 55:case"end":return a.stop()}}),l,null,[[39,44]])}function p(n,r){var e,t,l,d,h,p,v,w,m,y,g,_,b,E,A,x,M,k,P,S,O,N,j,F,R,D,T,I,L,C,q,U=arguments;return a["default"].wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e=U.length>2&&void 0!==U[2]?U[2]:{},t=e.historySize,l=void 0===t?8:t,d=e.lineSearch,h=void 0===d?(0,u.more_thuente_abc)():d,p=e.updateTol,v=void 0===p?1e-13:p,l%1===0){a.next=3;break}throw new Error("min_lbfgs_gen(fg, x0, opt): opt.historySize must be an integer.");case 3:if(l>0){a.next=5;break}throw new Error("min_lbfgs_gen(fg, x0, opt): opt.historySize must be positive.");case 5:if(w=(0,i.array)("float64",r),r=void 0,1===w.ndim){a.next=9;break}throw new Error("min_lbfgs_gen(fg, x0, opt): x0.ndim must be 1.");case 9:if(m=n(w),y=(0,o["default"])(m,2),g=y[0],_=y[1],g=(0,i.array)("float64",g),_=(0,i.array)("float64",_),1===g.ndim){a.next=14;break}throw new Error("lsq_lbfgs_gen(fg, x0: float[L], opt): fg must return [float[K],float[K,L]].");case 14:if(2===_.ndim){a.next=16;break}throw new Error("lsq_lbfgs_gen(fg, x0: float[L], opt): fg must return [float[K],float[K,L]].");case 16:if(b=(0,o["default"])(_.shape,2),E=b[0],A=b[1],x=w.shape,M=g.shape,k=_.shape,Int32Array.of(),g.shape[0]===E){a.next=19;break}throw new Error("lsq_lbfgs_gen(fg, x0: float[L], opt): fg must return [float[K],float[K,L]].");case 19:if(w.shape[0]===A){a.next=21;break}throw new Error("lsq_lbfgs_gen(fg, x0: float[L], opt): fg must return [float[K],float[K,L]].");case 21:n=function(){var r=n;return function(n){n=new i.NDArray(x,n.data);var e=r(n),t=(0,o["default"])(e,2),a=t[0],s=t[1];if(a=(0,i.array)("float64",a),s=(0,i.array)("float64",s),a.data.some(isNaN))throw new Error("Assertion failed.");if(s.data.some(isNaN))throw new Error("Assertion failed.");if(1!==a.ndim)throw new Error("lsq_lbfgs_gen(fg, x0: float[L], opt): fJ(x: float[L]) must return [float[K],float[K,L]].");if(2!==s.ndim)throw new Error("lsq_lbfgs_gen(fg, x0: float[L], opt): fJ(x: float[L]) must return [float[K],float[K,L]].");if(a.shape[0]!==E)throw new Error("lsq_lbfgs_gen(fg, x0: float[L], opt): fJ(x: float[L]) must return [float[K],float[K,L]].");if(s.shape[0]!==E)throw new Error("lsq_lbfgs_gen(fg, x0: float[L], opt): fJ(x: float[L]) must return [float[K],float[K,L]].");if(s.shape[1]!==A)throw new Error("lsq_lbfgs_gen(fg, x0: float[L], opt): fJ(x: float[L]) must return [float[K],float[K,L]].");return[a,s]}}(),P=function(n,r){for(var e=n.data,t=r.data,a=0,o=new Float64Array(A),s=E;s-- >0;)a+=e[s]*e[s]/E;for(var f=E;f-- >0;)for(var u=A;u-- >0;)o[u]+=2*e[f]*t[A*f+u]/E;return[a,new i.NDArray(x,o)]},h=h((function(r){if(S=(0,i.array)("float64",r),r=void 0,1!==S.ndim)throw new Error("Assertion failed.");if(S.shape[0]!==A)throw new Error("Assertion failed.");var e=n(S),t=(0,o["default"])(e,2);return O=t[0],N=t[1],P(O,N)})),j=function(n){for(var r=C.data,e=_.data,t=0,a=A;a-- >0;)t+=r[a]*n[a];if(0<t){for(var o=0,i=E;i-- >0;){for(var s=0,f=A;f-- >0;)s+=e[A*i+f]*n[f];o+=s*s*2/E}if(!(0<o))throw new Error("Assertion failed.");t/=o;for(var u=A;u-- >0;)n[u]*=t}},F=new Float64Array(A),R=new Float64Array(A),D=new f.LBFGS_Solver(l,A),T=P(g,_),I=(0,o["default"])(T,2),L=I[0],C=I[1],q=function(){var r=Float64Array.from(C.data);D.compute_Hv_phase1(r),j(r),D.compute_Hv_phase2(r);var e,t,a,f=!0;try{var u=h(new i.NDArray(x,w.data.slice()),L,new i.NDArray(x,C.data.slice()),new i.NDArray(x,r)),l=(0,o["default"])(u,3);e=l[0],t=l[1],a=l[2]}catch(E){if(!(E instanceof s.LineSearchBisectionError))throw E;e=E.x,t=E.f,a=E.g,f=!1}if(w=(0,i.array)("float64",w),L*=1,C=(0,i.array)("float64",C),1!==w.ndim)throw new Error("Assertion failed.");if(1!==C.ndim)throw new Error("Assertion failed.");if(w.shape[0]!==A)throw new Error("Assertion failed.");if(C.shape[0]!==A)throw new Error("Assertion failed.");if(isNaN(L))throw new Error("Assertion failed.");var c=O,d=N;if(S.data.some((function(n,r){return n!==e.data[r]}))){var p=n(e),m=(0,o["default"])(p,2);c=m[0],d=m[1]}for(var y=A;y-- >0;)F[y]=e.data[y]-w.data[y];for(var b=A;b-- >0;)R[b]=a.data[b]-C.data[b];if(F.every((function(n){return 0===n})))throw new s.LineSearchNoProgressError;f=f||function(){for(var n=R.reduce((function(n,r){return Math.max(n,Math.abs(r))}),0),r=0,e=0,t=R.length;t-- >0;){var a=R[t]/n,o=F[t]/n;r+=a*a,e+=o*a}return v*r<e}(),f&&D.update(F,R),w=e,L=t,C=a,g=c,_=d};case 28:return a.next=30,[new i.NDArray(x,w.data.slice()),L,new i.NDArray(x,C.data.slice()),new i.NDArray(M,g.data.slice()),new i.NDArray(k,_.data.slice())];case 30:return a.prev=30,q(),a.abrupt("break",44);case 35:if(a.prev=35,a.t0=a["catch"](30),!(a.t0 instanceof s.LineSearchError&&D.m>0)){a.next=41;break}D.forget(D.m+1>>>1),a.next=42;break;case 41:throw a.t0;case 42:a.next=30;break;case 44:a.next=28;break;case 46:case"end":return a.stop()}}),c,null,[[30,35]])}function v(n,r,e,t,s){var f,u,l,c,h,v,w,m,y,g,_;return a["default"].wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e instanceof Function){a.next=2;break}throw new Error("fit_lbfgs_gen(x,y, fg, p0): fg must be a function.");case 2:if(n=(0,i.array)(n),r=(0,i.array)("float64",r),t=(0,i.array)("float64",t),f=Float64Array,2===n.ndim){a.next=8;break}throw new Error("fit_lbfgs_gen(x,y, fg, p0): x.ndim must be 2.");case 8:if(1===r.ndim){a.next=10;break}throw new Error("fit_lbfgs_gen(x,y, fg, p0): y.ndim must be 1.");case 10:if(1===t.ndim){a.next=12;break}throw new Error("fit_lbfgs_gen(x,y, fg, p0): p0.ndim must be 1.");case 12:if(u=(0,o["default"])(t.shape,1),l=u[0],c=(0,o["default"])(n.shape,2),h=c[0],v=c[1],w=Int32Array.of(v),h==r.shape[0]){a.next=15;break}throw new Error("fit_lbfgs_gen(x,y, fg, p0): x.shape[0] must be equal to y.shape[0].");case 15:return n=n.data.slice(),r=r.data,Object.freeze(n.buffer),n=Array.from({length:h},(function(r,e){return Object.freeze(new i.NDArray(w,n.subarray(v*e,v*e+1)))})),Object.freeze(n),m=new f(h),y=new f(h*l),g=[new i.NDArray(Int32Array.of(h),m),new i.NDArray(Int32Array.of(h,l),y)],_=function(t){var a=e(t);if(!(a instanceof Function))throw new Error;for(var s=h;s-- >0;){var f=a(n[s]),u=(0,o["default"])(f,2),c=u[0],d=u[1];if(c=(0,i.asarray)(c),d=(0,i.asarray)(d),0!==c.ndim)throw new Error("fit_lbfgs_gen(x,y, fg, p0): fg must have signature float[nParams] => float[nDim] => [float, float[nParams]].");if(1!==d.ndim)throw new Error("fit_lbfgs_gen(x,y, fg, p0): fg must have signature float[nParams] => float[nDim] => [float, float[nParams]].");if(d.shape[0]!==l)throw new Error("fit_lbfgs_gen(x,y, fg, p0): fg must have signature float[nParams] => float[nDim] => [float, float[nParams]].");if(c=c.data[0],d=d.data,isNaN(c))throw new Error("fit_lbfgs_gen(x,y, fg, p0): NaN encountered.");if(d.some(isNaN))throw new Error("fit_lbfgs_gen(x,y, fg, p0): NaN encountered.");m[s]=c-r[s];for(var p=l;p-- >0;)y[l*s+p]=d[p]}return g},a.delegateYield(p(_,t,s),"t0",23);case 23:case"end":return a.stop()}}),d)}},41269:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.min_lbfgsb_gen=v;var a=t(e(9545)),o=t(e(42989)),i=e(30065),s=e(90053),f=e(19137),u=e(97442),l=e(27357),c=a["default"].mark(v);function d(n,r){var e;if("undefined"===typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=h(n))||r&&n&&"number"===typeof n.length){e&&(n=e);var t=0,a=function(){};return{s:a,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return i=n.done,n},e:function(n){s=!0,o=n},f:function(){try{i||null==e["return"]||e["return"]()}finally{if(s)throw o}}}}function h(n,r){if(n){if("string"===typeof n)return p(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?p(n,r):void 0}}function p(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function v(n,r,e){var t,h,p,v,w,m,y,g,_,b,E,A,x,M,k,P,S,O,N,j,F,R,D,T,I=arguments;return a["default"].wrap((function(c){while(1)switch(c.prev=c.next){case 0:if(t=I.length>3&&void 0!==I[3]?I[3]:{},h=t.historySize,p=void 0===h?8:h,v=t.lineSearch,w=void 0===v?(0,u.more_thuente_u123)({fRed:.001,gRed:.8}):v,m=t.updateTol,y=void 0===m?1e-14:m,g=t.scaleInit,_=void 0===g?.001:g,p%1===0){c.next=3;break}throw new Error("min_lbfgsb_gen(fg, x0, opt): opt.historySize must be an integer.");case 3:if(p>0){c.next=5;break}throw new Error("min_lbfgsb_gen(fg, x0, opt): opt.historySize must be positive.");case 5:if(n instanceof Function){c.next=7;break}throw new Error("min_lbfgsb_gen(fg,x0,bounds): fg must be a function.");case 7:if(r=(0,i.array)("float64",r),e=(0,i.asarray)(e),b=(0,o["default"])(r.shape,1),E=b[0],A=r.shape,1===r.ndim){c.next=12;break}throw new Error("min_lbfgsb_gen(fg,x0,bounds): x0.ndim must be 1.");case 12:if(2===e.ndim){c.next=14;break}throw new Error("min_lbfgsb_gen(fg,x0,bounds): bounds.ndim must be 2.");case 14:if(e.shape[0]===E){c.next=16;break}throw new Error("min_lbfgsb_gen(fg,x0,bounds): bounds.shape[0] must be x0.shape[0].");case 16:if(2===e.shape[1]){c.next=18;break}throw new Error("min_lbfgsb_gen(fg,x0,bounds): bounds.shape[1] must be 2.");case 18:if(y*=1,_*=1,0<=y){c.next=22;break}throw new Error("min_lbfgsb_gen(fg,x0,bounds,opt): opt.updateTol most be non-negative.");case 22:if(0<_){c.next=24;break}throw new Error("min_lbfgsb_gen(fg,x0,bounds,opt): opt.scaleInit most be greater than 0.");case 24:e=e.data,y*=1,x=e.length;case 27:if(!((x-=2)>=0)){c.next=32;break}if(e[x+0]<=e[x+1]){c.next=30;break}throw new Error("Assertion failed.");case 30:c.next=27;break;case 32:if(M=r,r=void 0,k=n(M),P=(0,o["default"])(k,2),S=P[0],O=P[1],S*=1,O=(0,i.array)("float64",O),isFinite(S)){c.next=39;break}throw new Error("min_lbfgsb_gen(fg, x0, bounds): fg must return [float,float[]].");case 39:if(O.dtype.startsWith("float")){c.next=41;break}throw new Error("min_lbfgsb_gen(fg, x0, bounds): fg must return [float,float[]].");case 41:w=w(n),N=new l.LBFGSB_Solver(p,E),N.scale=1/_,j=Int32Array.from({length:E},(function(n,r){return r})),F=new Float64Array(E),R=new Float64Array(E),D=function(){var r=O.data.slice(),t=M.data.slice(),a=new Float64Array(E),u=N.compute_cauchyGeneralized(r,t,e,j,!1),l=(0,o["default"])(u,2),c=l[0],h=l[1];if(N.compute_subspace_Hv(r,a,j,c),!j.subarray(0,c).every((function(n){return 0===a[n]})))throw new Error("Assertion failed.");var p,v,m,g=function(){var n,r=1/0,o=d(j.subarray(c));try{for(o.s();!(n=o.n()).done;){var i=n.value;if(0!==a[i]){var f=e[2*i+(a[i]<0)],u=(t[i]-f)/a[i];if(!(0<=u))throw new Error("Assertion failed: "+u);var l=0;while(Math.sign(a[i])*(t[i]-u*a[i]-f)<0){if(++l>2)throw new Error("Assertion failed.");u=(0,s.nextDown)(u)}if(a[i]<0&&t[i]-u*a[i]>f)throw new Error("Assertion failed.");if(a[i]>0&&t[i]-u*a[i]<f)throw new Error("Assertion failed.");r=Math.min(r,u)}}}catch(h){o.e(h)}finally{o.f()}return r}();try{var _=w(new i.NDArray(A,t.slice()),S+h,new i.NDArray(A,r),new i.NDArray(A,a),void 0,void 0,g),b=(0,o["default"])(_,3);p=b[0],v=b[1],m=b[2]}catch(Y){if(Y instanceof f.LineSearchBoundReachedError||Y instanceof f.LineSearchBisectionError)p=Y.x,v=Y.f,m=Y.g;else{if(!(Y instanceof f.LineSearchNoProgressError&&h<0))throw Y;p=new i.NDArray(A,t);var x=n(new i.NDArray(A,t.slice())),k=(0,o["default"])(x,2);v=k[0],m=k[1]}}v*=1,p=(0,i.array)("float64",p),m=(0,i.array)("float64",m);for(var P=E;P-- >0;)F[P]=p.data[P]-M.data[P];for(var D=E;D-- >0;)R[D]=m.data[D]-O.data[D];if(F.every((function(n){return 0===n})))throw new f.LineSearchNoProgressError;for(var T=R.reduce((function(n,r){return Math.max(n,Math.abs(r))}),0),I=0,L=0,C=R.length;C-- >0;){var q=F[C]/T,U=R[C]/T;I+=U*U,L+=q*U}y*I<L&&(N.update(F,R),N.scale=I/L),M=p,S=v,O=m},T=a["default"].mark((function n(){var r;return a["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(M instanceof i.NDArray){n.next=2;break}throw new Error("Assertion failed.");case 2:if(O instanceof i.NDArray){n.next=4;break}throw new Error("Assertion failed.");case 4:if(M.shape[0]===E){n.next=6;break}throw new Error("Assertion#7 failed.");case 6:if(O.shape[0]===E){n.next=8;break}throw new Error("Assertion#8 failed.");case 8:if(1===M.ndim){n.next=10;break}throw new Error("Assertion#4 failed.");case 10:if(1===O.ndim){n.next=12;break}throw new Error("Assertion#6 failed.");case 12:if(!isNaN(S)){n.next=14;break}throw new Error("Assertion#5 failed.");case 14:return r=O.data.slice(),M.data.forEach((function(n,t){var a=e.subarray(2*t,2+2*t),i=(0,o["default"])(a,2),s=i[0],f=i[1],u=r[t];(0<u&&n===s||0>u&&n===f)&&(r[t]=0)})),n.next=18,[new i.NDArray(A,M.data.slice()),S,new i.NDArray(A,r),new i.NDArray(A,O.data.slice())];case 18:return n.prev=18,D(),n.abrupt("break",32);case 23:if(n.prev=23,n.t0=n["catch"](18),!(n.t0 instanceof f.LineSearchError&&N.m>0)){n.next=29;break}N.forget(N.m+1>>>1),n.next=30;break;case 29:throw n.t0;case 30:n.next=18;break;case 32:case"end":return n.stop()}}),n,null,[[18,23]])}));case 47:return c.delegateYield(T(),"t0",48);case 48:c.next=47;break;case 50:case"end":return c.stop()}}),c)}},99055:function(n,r,e){"use strict";e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r._min1d_interp_gg=i,r._min1d_interp_ffg=s,r._min1d_interp_ffgg=f;var a=t(e(42989)),o=e(42402);function i(n,r,e,t){if(n*=1,!isFinite(n))throw new Error("Assertion failed.");if(r*=1,!isFinite(r))throw new Error("Assertion failed.");if(e*=1,!isFinite(e))throw new Error("Assertion failed.");if(t*=1,!isFinite(t))throw new Error("Assertion failed.");var a=r-n,o=t-e;if(!(Math.sign(a)*o>0))throw new Error("Assertion failed: Bad curvature (i.e. no minimum).");return n-a/o*e}function s(n,r,e,t,a){if(n*=1,!isFinite(n))throw new Error("Assertion failed.");if(r*=1,!isFinite(r))throw new Error("Assertion failed.");if(e*=1,!isFinite(e))throw new Error("Assertion failed.");if(t*=1,!isFinite(t))throw new Error("Assertion failed.");if(a*=1,!isFinite(a))throw new Error("Assertion failed.");if(n===r)throw new Error("Assertion failed.");var o=r-n,i=(t-e)/o,s=n+.5*o*a/(a-i);return s}function f(n,r,e,t,i,s){if(n*=1,!isFinite(n))throw new Error("Assertion failed.");if(r*=1,!isFinite(r))throw new Error("Assertion failed.");if(e*=1,!isFinite(e))throw new Error("Assertion failed.");if(t*=1,!isFinite(t))throw new Error("Assertion failed.");if(i*=1,!isFinite(i))throw new Error("Assertion failed.");if(s*=1,!isFinite(s))throw new Error("Assertion failed.");if(n===r)throw new Error("Assertion failed.");t-=e,r-=n;var f=2*(3*t/r-s-2*i),u=(s-i-f)/r,l=(0,o.roots1d_polyquad)(i*r,f,u),c=(0,a["default"])(l,2),d=c[0],h=c[1];return(Math.sign(r)*u<0?d:h)+n}},26729:function(n,r,e){"use strict";e(21703),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.albaali_fletcher=void 0;var a=t(e(42989)),o=e(30065),i=e(90053),s=e(19137),u=e(99055),l=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n,e=r.fRed,t=void 0===e?.1:e,l=r.gRed,c=void 0===l?.9:l,d=r.grow,h=void 0===d?Math.PI/3:d,p=r.shrinkLeast,v=void 0===p?.2:p;if(n={fRed:t,gRed:c,grow:h,shrinkLeast:v},t*=1,c*=1,h*=1,v*=1,!(t>0))throw new Error("albaali_fletcher(opt): opt.fRed must be positive.");if(!(t<c))throw new Error("albaali_fletcher(opt): opt.fRed must less than opt.gRed.");if(!(1>c))throw new Error("albaali_fletcher(opt): opt.gRed must less than 1.");if(!(1<h))throw new Error("albaali_fletcher(opt): opt.grow must larger than 1.");if(t<.5||console.warn("albaali_fletcher(opt): opt.fRed should be less than 0.5 to work properly with (quasi-)Newton methods."),!(v>=0))throw new Error("albaali_fletcher(opt): opt.shrinkLeast must be non-negative.");if(!(v<=.5))throw new Error("albaali_fletcher(opt): opt.shrinkLeast must not be greater than 0.5.");var w=1/v,m=w-1,y=function(n){return function(r,e,l,d){var p=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,v=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,y=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1/0;if(r=(0,o.array)("float64",r),l=(0,o.array)("float64",l),e*=1,!(d instanceof o.NDArray))throw new Error("Assertion failed.");var g=d.shape,_=(0,a["default"])(g,1),b=_[0];if(1!==r.ndim)throw new Error("albaali_fletcher()(fg)(X0,f0,G0): X0.ndim must be 1.");if(1!==l.ndim)throw new Error("albaali_fletcher()(fg)(X0,f0,G0): G0.ndim must be 1.");if(1!==d.ndim)throw new Error("albaali_fletcher()(fg)(X0,f0,G0): negDir.ndim must be 1.");if(r.shape[0]!==b)throw new Error("albaali_fletcher()(fg)(X0,f0,G0): negDir and X0 must have the same shape.");if(l.shape[0]!==b)throw new Error("albaali_fletcher()(fg)(X0,f0,G0): negDir and G0 must have the same shape.");if(isNaN(e))throw new Error("albaali_fletcher()(fg)(X0,f0,G0): f0 is NaN.");if(0!==p)throw new Error("albaali_fletcher()(fg)(X0,f0,G0, αMin,α0,αMax): αMin !== 0 not (yet) supported.");if(d=d.data,null==v&&(v=Math.min(1,y/2)),!(p<=v))throw new Error("albaali_fletcher()(fg)(X0,f0,G0, αMin,α0,αMax): αMin !== 0 not (yet) supported.");if(!(y>=v))throw new Error("albaali_fletcher()(fg)(X0,f0,G0, αMin,α0,αMax): αMax must not be less than αMin.");if(0===y)throw new s.LineSearchNoProgressError;var E=function(n){return n.data.reduce((function(n,r,e){return n-d[e]*r}),0)},A=function(e){var t=new o.NDArray(g,r.data.map((function(n,r){return n-e*d[r]}))),i=n(new o.NDArray(g,t.data.slice())),s=(0,a["default"])(i,2),f=s[0],u=s[1];if(f*=1,u=(0,o.array)("float64",u),isNaN(f))throw new Error("more_thuente_u123()(fg)(X0,f0,G0): fg returned NaN.");if(1!==u.ndim)throw new Error("more_thuente_u123()(fg)(X0,f0,G0): fg returned gradient with invalid shape.");if(u.shape[0]!==b)throw new Error("more_thuente_u123()(fg)(X0,f0,G0): fg returned gradient with invalid shape.");var l=E(u);return[t,f,u,l]},x=E(l);if(0===x)throw new s.LineSearchNoProgressError;if(0<x)throw new Error("albaali_fletcher: Initial projected gradient not negative.");var M=0,k=1/0,P=v,S=e,O=NaN,N=x,j=NaN;n:for(;;){if(!isFinite(P))throw new Error("Assertion failed.");var F=A(P),R=(0,a["default"])(F,4),D=R[0],T=R[1],I=R[2],L=R[3];if(T-e>t*P*x||0<M&&T>=S){k=P,O=T,j=L;break n}if(Math.abs(L)<=-c*x)return[D,T,I];if(L>=0){k=M,M=P,O=S,S=T,j=N,N=L;break n}if(!(P<y))throw new s.LineSearchBoundReachedError(D,T,I);if(!(P<k))throw new s.LineSearchError("albaali_fletcher: Strong Wolfe condition not satisfiable in range.");M=P,P=Math.min(Math.max((0,i.nextUp)(P),P*h),y),S=T,N=L}if(M===k)throw new s.LineSearchError("albaali_fletcher: bracketing failed.");for(var C=function(){if(0===M)throw new s.LineSearchNoProgressError("strongWolfeLineSearch(): no progress.");throw new s.LineSearchBisectionError(X,f,G)},q=1;;q++){var U=Math.min(M,k),Y=Math.max(M,k),z=Math.max((0,i.nextUp)(U),(Y+m*U)/w),B=Math.min((0,i.nextDown)(Y),(U+m*Y)/w);if(2!==w&&z<B&&isFinite(O)&&isFinite(j)?(P=(0,u._min1d_interp_ffg)(M,k,S,O,N),z<=P?B>=P||(P=B):P=z):P=M+(k-M)/2,!(U<=P))throw new Error("Assertion failed.");if(!(Y>=P))throw new Error("Assertion failed.");var V=A(P),$=(0,a["default"])(V,4),W=$[0],J=$[1],H=$[2],Q=$[3];if(J-e>t*P*x||J>=S)k===P&&C(),k=P,O=J,j=Q;else{if(Math.abs(Q)<=-c*x)return[W,J,H];Math.sign(k-M)*Q>=0&&(k=M,O=S,j=N),M===P&&C(),M=P,S=J,N=Q}}}};return Object.defineProperty(y,"name",{value:"albaali_fletcher(".concat(JSON.stringify(n),")"),writable:!1}),Object.assign(y,n),Object.freeze(y),y};r.albaali_fletcher=l},17555:function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=e(19137);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[n]}})}));var a=e(25143);Object.keys(a).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return a[n]}})}));var o=e(97442);Object.keys(o).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return o[n]}})}));var i=e(39813);Object.keys(i).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return i[n]}})}))},19137:function(n,r,e){"use strict";e(81299),e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.LineSearchBoundReachedError=r.LineSearchBisectionError=r.LineSearchNoProgressError=r.LineSearchError=void 0;var a=t(e(65053)),o=t(e(16125)),i=t(e(63490)),s=t(e(55156)),f=t(e(46907)),u=t(e(25629));function l(n){var r=c();return function(){var e,t=(0,f["default"])(n);if(r){var a=(0,f["default"])(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return(0,s["default"])(this,e)}}function c(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var d=function(n){(0,i["default"])(e,n);var r=l(e);function e(){return(0,o["default"])(this,e),r.apply(this,arguments)}return e}((0,u["default"])(Error));r.LineSearchError=d;var h=function(n){(0,i["default"])(e,n);var r=l(e);function e(){return(0,o["default"])(this,e),r.apply(this,arguments)}return e}(d);r.LineSearchNoProgressError=h;var p=function(n){(0,i["default"])(e,n);var r=l(e);function e(n,t,i){var s;return(0,o["default"])(this,e),s=r.call(this),Object.assign((0,a["default"])(s),{x:n,f:t,g:i}),s}return e}(d);r.LineSearchBisectionError=p;var v=function(n){(0,i["default"])(e,n);var r=l(e);function e(n,t,i){var s;return(0,o["default"])(this,e),s=r.call(this),Object.assign((0,a["default"])(s),{x:n,f:t,g:i}),s}return e}(d);r.LineSearchBoundReachedError=v},25143:function(n,r,e){"use strict";e(21703),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.more_thuente_abc=void 0;var a=t(e(42989)),o=e(30065),i=e(90053),s=e(19137),f=e(99055),u=Object.freeze({fRed:.01,gRed:.9,growMin:Math.PI/3,growMax:Math.E-1.5,shrinkLeast:.1}),l=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=0,e=Object.keys(n);r<e.length;r++){var t=e[r];t in u||console.warn('more_thuente_abc(opt): unknown parameter "'.concat(t,'" in opt.'))}var l=n=Object.assign({},u,n),c=l.fRed,d=l.gRed,h=l.growMin,p=l.growMax,v=l.shrinkLeast;if(c*=1,d*=1,h*=1,p*=1,v*=1,!(c>0))throw new Error("more_thuente_abc(opt): opt.fRed must be positive.");if(!(c<d))throw new Error("more_thuente_abc(opt): opt.fRed must less than opt.gRed.");if(!(1>d))throw new Error("more_thuente_abc(opt): opt.gRed must less than 1.");if(!(1<h))throw new Error("more_thuente_abc(opt): opt.growMin must larger than 1.");if(!(p>=h))throw new Error("more_thuente_abc(opt): opt.growMax must not be less than opt.growMin.");if(c<.5||console.warn("more_thuente_abc(opt): opt.fRed should be less than 0.5 to work properly with (quasi-)Newton methods."),!(v>=0))throw new Error("more_thuente_abc(opt): opt.shrinkLeast must be non-negative.");if(!(v<=.5))throw new Error("more_thuente_abc(opt): opt.shrinkLeast must not be greater than 0.5.");var w=function(n){return function(r,e,t,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1/0;if(r=(0,o.array)("float64",r),t=(0,o.array)("float64",t),e*=1,!(u instanceof o.NDArray))throw new Error("Assertion failed.");var y=u.shape,g=(0,a["default"])(y,1),_=g[0];if(1!==r.ndim)throw new Error("more_thuente_abc()(fg)(X0,f0,G0): X0.ndim must be 1.");if(1!==t.ndim)throw new Error("more_thuente_abc()(fg)(X0,f0,G0): G0.ndim must be 1.");if(1!==u.ndim)throw new Error("more_thuente_abc()(fg)(X0,f0,G0): negDir.ndim must be 1.");if(r.shape[0]!==_)throw new Error("more_thuente_abc()(fg)(X0,f0,G0): negDir and X0 must have the same shape.");if(t.shape[0]!==_)throw new Error("more_thuente_abc()(fg)(X0,f0,G0): negDir and G0 must have the same shape.");if(isNaN(e))throw new Error("more_thuente_abc()(fg)(X0,f0,G0): f0 is NaN.");if(0!==l)throw new Error("more_thuente_abc()(fg)(X0,f0,G0, αMin,α0,αMax): αMin !== 0 not (yet) supported.");if(u=u.data,null==w&&(w=Math.min(1,m/2)),!(l<=w))throw new Error("more_thuente_abc()(fg)(X0,f0,G0, αMin,α0,αMax): αMin must not be greater than α0.");if(!(m>=w))throw new Error("more_thuente_abc()(fg)(X0,f0,G0, αMin,α0,αMax): αMax must not be less than α0.");if(0===m)throw new s.LineSearchNoProgressError;var b=function(n){return n.data.reduce((function(n,r,e){return n-u[e]*r}),0)},E=function(e){var t=new o.NDArray(y,r.data.map((function(n,r){return n-e*u[r]}))),i=n(new o.NDArray(y,t.data.slice())),s=(0,a["default"])(i,2),f=s[0],l=s[1];if(f*=1,l=(0,o.array)("float64",l),isNaN(f))throw new Error("more_thuente_abc()(fg)(X0,f0,G0): fg returned NaN.");if(1!==l.ndim)throw new Error("more_thuente_abc()(fg)(X0,f0,G0): fg returned gradient with invalid shape.");if(l.shape[0]!==_)throw new Error("more_thuente_abc()(fg)(X0,f0,G0): fg returned gradient with invalid shape.");var c=b(l);return[t,f,l,c]},A=b(t);if(0===A)throw new s.LineSearchNoProgressError;if(0<A)throw new Error("more_thuente_abc: Initial projected gradient not negative.");var x=0,M=1/0,k=w,P=e,S=NaN,O=A,N=NaN;n:for(;;){if(!isFinite(k))throw new Error("Assertion failed: "+k);var j=E(k),F=(0,a["default"])(j,4),R=F[0],D=F[1],T=F[2],I=F[3];if(D-e<=c*k*A&&Math.abs(I)<=-d*A)return[R,D,T];if(D>P){M=k,S=D,N=I;break n}if(I>0){M=x,x=k,S=P,P=D,N=O,O=I;break n}if(!(k<m))throw new s.LineSearchBoundReachedError(R,D,T);if(!(k<Number.MAX_VALUE))throw new Error("more_thuente_abc: Infinity reached.");var L=void 0;L=O<I?(0,f._min1d_interp_gg)(x,k,O,I):k*h,L=Math.min(L,k*p),L=Math.max(L,k*h),k<L||(L=(0,i.nextUp)(k)),m>=L||(L=m),x=k,k=L,P=D,O=I}if(x===M)throw new s.LineSearchError("more_thuente_abc: bracketing failed.");for(var C=function(n,r,e){if(0===x)throw new s.LineSearchNoProgressError("strongWolfeLineSearch(): no progress.");throw new s.LineSearchBisectionError(n,r,e)},q=1;;q++){var U=Math.min(x,M),Y=Math.max(x,M),z=Math.max((0,i.nextUp)(U),v*Y+(1-v)*U),B=Math.min((0,i.nextDown)(Y),v*U+(1-v)*Y),G=x+(M-x)/2;if(.5!==v&&z<B&&isFinite(S)&&isFinite(N)){if(P<S){var V=(0,f._min1d_interp_ffgg)(x,M,P,S,O,N),$=(0,f._min1d_interp_ffg)(x,M,P,S,O);k=Math.abs(V-x)<Math.abs($-x)?V:(V+$)/2}else if(Math.sign(O)*N<0){var X=(0,f._min1d_interp_ffgg)(x,M,P,S,O,N),W=(0,f._min1d_interp_gg)(x,M,O,N);k=Math.abs(W-M)<=Math.abs(X-M)?X:W}else k=(0,f._min1d_interp_ffg)(x,M,P,S,O);z<=k?B>=k||(k=B):k=z}else k=G;var J=E(k),H=(0,a["default"])(J,4),Q=H[0],K=H[1],Z=H[2],nn=H[3];if(K-e<=c*k*A&&Math.abs(nn)<=-d*A)return[Q,K,Z];K>P?(M===k&&C(Q,K,Z),M=k,S=K,N=nn):(Math.sign(M-x)*nn>0&&(M=x,S=P,N=O),x===k&&C(Q,K,Z),x=k,P=K,O=nn)}}};return Object.defineProperty(w,"name",{value:"more_thuente_abc(".concat(JSON.stringify(n),")"),writable:!1}),Object.assign(w,n),Object.freeze(w),w};r.more_thuente_abc=l},97442:function(n,r,e){"use strict";e(21703),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.more_thuente_u123=void 0;var a=t(e(42989)),o=e(30065),i=e(90053),s=e(19137),f=e(99055),u=Object.freeze({fRed:.01,gRed:.9,growMin:Math.PI/3,growMax:Math.E-1.5,shrinkLeast:.1}),l=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=0,e=Object.keys(n);r<e.length;r++){var t=e[r];t in u||console.warn('more_thuente_u123(opt): unknown parameter "'.concat(t,'" in opt.'))}var l=n=Object.assign({},u,n),c=l.fRed,d=l.gRed,h=l.growMin,p=l.growMax,v=l.shrinkLeast;if(c*=1,d*=1,h*=1,p*=1,v*=1,!(c>0))throw new Error("more_thuente_u123(opt): opt.fRed must be positive.");if(!(c<d))throw new Error("more_thuente_u123(opt): opt.fRed must less than opt.gRed.");if(!(1>d))throw new Error("more_thuente_u123(opt): opt.gRed must less than 1.");if(!(1<h))throw new Error("more_thuente_u123(opt): opt.growMin must larger than 1.");if(!(p>=h))throw new Error("more_thuente_u123(opt): opt.growMax must not be less than opt.growMin.");if(c<.5||console.warn("more_thuente_u123(opt): opt.fRed should be less than 0.5 to work properly with (quasi-)Newton methods."),!(v>=0))throw new Error("more_thuente_u123(opt): opt.shrinkLeast must be non-negative.");if(!(v<=.5))throw new Error("more_thuente_u123(opt): opt.shrinkLeast must not be greater than 0.5.");var w=function(n){return function(r,e,t,u){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,w=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,m=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1/0;if(r=(0,o.array)("float64",r),t=(0,o.array)("float64",t),e*=1,!(u instanceof o.NDArray))throw new Error("Assertion failed.");var y=u.shape,g=(0,a["default"])(y,1),_=g[0];if(1!==r.ndim)throw new Error("more_thuente_u123()(fg)(X0,f0,G0): X0.ndim must be 1.");if(1!==t.ndim)throw new Error("more_thuente_u123()(fg)(X0,f0,G0): G0.ndim must be 1.");if(1!==u.ndim)throw new Error("more_thuente_u123()(fg)(X0,f0,G0): negDir.ndim must be 1.");if(r.shape[0]!==_)throw new Error("more_thuente_u123()(fg)(X0,f0,G0): negDir and X0 must have the same shape.");if(t.shape[0]!==_)throw new Error("more_thuente_u123()(fg)(X0,f0,G0): negDir and G0 must have the same shape.");if(0!==l)throw new Error("more_thuente_u123()(fg)(X0,f0,G0, αMin,α0,αMax): αMin !== 0 not (yet) supported.");if(isNaN(e))throw new Error("more_thuente_u123()(fg)(X0,f0,G0): f0 is NaN.");if(r.data.some(isNaN))throw new Error("more_thuente_u123()(fg)(X0,f0,G0): X0 contains NaN.");if(t.data.some(isNaN))throw new Error("more_thuente_u123()(fg)(X0,f0,G0): G0 contains NaN.");if(u=u.data,u.some(isNaN))throw new Error("Assertion failed.");if(null==w&&(w=Math.min(1,m/2)),!(l<=w))throw new Error("more_thuente_u123()(fg)(X0,f0,G0, αMin,α0,αMax): αMin must not be greater than α0.");if(!(m>=w))throw new Error("more_thuente_u123()(fg)(X0,f0,G0, αMin,α0,αMax): αMax must not be less than α0.");if(0===m)throw new s.LineSearchNoProgressError;var b=function(n){return n.data.reduce((function(n,r,e){return n-u[e]*r}),0)},E=function(e){var t=new o.NDArray(y,r.data.map((function(n,r){return n-e*u[r]}))),i=n(new o.NDArray(y,t.data.slice())),s=(0,a["default"])(i,2),f=s[0],l=s[1];if(f*=1,l=(0,o.array)("float64",l),isNaN(f))throw new Error("more_thuente_u123()(fg)(X0,f0,G0): fg returned NaN.");if(1!==l.ndim)throw new Error("more_thuente_u123()(fg)(X0,f0,G0): fg returned gradient with invalid shape.");if(l.shape[0]!==_)throw new Error("more_thuente_u123()(fg)(X0,f0,G0): fg returned gradient with invalid shape.");var c=b(l);return[t,f,l,c]},A=b(t);if(0===A)throw new s.LineSearchNoProgressError;if(0<A)throw new Error("more_thuente_u123: Initial projected gradient not negative.");var x=0,M=1/0,k=w,P=e,S=NaN,O=A,N=NaN;n:for(;;){if(!isFinite(k))throw new Error("Assertion failed.");var j=E(k),F=(0,a["default"])(j,4),R=F[0],D=F[1],T=F[2],I=F[3];if(D-e<=c*k*A&&Math.abs(I)<=-d*A)return[R,D,T];if(D-P>c*(k-x)*A){M=k,S=D,N=I;break n}if(I>0){M=x,x=k,S=P,P=D,N=O,O=I;break n}if(!(k<m))throw new s.LineSearchBoundReachedError(R,D,T);if(!(k<Number.MAX_VALUE))throw new Error("more_thuente_u123: Infinity reached.");var L=void 0;L=O<I?(0,f._min1d_interp_gg)(x,k,O,I):k*h,L=Math.min(L,k*p),L=Math.max(L,k*h),k<L||(L=(0,i.nextUp)(k)),m>=L||(L=m),x=k,k=L,P=D,O=I}if(x===M)throw new s.LineSearchError("more_thuente_u123: bracketing failed.");for(var C=function(n,r,e){if(0===x)throw new s.LineSearchNoProgressError("strongWolfeLineSearch(): no progress.");throw new s.LineSearchBisectionError(n,r,e)},q=1;;q++){var U=Math.min(x,M),Y=Math.max(x,M),z=Math.max((0,i.nextUp)(U),v*Y+(1-v)*U),B=Math.min((0,i.nextDown)(Y),v*U+(1-v)*Y),G=x+(M-x)/2;if(.5!==v&&z<B&&isFinite(S)&&isFinite(N)){if(P<S){var V=(0,f._min1d_interp_ffgg)(x,M,P,S,O,N),$=(0,f._min1d_interp_ffg)(x,M,P,S,O);k=Math.abs(V-x)<Math.abs($-x)?V:(V+$)/2}else if(Math.sign(O)*N<0){var X=(0,f._min1d_interp_ffgg)(x,M,P,S,O,N),W=(0,f._min1d_interp_gg)(x,M,O,N);k=Math.abs(W-M)<=Math.abs(X-M)?X:W}else k=(0,f._min1d_interp_ffg)(x,M,P,S,O);z<=k?B>=k||(k=B):k=z}else k=G;if(!(U<=k))throw new Error("Assertion failed.");if(!(Y>=k))throw new Error("Assertion failed.");var J=E(k),H=(0,a["default"])(J,4),Q=H[0],K=H[1],Z=H[2],nn=H[3];if(K-e<=c*k*A&&Math.abs(nn)<=-d*A)return[Q,K,Z];K-P>c*(k-x)*A?(M===k&&C(Q,K,Z),M=k,S=K,N=nn):(Math.sign(M-x)*nn>0&&(M=x,S=P,N=O),x===k&&C(Q,K,Z),x=k,P=K,O=nn)}}};return Object.defineProperty(w,"name",{value:"more_thuente_u123(".concat(JSON.stringify(n),")"),writable:!1}),Object.assign(w,n),Object.freeze(w),w};r.more_thuente_u123=l},39813:function(n,r,e){"use strict";var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.strong_wolfe=void 0;var a=t(e(42989)),o=t(e(10021)),i=e(26729);function s(n,r){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),e.push.apply(e,t)}return e}function f(n){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?s(Object(e),!0).forEach((function(r){(0,o["default"])(n,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):s(Object(e)).forEach((function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))}))}return n}var u=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n=f({},n);for(var r=0,e=["c1","fRed","c2","gRed","c3","grow"];r<e.length;r++){var t=(0,a["default"])(e[r],2),o=t[0],s=t[1];!(s in n)&&o in n&&(console.warn("strong_wolfe(opt): opt.".concat(o," is deprecated, use opt.").concat(s," instead.")),n[s]=n[o],delete n[o])}return(0,i.albaali_fletcher)(n)};r.strong_wolfe=u},59588:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.fit_lm_gen=y,r.odr_lm_gen=r.tls_lm_gen=r.lsq_lm_gen=void 0;var a=t(e(9545)),o=t(e(42989)),i=e(30065),s=e(90053),f=e(30716),u=e(93393),l=e(86173),c=e(66153),d=a["default"].mark(v),h=a["default"].mark(y),p=function(n,r,e){return v(new l.TrustRegionSolverLSQ(n,r),e)};function v(n){var r,e,t,i,l,c,h,p,v,w,m,y,g,_,b,E,A,x,M,k,P,S,O,N,j,F,R,D,T,I,L,C,q,U,Y,z,B,G,V,$,X,W,J,H,Q,K,Z,nn,rn,en,tn,an,on,sn,fn,un,ln,cn,dn,hn=arguments;return a["default"].wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(r=hn.length>1&&void 0!==hn[1]?hn[1]:{},e=r.r0,t=void 0===e?1.1:e,i=r.rMin,l=void 0===i?0:i,c=r.rMax,h=void 0===c?1/0:c,p=r.rNewton,v=void 0===p?2:p,w=r.rTol,m=void 0===w?.05:w,y=r.lmLower,g=void 0===y?.001:y,_=r.shrinkLower,b=void 0===_?.05:_,E=r.shrinkUpper,A=void 0===E?.95:E,x=r.grow,M=void 0===x?1.4142135623730951:x,k=r.expectGainMin,P=void 0===k?.25:k,S=r.expectGainMax,O=void 0===S?.75:S,N=r.stuckLimit,j=void 0===N?64:N,0<=g){a.next=3;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.lmLower must be within [0,1).");case 3:if(g<1){a.next=5;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.lmLower must be within [0,1).");case 5:if(1>m){a.next=7;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.rTol must be less than 1.");case 7:if(0<m){a.next=9;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.rTol must be positive number.");case 9:if(0<t){a.next=11;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.r0 must be positive number.");case 11:if(0<=l){a.next=13;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.rMin must be non-negative.");case 13:if(l<=h){a.next=15;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.rMin must not be greater than opt.rMax.");case 15:if(l<=t){a.next=17;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.r0 must not be less than opt.rMin.");case 17:if(h>=t){a.next=19;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.r0 must not be greater than opt.rMax.");case 19:if(1/(1+m)<v){a.next=21;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.rGN must be greater than 1/(1+rTol).");case 21:if(0<b){a.next=23;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.shrinkLower must be positive number.");case 23:if(b<=A){a.next=25;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.shrinkLower must not be greater than opt.shrinkUpper.");case 25:if(A<1){a.next=27;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.shrinkUpper must be less than 1.");case 27:if(1<M){a.next=29;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.grow must be number greater than 1.");case 29:if(0<P){a.next=31;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.expectGainMin must be positive number.");case 31:if(P<O){a.next=33;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.expectGainMin must be less than expectGainMax.");case 33:if(O<1||console.warn("lsq_lm_gen(fJ, x0, opt): opt.expectGainMax should be less than 1."),0===j%1){a.next=36;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.stuckLimit must be an integer.");case 36:if(0<=j){a.next=38;break}throw new Error("lsq_lm_gen(fJ, x0, opt): opt.stuckLimit must not be negative.");case 38:F=n.N,R=n.D,D=n.regularized_dX,T=n.G0,I=new f.FrobeniusNorm,L=-t*n.cauchyTravel()*n.scaledNorm(T),C=n.loss,q=0;case 40:if(0!==q){a.next=43;break}return a.next=43,n.report();case 43:if(U=n.computeNewtonRegularized(0),Y=(0,o["default"])(U,2),z=Y[0],B=Y[1],isFinite(z)){a.next=46;break}throw new Error("Assertion failed.");case 46:if(G=z<=L*(1+m),G){a.next=85;break}for(I.reset(),V=F;V-- >0;)$=R[V],X=T[V],0!==$&&(X/=$),I.include(X);if(z-=L,isFinite(z)){a.next=53;break}throw new Error("Assertion failed.");case 53:if(0<z){a.next=55;break}throw new Error("Assertion failed.");case 55:if(0>B){a.next=57;break}throw new Error("Assertion failed.");case 57:W=-z/B,J=I.result/L,H=0,Q=-1;case 59:if(!(64<++Q)){a.next=61;break}throw new Error("Assertion failed.");case 61:if(W>=0){a.next=63;break}throw new Error("Assertion failed.");case 63:if(0<=J){a.next=65;break}throw new Error("Assertion failed.");case 65:if(W<J){a.next=67;break}throw new Error("Assertion failed.");case 67:if(W<H&&H<J||(H=Math.max(g*J,Math.sqrt(W*J))),W<H&&H<J){a.next=70;break}throw new Error("Assertion failed.");case 70:if(K=n.computeNewtonRegularized(H),Z=(0,o["default"])(K,2),z=Z[0],B=Z[1],isFinite(z)){a.next=76;break}throw new Error("Assertion failed.");case 76:if(!(Math.abs(L-z)<=L*m)){a.next=78;break}return a.abrupt("break",83);case 78:z<L&&(J=H),W=Math.max(W,H+(L-z)/B),H+=(L-z)/B*(z/L);case 81:a.next=59;break;case 83:if(Math.abs(n.scaledNorm(D)-L)<=L*m){a.next=85;break}throw new Error("Assertion failed.");case 85:if(n.scaledNorm(D)<=L*(1+m)){a.next=87;break}throw new Error("Assertion failed.");case 87:if(nn=n.considerMove(D),rn=(0,o["default"])(nn,2),en=rn[0],tn=rn[1],an=function(){return 1},on=C-en,sn=C-tn,!(sn<on*P)){a.next=103;break}for(fn=0,un=F;un-- >0;)fn+=D[un]*T[un];if(fn*=2,ln=fn/(2*fn+C-tn),ln>=b||(ln=b),ln<=A||(ln=A),cn=Math.max(l*an(),L*ln),cn!==L||C>tn){a.next=100;break}throw new u.OptimizationNoProgressError;case 100:L=cn,a.next=104;break;case 103:G?(dn=an(),L=Math.max(dn*l,Math.min(dn*h,v*z))):(sn>on*O||0===sn)&&(L=Math.min(h*an(),Math.max((0,s.nextUp)(L),L*M)));case 104:if(!(C>tn)){a.next=110;break}C=tn,n.makeConsideredMove(),q=0,a.next=112;break;case 110:if(!(++q>j)){a.next=112;break}throw new u.OptimizationNoProgressError("Too many unsuccessfull iterations.");case 112:a.next=40;break;case 114:case"end":return a.stop()}}),d)}r.lsq_lm_gen=p;var w=function(n,r,e,t){return v(new c.TrustRegionSolverTLS(n,r,e),t)};r.tls_lm_gen=w;var m=(0,c.odr_gen)(v);function y(n,r,e,t,s){var f,u,l,c,d,v,w,m,y,g,_;return a["default"].wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(e instanceof Function){a.next=2;break}throw new Error("fit_lm_gen(x,y, fg, p0): fg must be a function.");case 2:if(n=(0,i.asarray)(n),r=(0,i.asarray)("float64",r),t=(0,i.asarray)("float64",t),f=Float64Array,2===n.ndim){a.next=8;break}throw new Error("fit_lm_gen(x,y, fg, p0): x.ndim must be 2.");case 8:if(1===r.ndim){a.next=10;break}throw new Error("fit_lm_gen(x,y, fg, p0): y.ndim must be 1.");case 10:if(1===t.ndim){a.next=12;break}throw new Error("fit_lm_gen(x,y, fg, p0): p0.ndim must be 1.");case 12:if(u=(0,o["default"])(t.shape,1),l=u[0],c=(0,o["default"])(n.shape,2),d=c[0],v=c[1],w=Int32Array.of(v),d==r.shape[0]){a.next=15;break}throw new Error("fit_lm_gen(x,y, fg, p0): x.shape[0] must be equal to y.shape[0].");case 15:return n=n.data.slice(),r=r.data,Object.freeze(n.buffer),n=Array.from({length:d},(function(r,e){return Object.freeze(new i.NDArray(w,n.subarray(v*e,v*e+1)))})),Object.freeze(n),m=new f(d),y=new f(d*l),g=[new i.NDArray(Int32Array.of(d),m),new i.NDArray(Int32Array.of(d,l),y)],_=function(t){var a=e(t);if(!(a instanceof Function))throw new Error;for(var s=d;s-- >0;){var f=a(n[s]),u=(0,o["default"])(f,2),c=u[0],h=u[1];if(c=(0,i.asarray)(c),h=(0,i.asarray)(h),0!==c.ndim)throw new Error("fit_lm_gen(x,y, fg, p0): fg must have signature float[nParams] => float[nDim] => [float, float[nParams]].");if(1!==h.ndim)throw new Error("fit_lm_gen(x,y, fg, p0): fg must have signature float[nParams] => float[nDim] => [float, float[nParams]].");if(h.shape[0]!==l)throw new Error("fit_lm_gen(x,y, fg, p0): fg must have signature float[nParams] => float[nDim] => [float, float[nParams]].");if(c=c.data[0],h=h.data,isNaN(c))throw new Error("fit_lm_gen(x,y, fg, p0): NaN encountered.");if(h.some(isNaN))throw new Error("fit_lm_gen(x,y, fg, p0): NaN encountered.");m[s]=c-r[s];for(var p=l;p-- >0;)y[l*s+p]=h[p]}return g},a.delegateYield(p(_,t,s),"t0",23);case 23:case"end":return a.stop()}}),h)}r.odr_lm_gen=m},49681:function(n,r,e){"use strict";e(48675),e(3462),e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.num_grad_forward=r.num_grad=void 0;var a=t(e(42989)),o=t(e(25069)),i=e(30065),s=e(11882),f=Float64Array.of(2,1,-1,-2),u=Float64Array.of(-1,8,-8,1),l=12,c=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=r.h_rel,t=void 0===e?void 0:e,a=r.h_abs,c=void 0===a?void 0:a;return function(r){r=(0,i.array)("float",r);var e="float32"===r.dtype?"float32":"float64",a=s.ARRAY_TYPES[e],d=r.shape;r=r.data;var h=null,p=null,v=null!=t?t:Math.pow((0,s.eps)(e),1/3),w=null!=c?c:Math.pow((0,s.eps)(e),1/3),m=Math.max(Math.abs(r[0])*v,w),y=function(){var e=new i.NDArray(d,a.from(r));return e.data[0]+=m*f[0],n(e)}();if("number"===typeof y){p=d,h=new Float64Array(r.length),h[0]=y*u[0];n:for(var g=0,_=1;;_=0){for(;_<f.length;_++){var b=new i.NDArray(d,a.from(r));b.data[g]+=m*f[_],y=n(b),h[g]+=y*u[_]}if(h[g]/=m*l,!(++g<r.length))break n;m=Math.max(Math.abs(r[g])*v,w)}}else{y=(0,i.array)("float",y);var E=y.shape;y=y.data;var A=y.length,x=r.length;p=Int32Array.of.apply(Int32Array,(0,o["default"])(E).concat((0,o["default"])(d))),h=new Float64Array(y.length*r.length);for(var M=0;M<A;M++)h[x*M]=y[M]*u[0];n:for(var k=0,P=1;;P=0){for(;P<f.length;P++){var S=new i.NDArray(d,a.from(r));if(S.data[k]+=m*f[P],y=(0,i.array)("float",n(S)),y.ndim!==E.length)throw new Error("num_grad(f)(x): return shape of f must be consistent.");for(var O=E.length;O-- >0;)if(y.shape[O]!==E[O])throw new Error("num_grad(f)(x): return shape of f must be consistent.");y=y.data;for(var N=0;N<A;N++)h[x*N+k]+=y[N]*u[P]}for(var j=0;j<A;j++)h[x*j+k]/=m*l;if(!(++k<x))break n;m=Math.max(Math.abs(r[k])*v,w)}}return new i.NDArray(p,h)}};r.num_grad=c;var d=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=r.h_rel,t=void 0===e?void 0:e,o=r.h_abs,f=void 0===o?void 0:o;return function(r){r=(0,i.array)(r);var e="float32"===r.dtype?"float32":"float64",o=s.ARRAY_TYPES[e],u=r.shape;r=r.data;var l=new o(r.length),c=null!=t?t:Math.pow((0,s.eps)(e),1/3),d=null!=f?f:Math.pow((0,s.eps)(e),1/3),h=n(new i.NDArray(u,r.slice()));l.fill(-1.5*h);for(var p=r.length;p-- >0;){for(var v=Math.max(Math.abs(r[p])*c,d),w=0,m=[[1*v,2],[2*v,-.5]];w<m.length;w++){var y=(0,a["default"])(m[w],2),g=y[0],_=y[1],b=new i.NDArray(u,o.from(r));b.data[p]+=g,l[p]+=n(b)*_}l[p]/=v}return new i.NDArray(u,l)}};r.num_grad_forward=d},93393:function(n,r,e){"use strict";e(81299),e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.OptimizationNoProgressError=r.OptimizationError=void 0;var a=t(e(16125)),o=t(e(63490)),i=t(e(55156)),s=t(e(46907)),f=t(e(25629));function u(n){var r=l();return function(){var e,t=(0,s["default"])(n);if(r){var a=(0,s["default"])(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return(0,i["default"])(this,e)}}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var c=function(n){(0,o["default"])(e,n);var r=u(e);function e(){return(0,a["default"])(this,e),r.apply(this,arguments)}return e}((0,f["default"])(Error));r.OptimizationError=c;var d=function(n){(0,o["default"])(e,n);var r=u(e);function e(){return(0,a["default"])(this,e),r.apply(this,arguments)}return e}(c);r.OptimizationNoProgressError=d},42402:function(n,r,e){"use strict";function t(n,r,e){if(isNaN(n))throw new Error("roots_quad_poly(a,b,c): a must be number.");if(isNaN(r))throw new Error("roots_quad_poly(a,b,c): b must be number.");if(isNaN(e))throw new Error("roots_quad_poly(a,b,c): c must be number.");if(0===e){var t=-n/r;return[t,t]}if(n/=e,r/=e,0===r){var a=Math.sqrt(-n);return[-a,+a]}if(0===n)return 0<=r?[-r,0]:[0,-r];e=Math.sqrt(Math.abs(n))*Math.sign(r),r/=2*e;var o,i,s=1024*Number.EPSILON*64;if(0<n){if(r<1-s)throw new Error("Complex roots not yet supported: "+r);r<1&&(r=1),o=-r-Math.sqrt((r+1)*(r-1)),i=1/o}else o=-r-Math.sqrt(r*r+1),i=-1/o;return o*=e,i*=e,o<=i?[o,i]:[i,o]}e(21703),Object.defineProperty(r,"__esModule",{value:!0}),r.roots1d_polyquad=t},45456:function(n,r,e){"use strict";e(21703),Object.defineProperty(r,"__esModule",{value:!0}),r.root1d_bisect=a;var t=e(90053);function a(n,r,e){if(r*=1,e*=1,isNaN(r))throw new Error("root1d_bisect(F,x1,x2): x1 must be a number.");if(isNaN(e))throw new Error("root1d_bisect(F,x1,x2): x2 must be a number.");if(!(n instanceof Function))throw new Error("root1d_bisect(F,x1,x2): F must be a function.");var a=n(r),o=n(e);if(0===a)return r;if(0===o)return e;if(a>o){var i=[o,a];a=i[0],o=i[1];var s=[e,r];r=s[0],e=s[1]}if(!(a<0))throw new Error("root1d_bisect(F,x1,x2): F(x1) and F(x2) must have opposite signs.");if(!(o>0))throw new Error("root1d_bisect(F,x1,x2): F(x1) and F(x2) must have opposite signs.");for(;;){var f=(0,t.midl)(r,e),u=n(f);if(0===u)return f;if(r===f)break;if(isNaN(u))throw new Error("NaN encountered.");u<0&&(r=f,a=u),u>0&&(e=f,o=u)}return Math.abs(a)<=Math.abs(o)?r:e}},44685:function(n,r,e){"use strict";e(21703),Object.defineProperty(r,"__esModule",{value:!0}),r.root1d_brent=f;var t=e(90053),a=function(n,r){return Math.min(n,r)},o=function(n,r){return Math.max(n,r)},i=function(n){return Math.abs(n)},s=function(n){return Math.sign(n)};function f(n,r,e){if(r*=1,e*=1,isNaN(r))throw new Error("root1d_bisect(F,a,b): a must be a number.");if(isNaN(e))throw new Error("root1d_bisect(F,a,b): b must be a number.");if(!(n instanceof Function))throw new Error("root1d_bisect(F,a,b): F must be a function.");var f=n(r),u=n(e);if(!(s(f)*u<=0))throw new Error("root1d_falsi(F,a,b): F(a) and F(b) must have opposite signs.");n:for(;;){var l=r,c=f,d=e-r,h=d;do{i(c)<i(u)&&(r=e,e=l,l=r,f=u,u=c,c=f);var p=(0,t.nextUp)(a(e,l)),v=(0,t.nextDown)(o(e,l));if(v<p||0===u)break n;var w=l-e;if(i(h)<Number.EPSILON*i(e)||i(f)<=i(u))h=d=w/2;else{var m=void 0,y=void 0,g=u/f;if(r===l)m=w*g,y=1-g;else{var _=u/c;y=f/c,m=g*(w*y*(y-_)-(e-r)*(_-1)),y=(y-1)*(_-1)*(g-1)}m<=0?m=-m:y=-y,g=h,h=d,4*m>=3*w*y||m>=i(.5*g*y)?h=d=w/2:d=m/y}r=e,f=u,e+=d,e>=p||(e=p),e<=v||(e=v),u=n(e)}while(s(u)*c<=0)}return e}},86458:function(n,r,e){"use strict";e(21703),Object.defineProperty(r,"__esModule",{value:!0}),r.root1d_illinois=a;var t=e(90053);function a(n,r,e){if(r*=1,e*=1,isNaN(r))throw new Error("root1d_falsi(F,x1,x2): x1 must be a number.");if(isNaN(e))throw new Error("root1d_falsi(F,x1,x2): x2 must be a number.");if(!(n instanceof Function))throw new Error("root1d_falsi(F,x1,x2): F must be a function.");var a=n(r),o=n(e),i=a;if(0===a)return r;if(0===o)return e;if(!(Math.sign(a)*o<0))throw new Error("root1d_falsi(F,x1,x2): F(x1) and F(x2) must have opposite signs.");for(;;){var s=(0,t.nextUp)(Math.min(r,e)),f=(0,t.nextDown)(Math.max(r,e));if(f<s)break;var u=(r*o-e*a)/(o-a);u>=s||(u=s),u<=f||(u=f);var l=n(u);if(0===l)return u;if(isNaN(l))throw new Error("NaN encountered.");if(Math.sign(o)*l<0)r=e,e=u,a=o,o=l,i=a;else{var c=1-l/o/(1-l/a);c>0||(c=.5),a*=c,e=u,o=l}}return Math.abs(i)<=Math.abs(o)?r:e}},90966:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.beale=void 0;var a=t(e(25069)),o=e(30065),i=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("beale(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("beale(x): x.shape[-1] must be 2.");var r=n.shape.slice(0,-1),e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length/2);n=n.data;for(var t=n.length,a=e.length;a-- >0;){t-=2;var i=n[t+0],s=n[t+1],f=1.5-i*(1-s),u=2.25-i*(1-s*s),l=2.625-i*(1-s*s*s);e[a]=f*f+u*u+l*l}return new o.NDArray(r,e)};r.beale=i,i.nIn=2,i.nOut=3,i.minima=i.minima_global=i.roots=[[3,.5]],i.grad=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("beale.grad(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("beale.grad(x): x.shape[-1] must be 2.");var r=n.shape,e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length);n=n.data;for(var t=n.length;(t-=2)>=0;){var a=n[t+0],i=n[t+1],s=1.5-a*(1-i),f=2.25-a*(1-i*i),u=2.625-a*(1-i*i*i);e[t+0]=2*(s*(i-1)+f*(i*i-1)+u*(i*i*i-1)),e[t+1]=2*a*(1*s+i*(2*f+3*u*i))}return new o.NDArray(r,e)},i.hess=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("beale.hess(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("beale.hess(x): x.shape[-1] must be 2.");var r=Int32Array.of.apply(Int32Array,(0,a["default"])(n.shape).concat([2])),e=new("float32"===n.dtype?Float32Array:Float64Array)(2*n.data.length);n=n.data;for(var t=e.length,i=n.length;(i-=2)>=0;){t-=4;var s=n[i+0],f=n[i+1],u=2.25-s*(1-f*f),l=2.625-s*(1-f*f*f);e[t+0]=2*((1-f)*(1-f)+(1-f*f)*(1-f*f)+(1-f*f*f)*(1-f*f*f)),e[t+1]=e[t+2]=2*(1.5-2*(1-f)*s+4.5*f-4*(1-f*f)*s*f+7.875*f*f-6*(1-f*f*f)*s*f*f),e[t+3]=2*(1*s*s+4*s*s*f*f+2*u*s+9*s*s*f*f*f*f+6*l*s*f)}return new o.NDArray(r,e)},i.lsq=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("beale.lsq(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("beale.lsq(x): x.shape[-1] must be 2.");var r=n.shape.slice(),e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length/2*3);r[r.length-1]=3,n=n.data;for(var t=n.length,a=e.length;(t-=2)>=0;){a-=3;var i=n[t+0],s=n[t+1];e[a+0]=1.5-i*(1-s),e[a+1]=2.25-i*(1-s*s),e[a+2]=2.625-i*(1-s*s*s)}return new o.NDArray(r,e)},i.lsq_jac=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("beale.lsq_jac(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("beale.lsq_jac(x): x.shape[-1] must be 2.");var r=Int32Array.of.apply(Int32Array,(0,a["default"])(n.shape.slice(0,-1)).concat([3,2])),e=new("float32"===n.dtype?Float32Array:Float64Array)(3*n.data.length);n=n.data;for(var t=n.length,i=e.length;(t-=2)>=0;){i-=6;var s=n[t+0],f=n[t+1];e[i+0]=f-1,e[i+1]=1*s,e[i+2]=f*f-1,e[i+3]=2*s*f,e[i+4]=f*f*f-1,e[i+5]=3*s*f*f}return new o.NDArray(r,e)},Object.freeze(i)},36958:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.brown_badscale=void 0;var a=t(e(25069)),o=e(30065),i=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("brown_badscale(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("brown_badscale(x): x.shape[-1] must be 2.");var r=n.shape.slice(0,-1),e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length/2);n=n.data;for(var t=n.length,a=e.length;a-- >0;){t-=2;var i=n[t+0],s=n[t+1],f=i-1e6,u=s-2e-6,l=i*s-2;e[a]=f*f+u*u+l*l}return new o.NDArray(r,e)};r.brown_badscale=i,i.nIn=2,i.nOut=3,i.minima=i.minima_global=i.roots=[[1e6,2e-6]],i.grad=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("brown_badscale.grad(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("brown_badscale.grad(x): x.shape[-1] must be 2.");var r=n.shape,e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length);n=n.data;for(var t=n.length;(t-=2)>=0;){var a=n[t+0],i=n[t+1],s=a-1e6,f=i-2e-6,u=a*i-2;e[t+0]=2*(s+u*i),e[t+1]=2*(f+u*a)}return new o.NDArray(r,e)},i.hess=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("brown_badscale.hess(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("brown_badscale.hess(x): x.shape[-1] must be 2.");var r=Int32Array.of.apply(Int32Array,(0,a["default"])(n.shape).concat([2])),e=new("float32"===n.dtype?Float32Array:Float64Array)(2*n.data.length);n=n.data;for(var t=e.length,i=n.length;(i-=2)>=0;){t-=4;var s=n[i+0],f=n[i+1],u=s*f-2;e[t+0]=2*(1+f*f),e[t+1]=e[t+2]=2*(u+s*f),e[t+3]=2*(1+s*s)}return new o.NDArray(r,e)},i.lsq=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("brown_badscale.lsq(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("brown_badscale.lsq(x): x.shape[-1] must be 2.");var r=n.shape.slice(),e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length/2*3);r[r.length-1]=3,n=n.data;for(var t=n.length,a=e.length;(t-=2)>=0;){a-=3;var i=n[t+0],s=n[t+1];e[a+0]=i-1e6,e[a+1]=s-2e-6,e[a+2]=i*s-2}return new o.NDArray(r,e)},i.lsq_jac=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("brown_badscale.lsq_jac(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("brown_badscale.lsq_jac(x): x.shape[-1] must be 2.");var r=Int32Array.of.apply(Int32Array,(0,a["default"])(n.shape.slice(0,-1)).concat([3,2])),e=new("float32"===n.dtype?Float32Array:Float64Array)(3*n.data.length);n=n.data;for(var t=n.length,i=e.length;(t-=2)>=0;){i-=6;var s=n[t+0],f=n[t+1];e[i+0]=1,e[i+1]=0,e[i+2]=0,e[i+3]=1,e[i+4]=f,e[i+5]=s}return new o.NDArray(r,e)},Object.freeze(i)},60689:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.freudenstein_roth=void 0;var a=t(e(25069)),o=e(30065),i=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("freudenstein_roth(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("freudenstein_roth(x): x.shape[-1] must be 2.");var r=n.shape.slice(0,-1),e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length/2);n=n.data;for(var t=n.length,a=e.length;a-- >0;){t-=2;var i=n[t+0],s=n[t+1],f=-13+i+((5-s)*s-2)*s,u=-29+i+((1+s)*s-14)*s;e[a]=f*f+u*u}return new o.NDArray(r,e)};r.freudenstein_roth=i,i.nIn=i.nOut=2,i.roots=[[5,4]],i.minima_global=[[5,4]],i.minima=[[5,4],[(53-Math.sqrt(352))/3,(2-Math.sqrt(22))/3]],i.grad=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("freudenstein_roth.grad(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("freudenstein_roth.grad(x): x.shape[-1] must be 2.");var r=n.shape,e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length);n=n.data;for(var t=n.length;(t-=2)>=0;){var a=n[t+0],i=n[t+1];e[t+0]=4*a-84+(12*i-32)*i,e[t+1]=864-(32-24*i)*a+(24+((8+(12*i-40)*i)*i-240)*i)*i}return new o.NDArray(r,e)},i.hess=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("freudenstein_roth.hess(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("freudenstein_roth.hess(x): x.shape[-1] must be 2.");var r=Int32Array.of.apply(Int32Array,(0,a["default"])(n.shape).concat([2])),e=new("float32"===n.dtype?Float32Array:Float64Array)(2*n.data.length);n=n.data;for(var t=e.length,i=n.length;(i-=2)>=0;){t-=4;var s=n[i+0],f=n[i+1],u=-13+s+((5-f)*f-2)*f,l=-29+s+((1+f)*f-14)*f,c=(10-3*f)*f-2,d=(2+3*f)*f-14;e[t+0]=4,e[t+1]=e[t+2]=24*f-32,e[t+3]=u*(20-12*f)+2*c*c+l*(4+12*f)+2*d*d}return new o.NDArray(r,e)},i.lsq=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("freudenstein_roth.lsq(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("freudenstein_roth.lsq(x): x.shape[-1] must be 2.");var r=n.shape.slice(),e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length);n=n.data;for(var t=n.length;(t-=2)>=0;){var a=n[t+0],i=n[t+1];e[t+0]=-13+a+((5-i)*i-2)*i,e[t+1]=-29+a+((1+i)*i-14)*i}return new o.NDArray(r,e)},i.lsq_jac=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("freudenstein_roth.lsq_jac(x): x.ndim must be at least 1.");if(n.shape[n.ndim-1]<2)throw new Error("freudenstein_roth.lsq_jac(x): x.shape[-1] must be 2.");var r=n.shape[n.ndim-1],e=2*(r-1),t=Int32Array.of.apply(Int32Array,(0,a["default"])(n.shape).concat([2])),i=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length*e);n=n.data;for(var s=n.length,f=i.length;(f-=4)>=0;){s-=2;n[s+0];var u=n[s+1];i[f+0]=1,i[f+1]=(10-3*u)*u-2,i[f+2]=1,i[f+3]=(2+3*u)*u-14}return new o.NDArray(t,i)},Object.freeze(i)},15909:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(25438);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.helical_valley=void 0;var a=t(e(25069)),o=e(30065),i=function(n,r){return Math.atan2(n*(r<0||Object.is(r,-0)?-1:1),Math.abs(r))},s=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("helical_valley(x): x.ndim must be at least 1.");if(3!==n.shape[n.ndim-1])throw new Error("helical_valley(x): x.shape[-1] must be 3.");var r=n.shape.slice(0,-1),e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length/3);n=n.data;for(var t=n.length,a=e.length;a-- >0;){t-=3;var s=n[t+0],f=n[t+1],u=n[t+2],l=10*u-50*(i(f,s)/Math.PI+(s<0)),c=10*Math.hypot(f,s)-10,d=u;e[a]=l*l+c*c+d*d}return new o.NDArray(r,e)};r.helical_valley=s,s.nIn=s.nOut=3,s.minima=s.minima_global=s.roots=[[1,0,0]],s.grad=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("helical_valley.grad(x): x.ndim must be at least 1.");if(3!==n.shape[n.ndim-1])throw new Error("helical_valley.grad(x): x.shape[-1] must be 3.");var r=n.shape,e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length);n=n.data;for(var t=n.length;(t-=3)>=0;){var a=n[t+0],s=n[t+1],f=n[t+2],u=10*f-50*(i(s,a)/Math.PI+(a<0));e[t+0]=100*(a*(2-2/Math.hypot(s,a))+s*u/(Math.PI*(s*s+a*a))),e[t+1]=100*(s*(2-2/Math.hypot(s,a))-a*u/(Math.PI*(s*s+a*a))),e[t+2]=20*u+2*f}return new o.NDArray(r,e)},s.hess=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("helical_valley.hess(x): x.ndim must be at least 1.");if(3!==n.shape[n.ndim-1])throw new Error("helical_valley.hess(x): x.shape[-1] must be 2.");var r=Int32Array.of.apply(Int32Array,(0,a["default"])(n.shape).concat([3])),e=new("float32"===n.dtype?Float32Array:Float64Array)(3*n.data.length);n=n.data;for(var t=e.length,s=n.length;(s-=3)>=0;){t-=9;var f=n[s+0],u=n[s+1],l=n[s+2],c=10*l-50*(i(u,f)/Math.PI+(f<0)),d=f*f+u*u;e[t+0]=200*(1-u*u/Math.pow(d,1.5)+(25*u/Math.PI-f*c)*u/(Math.PI*d*d)),e[t+1]=100/Math.PI*c/d+200*f*u/Math.pow(d,1.5)-(5e3*f/Math.PI+200*u*c)*u/(Math.PI*d*d),e[t+2]=1e3/Math.PI*u/d,e[t+3]=e[t+1],e[t+4]=200*(1-f*f/Math.pow(d,1.5)+(25*f/Math.PI+u*c)*f/(Math.PI*d*d)),e[t+5]=-1e3/Math.PI*f/d,e[t+6]=e[t+2],e[t+7]=e[t+5],e[t+8]=202}return new o.NDArray(r,e)},s.lsq=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("helical_valley.lsq(x): x.ndim must be at least 1.");if(3!==n.shape[n.ndim-1])throw new Error("helical_valley.lsq(x): x.shape[-1] must be 3.");var r=n.shape.slice(),e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length);n=n.data;for(var t=n.length;(t-=3)>=0;){var a=n[t+0],s=n[t+1],f=n[t+2];e[t+0]=10*f-50*(i(s,a)/Math.PI+(a<0)),e[t+1]=10*Math.hypot(s,a)-10,e[t+2]=f}return new o.NDArray(r,e)},s.lsq_jac=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("helical_valley.lsq_jac(x): x.ndim must be at least 1.");if(3!==n.shape[n.ndim-1])throw new Error("helical_valley.lsq_jac(x): x.shape[-1] must be 3.");var r=Int32Array.of.apply(Int32Array,(0,a["default"])(n.shape).concat([3])),e=new("float32"===n.dtype?Float32Array:Float64Array)(3*n.data.length);n=n.data;for(var t=n.length,i=e.length;(t-=3)>=0;){i-=9;var s=n[t+0],f=n[t+1];e[i+0]=50/Math.PI*f/(f*f+s*s),e[i+1]=-50/Math.PI*s/(f*f+s*s),e[i+2]=10,e[i+3]=10*s/Math.hypot(f,s),e[i+4]=10*f/Math.hypot(f,s),e[i+5]=0,e[i+6]=0,e[i+7]=0,e[i+8]=1}return new o.NDArray(r,e)},Object.freeze(s)},36405:function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=e(90966);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[n]}})}));var a=e(36958);Object.keys(a).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return a[n]}})}));var o=e(60689);Object.keys(o).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return o[n]}})}));var i=e(15909);Object.keys(i).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return i[n]}})}));var s=e(86633);Object.keys(s).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return s[n]}})}));var f=e(92467);Object.keys(f).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return f[n]}})}));var u=e(41925);Object.keys(u).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return u[n]}})}));var l=e(95933);Object.keys(l).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return l[n]}})}))},86633:function(n,r,e){"use strict";e(81299),e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.JennrichSampson=void 0;var a=t(e(25069)),o=t(e(16125)),i=t(e(39885)),s=t(e(63490)),f=t(e(55156)),u=t(e(46907)),l=t(e(25629)),c=e(30065);function d(n){var r=h();return function(){var e,t=(0,u["default"])(n);if(r){var a=(0,u["default"])(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return(0,f["default"])(this,e)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var p=function(n){(0,s["default"])(e,n);var r=d(e);function e(n){var t;if((0,o["default"])(this,e),t=r.call(this),0!==n%1)throw new Error("new JennrichSampson(m): m not a valid integer.");if(!(1<n))throw new Error("new JennrichSampson(m): m must be greater than 1.");var a=function n(r){if(r=(0,c.asarray)(r),r.ndim<1)throw new Error("".concat(n.name,"(x): x.ndim must be at least 1."));if(2!==r.shape[r.ndim-1])throw new Error("".concat(n.name,"(x): x.shape[-1] must be 2."));var e=r.shape.slice(0,-1),t=new("float32"===r.dtype?Float32Array:Float64Array)(r.data.length/2);r=r.data;for(var a=n.nOut,o=r.length,i=t.length;i-- >0;){o-=2;for(var s=r[o+0],f=r[o+1],u=0,l=a;l-- >0;){var d=4+2*l-Math.exp((l+1)*s)-Math.exp((l+1)*f);u+=d*d}t[i]=u}return new c.NDArray(e,t)};return 10===n&&(a.minima_global=a.minima=[[.25782521321500884,.25782521321500884]]),a.roots=[],a.nOut=n,Object.defineProperty(a,"name",{value:"jennrich_sampson".concat(n,"d"),writable:!1}),Object.setPrototypeOf(a,e.prototype),(0,f["default"])(t,Object.freeze(a))}return(0,i["default"])(e,[{key:"grad",value:function(n){if(n=(0,c.asarray)(n),n.ndim<1)throw new Error("".concat(this.name,".grad(x): x.ndim must be at least 1."));if(2!==n.shape[n.ndim-1])throw new Error("".concat(this.name,".grad(x): x.shape[-1] must be 2."));var r=n.shape,e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length);n=n.data;for(var t=this.nOut,a=n.length;a>=0;){a-=2;for(var o=n[a+0],i=n[a+1],s=t;s-- >0;){var f=4+2*s-Math.exp((s+1)*o)-Math.exp((s+1)*i);e[a+0]-=2*f*(s+1)*Math.exp((s+1)*o),e[a+1]-=2*f*(s+1)*Math.exp((s+1)*i)}}return new c.NDArray(r,e)}},{key:"hess",value:function(n){if(n=(0,c.asarray)(n),n.ndim<1)throw new Error("".concat(this.name,".hess(x): x.ndim must be at least 1."));if(2!==n.shape[n.ndim-1])throw new Error("".concat(this.name,".hess(x): x.shape[-1] must be 2."));var r=Int32Array.of.apply(Int32Array,(0,a["default"])(n.shape).concat([2])),e=new("float32"===n.dtype?Float32Array:Float64Array)(2*n.data.length);n=n.data;for(var t=this.nOut,o=e.length,i=n.length;(i-=2)>=0;){o-=4;for(var s=n[i+0],f=n[i+1],u=t;u-- >0;){var l=4+2*u-Math.exp((u+1)*s)-Math.exp((u+1)*f);e[o+0]+=2*(u+1)*(u+1)*(Math.exp((u+1)*s*2)-l*Math.exp((u+1)*s)),e[o+3]+=2*(u+1)*(u+1)*(Math.exp((u+1)*f*2)-l*Math.exp((u+1)*f)),e[o+1]+=2*(u+1)*(u+1)*Math.exp((u+1)*(s+f))}e[o+2]=e[o+1]}return new c.NDArray(r,e)}},{key:"lsq",value:function(n){if(n=(0,c.asarray)(n),n.ndim<1)throw new Error("".concat(this.name,".lsq(x): x.ndim must be at least 1."));if(2!==n.shape[n.ndim-1])throw new Error("".concat(this.name,".lsq(x): x.shape[-1] must be 2."));var r=this.nOut,e=n.shape.slice(),t=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length/2*r);e[e.length-1]=r,n=n.data;for(var a=n.length,o=t.length;(o-=r)>=0;){a-=2;for(var i=n[a+0],s=n[a+1],f=r;f-- >0;)t[o+f]=4+2*f-Math.exp((f+1)*i)-Math.exp((f+1)*s)}return new c.NDArray(e,t)}},{key:"lsq_jac",value:function(n){n=(0,c.asarray)(n);var r=this.nOut;if(n.ndim<1)throw new Error("".concat(this.name,".lsq_jac(x): x.ndim must be at least 1."));if(2!==n.shape[n.ndim-1])throw new Error("".concat(this.name,".lsq_jac(x): x.shape[-1] must be 2."));var e=Int32Array.of.apply(Int32Array,(0,a["default"])(n.shape.slice(0,-1)).concat([r,2])),t=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length*r);n=n.data;for(var o=n.length,i=t.length;(i-=2*r)>=0;){o-=2;for(var s=n[o+0],f=n[o+1],u=r;u-- >0;)t[i+2*u+0]=-(u+1)*Math.exp((u+1)*s),t[i+2*u+1]=-(u+1)*Math.exp((u+1)*f)}return new c.NDArray(e,t)}},{key:"nIn",get:function(){return 2}}]),e}((0,l["default"])(Function));r.JennrichSampson=p},92467:function(n,r,e){"use strict";e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.powell_badscale=void 0;var a=t(e(25069)),o=e(30065),i=e(45456),s=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("powell_badscale(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("powell_badscale(x): x.shape[-1] must be 2.");var r=n.shape.slice(0,-1),e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length/2);n=n.data;for(var t=n.length,a=e.length;a-- >0;){t-=2;var i=n[t+0],s=n[t+1],f=1e4*i*s-1,u=Math.exp(-i)+Math.exp(-s)-1.0001;e[a]=f*f+u*u}return new o.NDArray(r,e)};r.powell_badscale=s,s.nIn=s.nOut=2,s.minima_global=s.roots=function(){var n=10981593296998175e-21,r=9.106146739866524;return[[n,r],[r,n]]}(),s.minima=function(){var n=(0,i.root1d_bisect)((function(n){return 1e4*(1e4*n*n-1)*n+Math.exp(-n)*(1e-4-Math.expm1(-n)-Math.exp(-n))}),-.02,-5e-4);return[].concat((0,a["default"])(s.minima_global),[[n,n]])}(),s.grad=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("powell_badscale.grad(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("powell_badscale.grad(x): x.shape[-1] must be 2.");var r=n.shape,e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length);n=n.data;for(var t=n.length;(t-=2)>=0;){var a=n[t+0],i=n[t+1],s=1e4*a*i-1,f=Math.exp(-a)+Math.exp(-i)-1.0001;e[t+0]=2*(1e4*s*i-f*Math.exp(-a)),e[t+1]=2*(1e4*s*a-f*Math.exp(-i))}return new o.NDArray(r,e)},s.hess=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("powell_badscale.hess(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("powell_badscale.hess(x): x.shape[-1] must be 2.");var r=Int32Array.of.apply(Int32Array,(0,a["default"])(n.shape).concat([2])),e=new("float32"===n.dtype?Float32Array:Float64Array)(2*n.data.length);n=n.data;for(var t=e.length,i=n.length;(i-=2)>=0;){t-=4;var s=n[i+0],f=n[i+1],u=1e4*s*f-1,l=Math.exp(-s)+Math.exp(-f)-1.0001;e[t+0]=2*(1e8*f*f+l*Math.exp(-s)+Math.exp(-2*s)),e[t+1]=e[t+2]=2*(1e4*u+1e8*s*f+Math.exp(-s-f)),e[t+3]=2*(1e8*s*s+l*Math.exp(-f)+Math.exp(-2*f))}return new o.NDArray(r,e)},s.lsq=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("powell_badscale.lsq(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("powell_badscale.lsq(x): x.shape[-1] must be 2.");var r=n.shape.slice(),e=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length);n=n.data;for(var t=n.length;(t-=2)>=0;){var a=n[t+0],i=n[t+1];e[t+0]=1e4*a*i-1,e[t+1]=Math.exp(-a)+Math.exp(-i)-1.0001}return new o.NDArray(r,e)},s.lsq_jac=function(n){if(n=(0,o.asarray)(n),n.ndim<1)throw new Error("powell_badscale.lsq_jac(x): x.ndim must be at least 1.");if(2!==n.shape[n.ndim-1])throw new Error("powell_badscale.lsq_jac(x): x.shape[-1] must be 2.");var r=Int32Array.of.apply(Int32Array,(0,a["default"])(n.shape).concat([2])),e=new("float32"===n.dtype?Float32Array:Float64Array)(2*n.data.length);n=n.data;for(var t=n.length,i=e.length;(i-=4)>=0;){t-=2;var s=n[t+0],f=n[t+1];e[i+0]=1e4*f,e[i+1]=1e4*s,e[i+2]=-Math.exp(-s),e[i+3]=-Math.exp(-f)}return new o.NDArray(r,e)},Object.freeze(s)},41925:function(n,r,e){"use strict";e(81299),e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.Rastrigin=void 0;var a=t(e(10021)),o=t(e(9545)),i=t(e(25069)),s=t(e(16125)),f=t(e(39885)),u=t(e(63490)),l=t(e(55156)),c=t(e(46907)),d=t(e(25629)),h=e(67456),p=e(30065),v=e(45456);function w(n){var r=m();return function(){var e,t=(0,c["default"])(n);if(r){var a=(0,c["default"])(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return(0,l["default"])(this,e)}}function m(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var y=function(){for(var n=function(n){return n+10*Math.PI*Math.sin(2*Math.PI*n)},r=[],e=1;e<32;e++){if(!(n(e-.25)<0))throw new Error("Assertion failed.");if(!(n(e+.25)>0))throw new Error("Assertion failed.");r.push((0,v.root1d_bisect)(n,e-.25,e+.25))}return Object.freeze(r),r}(),g=function(n){(0,u["default"])(e,n);var r=w(e);function e(n){var t;if((0,s["default"])(this,e),t=r.call(this),0!==n%1)throw new Error("new Rastrigin(n): n not a valid integer.");if(!(0<n))throw new Error("new Rastrigin(n): n must be positive.");var f=function n(r){r=(0,p.asarray)(r);var e=n.nIn;if(r.ndim<1)throw new Error("".concat(n.name,"(x): x.ndim must be at least 1."));if(r.shape[r.ndim-1]!==e)throw new Error("".concat(n.name,"(x): x.shape[-1] must be ").concat(e,"."));var t=r.shape.slice(0,-1),a=new("float32"===r.dtype?Float32Array:Float64Array)(r.data.length/e);r=r.data;for(var o=r.length,i=a.length;i-- >0;){o-=e;for(var s=e;s-- >0;){var f=r[o+s];a[i]+=f*f+10*(1-Math.cos(2*Math.PI*f))}}return new p.NDArray(t,a)};return f.nIn=n,f.roots=f.minima_global=[Array.from({length:n},(function(){return 0}))],f.minima=(0,a["default"])({},Symbol.iterator,o["default"].mark((function r(){var e,t,a,s,f,u;return o["default"].wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Array.from({length:n},(function(){return 0}));case 2:t=[0],a=0;case 4:if(!(a<y.length)){r.next=20;break}s=y[a],e=t,t=[-s].concat((0,i["default"])(e),[+s]),f=Array.from({length:n},(function(){return t})),u=0;case 10:if(!(u<n)){r.next=17;break}return f[u]=[-s,+s],r.delegateYield(h.cartesian_prod.apply(void 0,(0,i["default"])(f)),"t0",13);case 13:f[u]=e;case 14:u++,r.next=10;break;case 17:a++,r.next=4;break;case 20:case"end":return r.stop()}}),r)}))),Object.defineProperty(f,"name",{value:"rastrigin".concat(n,"d"),writable:!1}),Object.setPrototypeOf(f,e.prototype),(0,l["default"])(t,Object.freeze(f))}return(0,f["default"])(e,[{key:"grad",value:function(n){n=(0,p.asarray)(n);var r=this.nIn;if(n.ndim<1)throw new Error("".concat(this.name,".grad(x): x.ndim must be at least 1."));if(n.shape[n.ndim-1]!==r)throw new Error("".concat(this.name,".grad(x): x.shape[-1] must be ").concat(r,"."));var e=n.shape,t=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length);n=n.data;for(var a=n.length;a>=0;){a-=r;for(var o=r;o-- >0;){var i=n[a+o];t[a+o]=2*i+20*Math.PI*Math.sin(2*Math.PI*i)}}return new p.NDArray(e,t)}},{key:"hess",value:function(n){n=(0,p.asarray)(n);var r=this.nIn;if(n.ndim<1)throw new Error("".concat(this.name,".hess(x): x.ndim must be at least 1."));if(n.shape[n.ndim-1]!==r)throw new Error("".concat(this.name,".hess(x): x.shape[-1] must be ").concat(r,"."));var e=Int32Array.of.apply(Int32Array,(0,i["default"])(n.shape).concat([r])),t=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length*r);n=n.data;for(var a=t.length,o=n.length;(o-=r)>=0;){a-=r*r;for(var s=r;s-- >0;){var f=n[o+s];t[a+r*s+s]+=2+Math.PI*Math.PI*40*Math.cos(2*Math.PI*f)}}return new p.NDArray(e,t)}},{key:"lsq",value:function(n){n=(0,p.asarray)(n);var r=this.nIn;if(n.ndim<1)throw new Error("".concat(this.name,".lsq(x): x.ndim must be at least 1."));if(n.shape[n.ndim-1]!==r)throw new Error("".concat(this.name,".lsq(x): x.shape[-1] must be ").concat(r,"."));var e=n.shape,t=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length);n=n.data;for(var a=n.length,o=t.length;(o-=r)>=0;){a-=r;for(var i=r;i-- >0;){var s=n[a+i];t[o+i]=Math.sqrt(s*s+10*(1-Math.cos(2*Math.PI*s)))}}return new p.NDArray(e,t)}},{key:"lsq_jac",value:function(n){n=(0,p.asarray)(n);var r=this.nIn;if(n.ndim<1)throw new Error("".concat(this.name,".lsq_jac(x): x.ndim must be at least 1."));if(n.shape[n.ndim-1]!==r)throw new Error("".concat(this.name,".lsq_jac(x): x.shape[-1] must be ").concat(r,"."));var e=Int32Array.of.apply(Int32Array,(0,i["default"])(n.shape).concat([r])),t=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length*r);n=n.data;for(var a=n.length,o=t.length;(o-=r*r)>=0;){a-=r;for(var s=r;s-- >0;){var f=n[a+s],u=Math.sqrt(f*f+10*(1-Math.cos(2*Math.PI*f)));0!==u&&(t[o+r*s+s]=(f+10*Math.PI*Math.sin(2*Math.PI*f))/u)}}return new p.NDArray(e,t)}},{key:"nOut",get:function(){return this.nIn}}]),e}((0,d["default"])(Function));r.Rastrigin=g},95933:function(n,r,e){"use strict";e(81299),e(21703),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.Rosenbrock=void 0;var a=t(e(25069)),o=t(e(16125)),i=t(e(39885)),s=t(e(63490)),f=t(e(55156)),u=t(e(46907)),l=t(e(25629)),c=e(30065);function d(n){var r=h();return function(){var e,t=(0,u["default"])(n);if(r){var a=(0,u["default"])(this).constructor;e=Reflect.construct(t,arguments,a)}else e=t.apply(this,arguments);return(0,f["default"])(this,e)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(n){return!1}}var p=function(n){(0,s["default"])(e,n);var r=d(e);function e(n){var t;if((0,o["default"])(this,e),t=r.call(this),0!==n%1)throw new Error("new Rosenbrock(n): n not a valid integer.");if(!(1<n))throw new Error("new Rosenbrock(n): n must be greater than 1.");var a=function n(r){r=(0,c.asarray)(r);var e=n.nIn;if(r.ndim<1)throw new Error("".concat(n.name,"(x): x.ndim must be at least 1."));if(r.shape[r.ndim-1]!==e)throw new Error("".concat(n.name,"(x): x.shape[-1] must be ").concat(e,"."));var t=r.shape.slice(0,-1),a=new("float32"===r.dtype?Float32Array:Float64Array)(r.data.length/e);r=r.data;for(var o=r.length,i=a.length;i-- >0;){o-=e;for(var s=e-1;s-- >0;){var f=r[o+s+1],u=r[o+s],l=f-u*u,d=1-u;a[i]+=100*l*l+d*d}}return new c.NDArray(t,a)};return 2==n?a.minima=[[1,1]]:3==n&&(a.minima=[[1,1,1]]),n<=7&&(a.roots=[Array.from({length:n},(function(){return 1}))]),n<=7&&(a.minima_global=[Array.from({length:n},(function(){return 1}))]),a.nIn=n,Object.defineProperty(a,"name",{value:"rosenbrock".concat(n,"d"),writable:!1}),Object.setPrototypeOf(a,e.prototype),(0,f["default"])(t,Object.freeze(a))}return(0,i["default"])(e,[{key:"grad",value:function(n){n=(0,c.asarray)(n);var r=this.nIn;if(n.ndim<1)throw new Error("".concat(this.name,".grad(x): x.ndim must be at least 1."));if(n.shape[n.ndim-1]!==r)throw new Error("".concat(this.name,".grad(x): x.shape[-1] must be ").concat(r,"."));var e=n.shape,t=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length);n=n.data;for(var a=n.length;a>=0;){a-=r;for(var o=r;o-- >0;){var i=n[a+o-1],s=n[a+o],f=n[a+o+1];o<r-1&&(t[a+o]=400*(s*s-f)*s-2*(1-s)),0<o&&(t[a+o]+=200*(s-i*i))}}return new c.NDArray(e,t)}},{key:"hess",value:function(n){n=(0,c.asarray)(n);var r=this.nIn;if(n.ndim<1)throw new Error("".concat(this.name,".hess(x): x.ndim must be at least 1."));if(n.shape[n.ndim-1]!==r)throw new Error("".concat(this.name,".hess(x): x.shape[-1] must be ").concat(r,"."));var e=Int32Array.of.apply(Int32Array,(0,a["default"])(n.shape).concat([r])),t=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length*r);n=n.data;for(var o=t.length,i=n.length;(i-=r)>=0;){o-=r*r;for(var s=r;s-- >0;)if(0<s&&(t[o+r*s+s]=200,t[o+r*(s-1)+s]=t[o+r*s+(s-1)]=-400*n[i+s-1]),s<r-1){var f=n[i+s];t[o+r*s+s]-=400*n[i+s+1]-1200*f*f-2}}return new c.NDArray(e,t)}},{key:"lsq",value:function(n){n=(0,c.asarray)(n);var r=this.nIn,e=this.nOut;if(n.ndim<1)throw new Error("".concat(this.name,".lsq(x): x.ndim must be at least 1."));if(n.shape[n.ndim-1]!==r)throw new Error("".concat(this.name,".lsq(x): x.shape[-1] must be ").concat(r,"."));var t=n.shape.slice(),a=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length/r*e);t[t.length-1]=e,n=n.data;for(var o=n.length,i=a.length;(i-=e)>=0;){o-=r;for(var s=r-1;s-- >0;){var f=n[o+s+1],u=n[o+s],l=f-u*u,d=1-u;a[i+2*s+0]=10*l,a[i+2*s+1]=d}}return new c.NDArray(t,a)}},{key:"lsq_jac",value:function(n){n=(0,c.asarray)(n);var r=this.nIn,e=this.nOut;if(n.ndim<1)throw new Error("".concat(this.name,".lsq_jac(x): x.ndim must be at least 1."));if(n.shape[n.ndim-1]!==r)throw new Error("".concat(this.name,".lsq_jac(x): x.shape[-1] must be ").concat(r,"."));var t=Int32Array.of.apply(Int32Array,(0,a["default"])(n.shape.slice(0,-1)).concat([e,r])),o=new("float32"===n.dtype?Float32Array:Float64Array)(n.data.length*e);n=n.data;for(var i=n.length,s=o.length;(s-=e*r)>=0;){i-=r;for(var f=r-1;f-- >0;){var u=f+1,l=(n[i+u],n[i+f]);o[s+r*(2*f+0)+f]+=-20*l,o[s+r*(2*f+0)+u]+=10,o[s+r*(2*f+1)+f]-=1}}return new c.NDArray(t,o)}},{key:"nOut",get:function(){return 2*this.nIn-2}}]),e}((0,l["default"])(Function));r.Rosenbrock=p},66022:function(n,r,e){"use strict";e(21703),e(48675),e(3462),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.AleaRNG=void 0;var a=t(e(42989)),o=t(e(16125)),i=t(e(39885)),s=e(11882),f=e(30065),u=e(52894),l=(e(28646),Math.pow(2,32)),c=Math.pow(2,-32),d=Math.pow(2,-53);function h(n,r){n=n.toString();for(var e=0;e<n.length;e++){r+=n.charCodeAt(e);var t=.02519603282416938*r;r=t>>>0,t-=r,t*=r,r=t>>>0,t-=r,r+=t*l}return r}var p=function(){function n(r){if((0,o["default"])(this,n),null==r)throw new Error("Assertion failed.");r=r.toString();var e=h(" ",4022871197),t=h(" ",e),a=h(" ",t),i=h(r,a),s=h(r,i),f=h(r,s);e>>>=0,e-=i>>>0,e*=c,e+=e<0,t>>>=0,t-=s>>>0,t*=c,t+=t<0,a>>>=0,a-=f>>>0,a*=c,a+=a<0,Object.assign(this,{s0:e,s1:t,s2:a,c:1,__nextNormal:NaN}),Object.seal(this)}return(0,i["default"])(n,[{key:"__next",value:function(){var n=2091639*this.s0+this.c*c;return this.s0=this.s1,this.s1=this.s2,this.s2=n-(this.c=0|n)}},{key:"bool",value:function(){return this.uniform()<0}},{key:"int",value:function(n,r){if(void 0===r&&(r=n,n=0),n%1!==0)throw new Error("AlreaRNG::int(from,until): from must be a valid int.");if(r%1!==0)throw new Error("AlreaRNG::int(from,until): until must be a valid int.");if(!(n<r))throw new Error("AlreaRNG::int(from,until): from must be less than until.");return Math.floor(this.uniform(n,r))}},{key:"shuffle",value:function(n,r,e){if(n.length%1!==0)throw new Error("AlreaRNG::normal(array,from=0,until=array.length): array must be Array-like.");if(!(n.length>=0))throw new Error("AlreaRNG::normal(array,from=0,until=array.length): array must be Array-like.");if(null==r&&(r=0),null==e&&(e=n.length),0!==r%1)throw new Error("AlreaRNG::normal(array,from=0,until=array.length): from must be int.");if(0!==e%1)throw new Error("AlreaRNG::normal(array,from=0,until=array.length): until must be int.");if(!(r>=0))throw new Error("AlreaRNG::normal(array,from=0,until=array.length): from must be non-negative.");if(!(r<=e))throw new Error("AlreaRNG::normal(array,from=0,until=array.length): from must not be greater than until.");if(!(n.length>=e))throw new Error("AlreaRNG::normal(array,from=0,until=array.length): until must not be greater than array.length.");for(var t=r;t<e-1;t++){var a=this["int"](t,e),o=n[a];n[a]=n[t],n[t]=o}}},{key:"uniform",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(n*=1,!isFinite(n))throw new Error("Assertion failed.");if(r*=1,!isFinite(r))throw new Error("Assertion failed.");var e=this.__next()+(2097152*this.__next()|0)*d;return n*(1-e)+e*r}},{key:"normal",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(n*=1,!isFinite(n))throw new Error("AlreaRNG::normal(mean,sigma): mean must be valid number.");if(r*=1,!isFinite(r))throw new Error("AlreaRNG::normal(mean,sigma): sigma must be valid number.");var e,t,a,o=this.__nextNormal;if(!isNaN(o))return this.__nextNormal=NaN,o*r+n;do{e=this.uniform(),t=this.uniform(),a=e*e+t*t}while(a>1||0==a);var i=Math.sqrt(-2*Math.log(a)/a);return this.__nextNormal=i*e,n+i*t*r}},{key:"ortho",value:function(n){for(var r=arguments.length,e=new Array(r>1?r-1:0),t=1;t<r;t++)e[t-1]=arguments[t];if(n in s.ARRAY_TYPES||(e.unshift(n),n="float64"),e.length<1)throw new Error("AlreaRNG::orthogonal([dtype,] ...shape): shape.length must be at least 1.");1===e.length&&e.push(e[0]);for(var o=e.length;o-- >0;)if(e[o]%1!==0||e[o]<1)throw new Error("AlreaRNG::orthogonal([dtype,] ...shape): shape[".concat(o,"] = ").concat(e[o]," not a positive integer."));e=Int32Array.from(e);for(var i=e.subarray(-2),l=(0,a["default"])(i,2),c=l[0],d=l[1],h=Math.max(c,d),p=Math.min(c,d),v=s.ARRAY_TYPES[n],w=new v(e.reduce((function(n,r){return n*r}))),m=new Float64Array(h*p),y=w.length;(y-=c*d)>=0;){for(var g=h;g-- >0;)for(var _=p;_-- >0;)m[p*g+_]=g!==_?0:this.bool()?-1:1;for(var b=0;b<h;b++)for(var E=this.normal(),A=b;++A<h;){var x=this.normal(),M=(0,u._giv_rot_qr)(E,x),k=(0,a["default"])(M,3),P=k[0],S=k[1],O=k[2];0!==S&&(E=O,(0,u._giv_rot_rows)(m,Math.min(A+1,p),p*b,p*A,P,S))}for(var N=h;N-- >0;)for(var j=p;j-- >0;)w[y+(c<d?d*j+N:d*N+j)]=m[p*N+j]}return new f.NDArray(e,w)}}]),n}();r.AleaRNG=p},37675:function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=e(66022);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[n]}})}))},48265:function(n,r,e){"use strict";e(21703),Object.defineProperty(r,"__esModule",{value:!0}),r.rand_normal=void 0;var t=!0,a=function(){var n=NaN;return function(){if(t&&(t=!1,console.warn(new Error("nd.rand_normal is deprecated, use nd.rand.AleaRNG instead."))),!isNaN(n)){var r=n;return n=NaN,r}var e,a,o;do{e=2*Math.random()-1,a=2*Math.random()-1,o=e*e+a*a}while(o>1||0==o);var i=Math.sqrt(-2*Math.log(o)/o);return n=i*e,i*a}}();r.rand_normal=a},85485:function(n,r,e){"use strict";e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.NAryHeap=void 0;var a=t(e(16125)),o=t(e(39885)),i=8,s=function(n){return 1+n*i},f=function(n){return(n-1)/i|0},u=function(){function n(){(0,a["default"])(this,n),this._heap=[],Object.seal(this)}return(0,o["default"])(n,[{key:"add",value:function(n){if(!("key"in n))throw new Error("Assertion failed.");var r=this._heap;r.push(n);for(var e=r.length-1;;){var t=f(e);if(0===e||n.key>=r[t].key)break;r[e]=r[t],e=t}r[e]=n}},{key:"popMin",value:function(){var n=this._heap,r=n[0],e=n.pop();if(0<n.length)for(var t=0;;){var a=t;n[t]=e;for(var o=s(t),f=Math.min(o+i,n.length);o<f;o++)n[o].key<n[t].key&&(t=o);if(t===a)break;n[a]=n[t]}return r}},{key:"size",get:function(){return this._heap.length}},{key:"min",get:function(){return this._heap[0]}}]),n}();r.NAryHeap=u},70292:function(n,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t=e(2145);Object.keys(t).forEach((function(n){"default"!==n&&"__esModule"!==n&&Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[n]}})}))},2145:function(n,r,e){"use strict";e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.KDTree=void 0;var a=t(e(9545)),o=t(e(25069)),i=t(e(39885)),s=t(e(16125)),f=e(28646),u=e(57482),l=e(30716),c=e(85485),d=function(n,r){var e=n.length;if(e!==r.length)throw new Error("Assertion failed.");for(var t=new l.FrobeniusNorm,a=e;a-- >0;)t.include(n[a]-r[a]);return t.result},h=function n(r,e,t,a){(0,s["default"])(this,n),Object.assign(this,{axis:r,threshold:e,c0:t,c1:a}),Object.seal(this)},p=function n(r){(0,s["default"])(this,n),this.point=r,Object.seal(this)},v=function n(r,e,t){(0,s["default"])(this,n),this.key=r,this.nearest=t,Object.assign(this,e),Object.seal(this)},w=function n(r,e){(0,s["default"])(this,n),this.key=r,this.point=e.point,Object.seal(this)},m=function(){function n(r){(0,s["default"])(this,n),r=(0,o["default"])(r);var e=r[0].length;if(r.some((function(n){return n.length!==e})))throw new Error("new KDTree(points): points must be iterable of (typed) arrays of same length (NDArrays are not yet supported).");if(r.some((function(n){return!(0,u.is_array)(n)})))throw new Error("new KDTree(points): points must be iterable of (typed) arrays of same length (NDArrays are not yet supported).");var t=function(n,e){var t=r[n];r[n]=r[e],r[e]=t};this.root=function n(a,o,i){if(1===i-o)return new p(r[o]);for(;;){for(var s=r[(0,f._rand_int)(o,i)][a],u=o,l=o,c=o;c<i;c++){var d=r[c][a];d<=s&&(t(c,l),d<s&&t(u++,l),l++)}var v=o+i>>>1;v=Math.max(v,u),v=Math.min(v,l);var w=(a+1)%e;return new h(a,s,n(w,o,v),n(w,v,i))}}(0,0,r.length),Object.seal(this)}return(0,i["default"])(n,[{key:"nearest_gen",value:a["default"].mark((function n(r){var e,t,o,i,s,f,u,l,p,m;return a["default"].wrap((function(n){while(1)switch(n.prev=n.next){case 0:e=new c.NAryHeap,t=function(n,t){return e.add(t instanceof h?new v(d(r,n),t,n):new w(d(r,t.point),t))},t(r,this.root);case 3:if(!(e.size>0)){n.next=18;break}if(o=e.popMin(),!(o instanceof v)){n.next=14;break}i=o.nearest,s=o.axis,f=o.threshold,u=o.c0,l=o.c1,p=i,m=i,i[s]>f&&(p=p.slice(),p[s]=f),i[s]<f&&(m=m.slice(),m[s]=f),t(p,u),t(m,l),n.next=16;break;case 14:return n.next=16,o.point;case 16:n.next=3;break;case 18:case"end":return n.stop()}}),n,this)}))}]),n}();r.KDTree=m},13211:function(n,r,e){"use strict";e(21703);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.stack=s;var a=t(e(25069)),o=e(39059),i=e(30065);function s(n,r,e){if(null==e&&(null==r?(e=n,n=void 0):(e=r,r=void 0,"string"===typeof n&&(r=n,n=void 0))),e=Array.from(e,(function(n){return(0,i.asarray)(r,n)})),null==n&&(n=0),0>n&&(n+=e[0].shape.length+1),0>n||n>e[0].shape.length)throw new Error("Axis out of bounds.");return e=e.map((function(r){return r.reshape.apply(r,(0,a["default"])(r.shape.slice(0,n)).concat([1],(0,a["default"])(r.shape.slice(n))))})),(0,o.concat)(n,r,e)}},85008:function(n,r,e){"use strict";e(48675),e(3462),e(21703),e(85827);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.tabulate=s;var a=t(e(25069)),o=e(30065),i=e(11882);function s(n,r,e){if(n=Int32Array.from(n,(function(r){if(r%1!==0)throw new Error("tabulate(shape, dtype='object', idx2val): Invalid shape [".concat(n,"]."));return r})),null==e&&(e=r,r=void 0),null==e)throw new Error("tabulate(shape, dtype='object', idx2val): idx2val missing.");null==r&&(r="object"),(0,i._check_dtype)(r);var t=new Int32Array(n.length),s=new i.ARRAY_TYPES[r](n.reduce((function(n,r){return n*r}),1)),f=0;function u(r){if(r===n.length)s[f++]=e.apply(void 0,(0,a["default"])(t));else for(t[r]=0;t[r]<n[r];t[r]++)u(r+1)}return u(0),new o.NDArray(n,s)}},45854:function(n,r,e){"use strict";e(21703),e(85827),e(48675),e(3462);var t=e(87654);Object.defineProperty(r,"__esModule",{value:!0}),r.zip_elems=l;var a=t(e(25069)),o=e(11882),i=e(30065);function s(n,r){var e;if("undefined"===typeof Symbol||null==n[Symbol.iterator]){if(Array.isArray(n)||(e=f(n))||r&&n&&"number"===typeof n.length){e&&(n=e);var t=0,a=function(){};return{s:a,n:function(){return t>=n.length?{done:!0}:{done:!1,value:n[t++]}},e:function(n){throw n},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,s=!1;return{s:function(){e=n[Symbol.iterator]()},n:function(){var n=e.next();return i=n.done,n},e:function(n){s=!0,o=n},f:function(){try{i||null==e["return"]||e["return"]()}finally{if(s)throw o}}}}function f(n,r){if(n){if("string"===typeof n)return u(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?u(n,r):void 0}}function u(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function l(n,r,e){if(null==e&&r instanceof Function&&(e=r,r=void 0),n instanceof Array||(n=(0,a["default"])(n)),n=n.map((function(n){return(0,i.asarray)(n)})),null==r&&(r="object"),null==e){if("object"!==r)throw new Error('If zip_fn is undefined, dtype must be "object" or undefined.');var t=n.length;e=function(){for(var n=arguments.length,r=new Array(n),e=0;e<n;e++)r[e]=arguments[e];return r.slice(0,t)}}(0,o._check_dtype)(r);var f,u=n.reduce((function(n,r){return Math.max(n,r.ndim)}),0),l=Int32Array.from({length:u},(function(){return 1})),c=s(n);try{for(c.s();!(f=c.n()).done;)for(var d=f.value,h=u,p=d.ndim;h-- >0&&p-- >0;)if(1===l[h])l[h]=d.shape[p];else if(l[h]!=d.shape[p]&&1!=d.shape[p])throw new Error("Shapes are not broadcast-compatible.")}catch(E){c.e(E)}finally{c.f()}var v=new Int32Array(u),w=new o.ARRAY_TYPES[r](l.reduce((function(n,r){return n*r}),1)),m=new Array(n.length),y=new Int32Array(n.length),g=new Int32Array(n.length),_=0;function b(r){if(r!==u){for(v[r]=0;;){if(b(r+1),++v[r]>=l[r])break;for(var t=n.length;t-- >0;)n[t].shape[r-u+n[t].ndim]>1||(y[t]-=g[t])}for(var o=n.length;o-- >0;)g[o]*=n[o].shape[r-u+n[o].ndim]||1}else{g.fill(1);for(var i=n.length;i-- >0;)m[i]=n[i].data[y[i]++];w[_++]=e.apply(void 0,m.concat((0,a["default"])(v)))}}return b(0),new i.NDArray(l,w)}},84118:function(n,r,e){e(21703),e(48675),e(3462),e(85827),function(r,e){n.exports=e()}(self,(function(){return(()=>{var n={453:(n,r,e)=>{"use strict";e.r(r),e.d(r,{InferenceSession:()=>p,Tensor:()=>d,env:()=>i,registerBackend:()=>o});const t={},a=[],o=(n,r,e)=>{if(!r||"function"!=typeof r.init||"function"!=typeof r.createSessionHandler)throw new TypeError("not a valid backend");{const o=t[n];if(void 0!==o){if(o.backend===r)return;throw new Error(`backend "${n}" is already registered`)}if(t[n]={backend:r,priority:e},e>=0){for(let r=0;r<a.length;r++)if(t[a[r]].priority<=e)return void a.splice(r,0,n);a.push(n)}}},i=new class{constructor(){this.wasm={},this.webgl={},this.logLevelInternal="warning"}set logLevel(n){if(void 0!==n){if("string"!=typeof n||-1===["verbose","info","warning","error","fatal"].indexOf(n))throw new Error(`Unsupported logging level: ${n}`);this.logLevelInternal=n}}get logLevel(){return this.logLevelInternal}},s="undefined"!=typeof BigInt64Array&&"function"==typeof BigInt64Array.from,f="undefined"!=typeof BigUint64Array&&"function"==typeof BigUint64Array.from,u=new Map([["float32",Float32Array],["uint8",Uint8Array],["int8",Int8Array],["uint16",Uint16Array],["int16",Int16Array],["int32",Int32Array],["bool",Uint8Array],["float64",Float64Array],["uint32",Uint32Array]]),l=new Map([[Float32Array,"float32"],[Uint8Array,"uint8"],[Int8Array,"int8"],[Uint16Array,"uint16"],[Int16Array,"int16"],[Int32Array,"int32"],[Float64Array,"float64"],[Uint32Array,"uint32"]]);s&&(u.set("int64",BigInt64Array),l.set(BigInt64Array,"int64")),f&&(u.set("uint64",BigUint64Array),l.set(BigUint64Array,"uint64"));class c{constructor(n,r,e){let t,a,o;if("string"==typeof n)if(t=n,o=e,"string"===n){if(!Array.isArray(r))throw new TypeError("A string tensor's data must be a string array.");a=r}else{const e=u.get(n);if(void 0===e)throw new TypeError(`Unsupported tensor type: ${n}.`);if(Array.isArray(r))a=e.from(r);else{if(!(r instanceof e))throw new TypeError(`A ${t} tensor's data must be type of ${e}`);a=r}}else if(o=r,Array.isArray(n)){if(0===n.length)throw new TypeError("Tensor type cannot be inferred from an empty array.");const r=typeof n[0];if("string"===r)t="string",a=n;else{if("boolean"!==r)throw new TypeError(`Invalid element type of data array: ${r}.`);t="bool",a=Uint8Array.from(n)}}else{const r=l.get(n.constructor);if(void 0===r)throw new TypeError(`Unsupported type for tensor data: ${n.constructor}.`);t=r,a=n}if(void 0===o)o=[a.length];else if(!Array.isArray(o))throw new TypeError("A tensor's dims must be a number array");const i=(n=>{let r=1;for(let e=0;e<n.length;e++){const t=n[e];if("number"!=typeof t||!Number.isSafeInteger(t))throw new TypeError(`dims[${e}] must be an integer, got: ${t}`);if(t<0)throw new RangeError(`dims[${e}] must be a non-negative integer, got: ${t}`);r*=t}return r})(o);if(i!==a.length)throw new Error(`Tensor's size(${i}) does not match data length(${a.length}).`);this.dims=o,this.type=t,this.data=a,this.size=i}reshape(n){return new c(this.type,this.data,n)}}const d=c;class h{constructor(n){this.handler=n}async run(n,r,e){const t={};let a={};if("object"!=typeof n||null===n||n instanceof d||Array.isArray(n))throw new TypeError("'feeds' must be an object that use input names as keys and OnnxValue as corresponding values.");let o=!0;if("object"==typeof r){if(null===r)throw new TypeError("Unexpected argument[1]: cannot be null.");if(r instanceof d)throw new TypeError("'fetches' cannot be a Tensor");if(Array.isArray(r)){if(0===r.length)throw new TypeError("'fetches' cannot be an empty array.");o=!1;for(const n of r){if("string"!=typeof n)throw new TypeError("'fetches' must be a string array or an object.");if(-1===this.outputNames.indexOf(n))throw new RangeError(`'fetches' contains invalid output name: ${n}.`);t[n]=null}if("object"==typeof e&&null!==e)a=e;else if(void 0!==e)throw new TypeError("'options' must be an object.")}else{let n=!1;const i=Object.getOwnPropertyNames(r);for(const e of this.outputNames)if(-1!==i.indexOf(e)){const a=r[e];(null===a||a instanceof d)&&(n=!0,o=!1,t[e]=a)}if(n){if("object"==typeof e&&null!==e)a=e;else if(void 0!==e)throw new TypeError("'options' must be an object.")}else a=r}}else if(void 0!==r)throw new TypeError("Unexpected argument[1]: must be 'fetches' or 'options'.");for(const f of this.inputNames)if(void 0===n[f])throw new Error(`input '${f}' is missing in 'feeds'.`);if(o)for(const f of this.outputNames)t[f]=null;const i=await this.handler.run(n,t,a),s={};for(const f in i)Object.hasOwnProperty.call(i,f)&&(s[f]=new d(i[f].type,i[f].data,i[f].dims));return s}static async create(n,r,e,o){let i,s={};if("string"==typeof n){if(i=n,"object"==typeof r&&null!==r)s=r;else if(void 0!==r)throw new TypeError("'options' must be an object.")}else if(n instanceof Uint8Array){if(i=n,"object"==typeof r&&null!==r)s=r;else if(void 0!==r)throw new TypeError("'options' must be an object.")}else{if(!(n instanceof ArrayBuffer||"undefined"!=typeof SharedArrayBuffer&&n instanceof SharedArrayBuffer))throw new TypeError("Unexpected argument[0]: must be 'path' or 'buffer'.");{const t=n;let a=0,f=n.byteLength;if("object"==typeof r&&null!==r)s=r;else if("number"==typeof r){if(a=r,!Number.isSafeInteger(a))throw new RangeError("'byteOffset' must be an integer.");if(a<0||a>=t.byteLength)throw new RangeError(`'byteOffset' is out of range [0, ${t.byteLength}).`);if(f=n.byteLength-a,"number"==typeof e){if(f=e,!Number.isSafeInteger(f))throw new RangeError("'byteLength' must be an integer.");if(f<=0||a+f>t.byteLength)throw new RangeError(`'byteLength' is out of range (0, ${t.byteLength-a}].`);if("object"==typeof o&&null!==o)s=o;else if(void 0!==o)throw new TypeError("'options' must be an object.")}else if(void 0!==e)throw new TypeError("'byteLength' must be a number.")}else if(void 0!==r)throw new TypeError("'options' must be an object.");i=new Uint8Array(t,a,f)}}const f=(s.executionProviders||[]).map((n=>"string"==typeof n?n:n.name)),u=await(async n=>{const r=0===n.length?a:n,e=[];for(const a of r){const n=t[a];if(n){if(n.initialized)return n.backend;if(n.initializing)throw new Error(`backend "${a}" is being initialized; cannot initialize multiple times.`);if(n.aborted)continue;try{return n.initializing=!0,await n.backend.init(),n.initialized=!0,n.backend}catch(t){e.push({name:a,err:t}),n.aborted=!0}finally{n.initializing=!1}}}throw new Error(`no available backend found. ERR: ${e.map((n=>`[${n.name}] ${n.err}`)).join(", ")}`)})(f),l=await u.createSessionHandler(i,s);return new h(l)}startProfiling(){this.handler.startProfiling()}endProfiling(){this.handler.endProfiling()}get inputNames(){return this.handler.inputNames}get outputNames(){return this.handler.outputNames}}const p=h},932:(n,r,e)=>{var t,a=(t=(t="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0)||"/index.js",function(n){var r,a,o;n=n||{},r||(r=void 0!==n?n:{}),r.ready=new Promise((function(n,r){a=n,o=r}));var i,s={};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);var f,u,l,c,d,h="./this.program",p="object"==typeof window,v="function"==typeof importScripts,w="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,m="";w?(m=v?e(908).dirname(m)+"/":"//",f=function(n,r){return c||(c=e(384)),d||(d=e(908)),n=d.normalize(n),c.readFileSync(n,r?null:"utf8")},l=function(n){return(n=f(n,!0)).buffer||(n=new Uint8Array(n)),n.buffer||G("Assertion failed: undefined"),n},u=function(n,r,t){c||(c=e(384)),d||(d=e(908)),n=d.normalize(n),c.readFile(n,(function(n,e){n?t(n):r(e.buffer)}))},1<process.argv.length&&(h=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),process.on("uncaughtException",(function(n){throw n})),process.on("unhandledRejection",G),r.inspect=function(){return"[Emscripten Module object]"}):(p||v)&&(v?m=self.location.href:"undefined"!=typeof document&&document.currentScript&&(m=document.currentScript.src),t&&(m=t),m=0!==m.indexOf("blob:")?m.substr(0,m.lastIndexOf("/")+1):"",f=function(n){var r=new XMLHttpRequest;return r.open("GET",n,!1),r.send(null),r.responseText},v&&(l=function(n){var r=new XMLHttpRequest;return r.open("GET",n,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),u=function(n,r,e){var t=new XMLHttpRequest;t.open("GET",n,!0),t.responseType="arraybuffer",t.onload=function(){200==t.status||0==t.status&&t.response?r(t.response):e()},t.onerror=e,t.send(null)});var y,g=r.print||console.log.bind(console),_=r.printErr||console.warn.bind(console);for(i in s)s.hasOwnProperty(i)&&(r[i]=s[i]);s=null,r.thisProgram&&(h=r.thisProgram),r.wasmBinary&&(y=r.wasmBinary),r.noExitRuntime,"object"!=typeof WebAssembly&&G("no native wasm support detected");var b,E,A,x,M,k=!1,P="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function S(n,r,e){var t=r+e;for(e=r;n[e]&&!(e>=t);)++e;if(16<e-r&&n.subarray&&P)return P.decode(n.subarray(r,e));for(t="";r<e;){var a=n[r++];if(128&a){var o=63&n[r++];if(192==(224&a))t+=String.fromCharCode((31&a)<<6|o);else{var i=63&n[r++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&n[r++])?t+=String.fromCharCode(a):(a-=65536,t+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else t+=String.fromCharCode(a)}return t}function O(n,r){return n?S(x,n,r):""}function N(n,r,e,t){if(!(0<t))return 0;var a=e;t=e+t-1;for(var o=0;o<n.length;++o){var i=n.charCodeAt(o);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&n.charCodeAt(++o)),127>=i){if(e>=t)break;r[e++]=i}else{if(2047>=i){if(e+1>=t)break;r[e++]=192|i>>6}else{if(65535>=i){if(e+2>=t)break;r[e++]=224|i>>12}else{if(e+3>=t)break;r[e++]=240|i>>18,r[e++]=128|i>>12&63}r[e++]=128|i>>6&63}r[e++]=128|63&i}}return r[e]=0,e-a}function j(n){for(var r=0,e=0;e<n.length;++e){var t=n.charCodeAt(e);55296<=t&&57343>=t&&(t=65536+((1023&t)<<10)|1023&n.charCodeAt(++e)),127>=t?++r:r=2047>=t?r+2:65535>=t?r+3:r+4}return r}function F(n){var r=j(n)+1,e=pn(r);return e&&N(n,A,e,r),e}function R(){var n=b.buffer;E=n,r.HEAP8=A=new Int8Array(n),r.HEAP16=new Int16Array(n),r.HEAP32=M=new Int32Array(n),r.HEAPU8=x=new Uint8Array(n),r.HEAPU16=new Uint16Array(n),r.HEAPU32=new Uint32Array(n),r.HEAPF32=new Float32Array(n),r.HEAPF64=new Float64Array(n)}var D,T=[],I=[],L=[],C=[];function q(){var n=r.preRun.shift();T.unshift(n)}var U,Y=0,z=null,B=null;function G(n){throw r.onAbort&&r.onAbort(n),_(n),k=!0,n=new WebAssembly.RuntimeError("abort("+n+"). Build with -s ASSERTIONS=1 for more info."),o(n),n}function V(){return U.startsWith("data:application/octet-stream;base64,")}if(r.preloadedImages={},r.preloadedAudios={},U="ort-wasm.wasm",!V()){var $=U;U=r.locateFile?r.locateFile($,m):m+$}function X(){var n=U;try{if(n==U&&y)return new Uint8Array(y);if(l)return l(n);throw"both async and sync fetching of the wasm failed"}catch(n){G(n)}}function W(n){for(;0<n.length;){var e=n.shift();if("function"==typeof e)e(r);else{var t=e.Ea;"number"==typeof t?void 0===e.xa?D.get(t)():D.get(t)(e.xa):t(void 0===e.xa?null:e.xa)}}}function J(n){this.ya=n-16,this.Na=function(n){M[this.ya+4>>2]=n},this.Ka=function(n){M[this.ya+8>>2]=n},this.La=function(){M[this.ya>>2]=0},this.Ja=function(){A[this.ya+12>>0]=0},this.Ma=function(){A[this.ya+13>>0]=0},this.Ga=function(n,r){this.Na(n),this.Ka(r),this.La(),this.Ja(),this.Ma()}}var H,Q={},K=[null,[],[]],Z={};H=w?function(){var n=process.hrtime();return 1e3*n[0]+n[1]/1e6}:function(){return performance.now()};var nn,rn,en={};function tn(){if(!nn){var n,r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:h||"./this.program"};for(n in en)void 0===en[n]?delete r[n]:r[n]=en[n];var e=[];for(n in r)e.push(n+"="+r[n]);nn=e}return nn}function an(){function n(n){return(n=n.toTimeString().match(/\(([A-Za-z ]+)\)$/))?n[1]:"GMT"}if(!rn){rn=!0;var r=(new Date).getFullYear(),e=new Date(r,0,1),t=new Date(r,6,1);r=e.getTimezoneOffset();var a=t.getTimezoneOffset(),o=Math.max(r,a);M[gn()>>2]=60*o,M[yn()>>2]=Number(r!=a),e=n(e),t=n(t),e=F(e),t=F(t),a<r?(M[mn()>>2]=e,M[mn()+4>>2]=t):(M[mn()>>2]=t,M[mn()+4>>2]=e)}}function on(n){return 0==n%4&&(0!=n%100||0==n%400)}function sn(n,r){for(var e=0,t=0;t<=r;e+=n[t++]);return e}var fn=[31,29,31,30,31,30,31,31,30,31,30,31],un=[31,28,31,30,31,30,31,31,30,31,30,31];function ln(n,r){for(n=new Date(n.getTime());0<r;){var e=n.getMonth(),t=(on(n.getFullYear())?fn:un)[e];if(!(r>t-n.getDate())){n.setDate(n.getDate()+r);break}r-=t-n.getDate()+1,n.setDate(1),11>e?n.setMonth(e+1):(n.setMonth(0),n.setFullYear(n.getFullYear()+1))}return n}function cn(n,r,e,t){function a(n,r,e){for(n="number"==typeof n?n.toString():n||"";n.length<r;)n=e[0]+n;return n}function o(n,r){return a(n,r,"0")}function i(n,r){function e(n){return 0>n?-1:0<n?1:0}var t;return 0===(t=e(n.getFullYear()-r.getFullYear()))&&0===(t=e(n.getMonth()-r.getMonth()))&&(t=e(n.getDate()-r.getDate())),t}function s(n){switch(n.getDay()){case 0:return new Date(n.getFullYear()-1,11,29);case 1:return n;case 2:return new Date(n.getFullYear(),0,3);case 3:return new Date(n.getFullYear(),0,2);case 4:return new Date(n.getFullYear(),0,1);case 5:return new Date(n.getFullYear()-1,11,31);case 6:return new Date(n.getFullYear()-1,11,30)}}function f(n){n=ln(new Date(n.va+1900,0,1),n.Ca);var r=new Date(n.getFullYear()+1,0,4),e=s(new Date(n.getFullYear(),0,4));return r=s(r),0>=i(e,n)?0>=i(r,n)?n.getFullYear()+1:n.getFullYear():n.getFullYear()-1}var u=M[t+40>>2];for(var l in t={Qa:M[t>>2],Pa:M[t+4>>2],Aa:M[t+8>>2],za:M[t+12>>2],wa:M[t+16>>2],va:M[t+20>>2],Ba:M[t+24>>2],Ca:M[t+28>>2],Ya:M[t+32>>2],Oa:M[t+36>>2],Ra:u?O(u):""},e=O(e),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})e=e.replace(new RegExp(l,"g"),u[l]);var c="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),d="January February March April May June July August September October November December".split(" ");for(l in u={"%a":function(n){return c[n.Ba].substring(0,3)},"%A":function(n){return c[n.Ba]},"%b":function(n){return d[n.wa].substring(0,3)},"%B":function(n){return d[n.wa]},"%C":function(n){return o((n.va+1900)/100|0,2)},"%d":function(n){return o(n.za,2)},"%e":function(n){return a(n.za,2," ")},"%g":function(n){return f(n).toString().substring(2)},"%G":function(n){return f(n)},"%H":function(n){return o(n.Aa,2)},"%I":function(n){return 0==(n=n.Aa)?n=12:12<n&&(n-=12),o(n,2)},"%j":function(n){return o(n.za+sn(on(n.va+1900)?fn:un,n.wa-1),3)},"%m":function(n){return o(n.wa+1,2)},"%M":function(n){return o(n.Pa,2)},"%n":function(){return"\n"},"%p":function(n){return 0<=n.Aa&&12>n.Aa?"AM":"PM"},"%S":function(n){return o(n.Qa,2)},"%t":function(){return"\t"},"%u":function(n){return n.Ba||7},"%U":function(n){var r=new Date(n.va+1900,0,1),e=0===r.getDay()?r:ln(r,7-r.getDay());return 0>i(e,n=new Date(n.va+1900,n.wa,n.za))?o(Math.ceil((31-e.getDate()+(sn(on(n.getFullYear())?fn:un,n.getMonth()-1)-31)+n.getDate())/7),2):0===i(e,r)?"01":"00"},"%V":function(n){var r=new Date(n.va+1901,0,4),e=s(new Date(n.va+1900,0,4));r=s(r);var t=ln(new Date(n.va+1900,0,1),n.Ca);return 0>i(t,e)?"53":0>=i(r,t)?"01":o(Math.ceil((e.getFullYear()<n.va+1900?n.Ca+32-e.getDate():n.Ca+1-e.getDate())/7),2)},"%w":function(n){return n.Ba},"%W":function(n){var r=new Date(n.va,0,1),e=1===r.getDay()?r:ln(r,0===r.getDay()?1:7-r.getDay()+1);return 0>i(e,n=new Date(n.va+1900,n.wa,n.za))?o(Math.ceil((31-e.getDate()+(sn(on(n.getFullYear())?fn:un,n.getMonth()-1)-31)+n.getDate())/7),2):0===i(e,r)?"01":"00"},"%y":function(n){return(n.va+1900).toString().substring(2)},"%Y":function(n){return n.va+1900},"%z":function(n){var r=0<=(n=n.Oa);return n=Math.abs(n)/60,(r?"+":"-")+String("0000"+(n/60*100+n%60)).slice(-4)},"%Z":function(n){return n.Ra},"%%":function(){return"%"}})e.includes(l)&&(e=e.replace(new RegExp(l,"g"),u[l](t)));return l=function(n){var r=Array(j(n)+1);return N(n,r,0,r.length),r}(e),l.length>r?0:(A.set(l,n),l.length-1)}var dn={a:function(n){return pn(n+16)+16},c:function(n,r){L.unshift({Ea:n,xa:r})},d:function(n,r){L.unshift({Ea:n,xa:r})},b:function(n,r,e){throw new J(n).Ga(r,e),n},D:function(n,r){return n=O(n),Z.Sa(n,r)},m:function(){return 0},I:function(){},L:function(){},o:function(){return 42},x:function(){return 0},H:function(){},G:function(n,r){return n=O(n),Z.Ta(n,r)},K:function(n,r,e,t,a,o){if(o<<=12,0!=(16&t)&&0!=n%65536)r=-28;else if(0!=(32&t)){n=65536*Math.ceil(r/65536);var i=An(65536,n);i?(x.fill(0,i,i+n),n=i):n=0,n?(Q[n]={Ia:n,Ha:r,Fa:!0,fd:a,Xa:e,flags:t,offset:o},r=n):r=-48}else r=-52;return r},J:function(n,r){var e=Q[n];return 0!==r&&e?(r===e.Ha&&(Q[n]=null,e.Fa&&wn(e.Ia)),n=0):n=-28,n},j:function(){},C:function(n,r,e){return n=O(n),Z.Ua(n,r,e)},E:function(){},r:function(){},F:function(){},h:function(){G()},p:function(n,r){if(0===n)n=Date.now();else{if(1!==n&&4!==n)return M[vn()>>2]=28,-1;n=H()}return M[r>>2]=n/1e3|0,M[r+4>>2]=n%1e3*1e6|0,0},s:function(n,r){return n-r},P:function(){G("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},g:function(){G("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},Q:function(){G("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},O:function(){G("To use dlopen, you need to use Emscripten's linking support, see https://github.com/emscripten-core/emscripten/wiki/Linking")},M:function(){return 2147483648},v:function(n,r,e){x.copyWithin(n,r,r+e)},i:function(n){var r=x.length;if(2147483648<(n>>>=0))return!1;for(var e=1;4>=e;e*=2){var t=r*(1+.2/e);t=Math.min(t,n+100663296),0<(t=Math.max(n,t))%65536&&(t+=65536-t%65536);n:{try{b.grow(Math.min(2147483648,t)-E.byteLength+65535>>>16),R();var a=1;break n}catch(n){}a=void 0}if(a)return!0}return!1},B:function(n){for(var r=H();H()-r<n;);},z:function(n,r){var e=0;return tn().forEach((function(t,a){var o=r+e;for(a=M[n+4*a>>2]=o,o=0;o<t.length;++o)A[a++>>0]=t.charCodeAt(o);A[a>>0]=0,e+=t.length+1})),0},A:function(n,r){var e=tn();M[n>>2]=e.length;var t=0;return e.forEach((function(n){t+=n.length+1})),M[r>>2]=t,0},f:function(){return 0},y:function(n,r){return n=1==n||2==n?2:G(),A[r>>0]=n,0},n:function(n,r,e,t){return n=Z.Wa(n),r=Z.Va(n,r,e),M[t>>2]=r,0},u:function(){},q:function(n,r,e,t){for(var a=0,o=0;o<e;o++){for(var i=M[r+8*o>>2],s=M[r+(8*o+4)>>2],f=0;f<s;f++){var u=x[i+f],l=K[n];0===u||10===u?((1===n?g:_)(S(l,0)),l.length=0):l.push(u)}a+=s}return M[t>>2]=a,0},w:function(n){var r=Date.now();return M[n>>2]=r/1e3|0,M[n+4>>2]=r%1e3*1e3|0,0},t:function n(r,e){return r=new Date(1e3*M[r>>2]),M[e>>2]=r.getUTCSeconds(),M[e+4>>2]=r.getUTCMinutes(),M[e+8>>2]=r.getUTCHours(),M[e+12>>2]=r.getUTCDate(),M[e+16>>2]=r.getUTCMonth(),M[e+20>>2]=r.getUTCFullYear()-1900,M[e+24>>2]=r.getUTCDay(),M[e+36>>2]=0,M[e+32>>2]=0,M[e+28>>2]=(r.getTime()-Date.UTC(r.getUTCFullYear(),0,1,0,0,0,0))/864e5|0,n.Da||(n.Da=F("GMT")),M[e+40>>2]=n.Da,e},l:function(n,r){an(),n=new Date(1e3*M[n>>2]),M[r>>2]=n.getSeconds(),M[r+4>>2]=n.getMinutes(),M[r+8>>2]=n.getHours(),M[r+12>>2]=n.getDate(),M[r+16>>2]=n.getMonth(),M[r+20>>2]=n.getFullYear()-1900,M[r+24>>2]=n.getDay();var e=new Date(n.getFullYear(),0,1);M[r+28>>2]=(n.getTime()-e.getTime())/864e5|0,M[r+36>>2]=-60*n.getTimezoneOffset();var t=new Date(n.getFullYear(),6,1).getTimezoneOffset();return n=0|(t!=(e=e.getTimezoneOffset())&&n.getTimezoneOffset()==Math.min(e,t)),M[r+32>>2]=n,n=M[mn()+(n?4:0)>>2],M[r+40>>2]=n,r},k:function(n){an();var r=new Date(M[n+20>>2]+1900,M[n+16>>2],M[n+12>>2],M[n+8>>2],M[n+4>>2],M[n>>2],0),e=M[n+32>>2],t=r.getTimezoneOffset(),a=new Date(r.getFullYear(),0,1),o=new Date(r.getFullYear(),6,1).getTimezoneOffset(),i=a.getTimezoneOffset(),s=Math.min(i,o);return 0>e?M[n+32>>2]=Number(o!=i&&s==t):0<e!=(s==t)&&(o=Math.max(i,o),r.setTime(r.getTime()+6e4*((0<e?s:o)-t))),M[n+24>>2]=r.getDay(),M[n+28>>2]=(r.getTime()-a.getTime())/864e5|0,M[n>>2]=r.getSeconds(),M[n+4>>2]=r.getMinutes(),M[n+8>>2]=r.getHours(),M[n+12>>2]=r.getDate(),M[n+16>>2]=r.getMonth(),r.getTime()/1e3|0},N:cn,e:function(n,r,e,t){return cn(n,r,e,t)}};!function(){function n(n){r.asm=n.exports,b=r.asm.R,R(),D=r.asm.ua,I.unshift(r.asm.S),Y--,r.monitorRunDependencies&&r.monitorRunDependencies(Y),0==Y&&(null!==z&&(clearInterval(z),z=null),B&&(n=B,B=null,n()))}function e(r){n(r.instance)}function t(n){return function(){if(!y&&(p||v)){if("function"==typeof fetch&&!U.startsWith("file://"))return fetch(U,{credentials:"same-origin"}).then((function(n){if(!n.ok)throw"failed to load wasm binary file at '"+U+"'";return n.arrayBuffer()})).catch((function(){return X()}));if(u)return new Promise((function(n,r){u(U,(function(r){n(new Uint8Array(r))}),r)}))}return Promise.resolve().then((function(){return X()}))}().then((function(n){return WebAssembly.instantiate(n,a)})).then(n,(function(n){_("failed to asynchronously prepare wasm: "+n),G(n)}))}var a={a:dn};if(Y++,r.monitorRunDependencies&&r.monitorRunDependencies(Y),r.instantiateWasm)try{return r.instantiateWasm(a,n)}catch(n){return _("Module.instantiateWasm callback failed with error: "+n),!1}(y||"function"!=typeof WebAssembly.instantiateStreaming||V()||U.startsWith("file://")||"function"!=typeof fetch?t(e):fetch(U,{credentials:"same-origin"}).then((function(n){return WebAssembly.instantiateStreaming(n,a).then(e,(function(n){return _("wasm streaming compile failed: "+n),_("falling back to ArrayBuffer instantiation"),t(e)}))}))).catch(o)}(),r.___wasm_call_ctors=function(){return(r.___wasm_call_ctors=r.asm.S).apply(null,arguments)},r._OrtInit=function(){return(r._OrtInit=r.asm.T).apply(null,arguments)},r._OrtCreateSessionOptions=function(){return(r._OrtCreateSessionOptions=r.asm.U).apply(null,arguments)},r._OrtAddSessionConfigEntry=function(){return(r._OrtAddSessionConfigEntry=r.asm.V).apply(null,arguments)},r._OrtReleaseSessionOptions=function(){return(r._OrtReleaseSessionOptions=r.asm.W).apply(null,arguments)},r._OrtCreateSession=function(){return(r._OrtCreateSession=r.asm.X).apply(null,arguments)},r._OrtReleaseSession=function(){return(r._OrtReleaseSession=r.asm.Y).apply(null,arguments)},r._OrtGetInputCount=function(){return(r._OrtGetInputCount=r.asm.Z).apply(null,arguments)},r._OrtGetOutputCount=function(){return(r._OrtGetOutputCount=r.asm._).apply(null,arguments)},r._OrtGetInputName=function(){return(r._OrtGetInputName=r.asm.$).apply(null,arguments)},r._OrtGetOutputName=function(){return(r._OrtGetOutputName=r.asm.aa).apply(null,arguments)},r._OrtFree=function(){return(r._OrtFree=r.asm.ba).apply(null,arguments)},r._OrtCreateTensor=function(){return(r._OrtCreateTensor=r.asm.ca).apply(null,arguments)},r._OrtGetTensorData=function(){return(r._OrtGetTensorData=r.asm.da).apply(null,arguments)},r._OrtReleaseTensor=function(){return(r._OrtReleaseTensor=r.asm.ea).apply(null,arguments)},r._OrtCreateRunOptions=function(){return(r._OrtCreateRunOptions=r.asm.fa).apply(null,arguments)},r._OrtAddRunConfigEntry=function(){return(r._OrtAddRunConfigEntry=r.asm.ga).apply(null,arguments)},r._OrtReleaseRunOptions=function(){return(r._OrtReleaseRunOptions=r.asm.ha).apply(null,arguments)},r._OrtRun=function(){return(r._OrtRun=r.asm.ia).apply(null,arguments)},r._OrtEndProfiling=function(){return(r._OrtEndProfiling=r.asm.ja).apply(null,arguments)};var hn,pn=r._malloc=function(){return(pn=r._malloc=r.asm.ka).apply(null,arguments)},vn=r.___errno_location=function(){return(vn=r.___errno_location=r.asm.la).apply(null,arguments)},wn=r._free=function(){return(wn=r._free=r.asm.ma).apply(null,arguments)},mn=r.__get_tzname=function(){return(mn=r.__get_tzname=r.asm.na).apply(null,arguments)},yn=r.__get_daylight=function(){return(yn=r.__get_daylight=r.asm.oa).apply(null,arguments)},gn=r.__get_timezone=function(){return(gn=r.__get_timezone=r.asm.pa).apply(null,arguments)},_n=r.stackSave=function(){return(_n=r.stackSave=r.asm.qa).apply(null,arguments)},bn=r.stackRestore=function(){return(bn=r.stackRestore=r.asm.ra).apply(null,arguments)},En=r.stackAlloc=function(){return(En=r.stackAlloc=r.asm.sa).apply(null,arguments)},An=r._memalign=function(){return(An=r._memalign=r.asm.ta).apply(null,arguments)};function xn(){function n(){if(!hn&&(hn=!0,r.calledRun=!0,!k)){if(W(I),a(r),r.onRuntimeInitialized&&r.onRuntimeInitialized(),r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;){var n=r.postRun.shift();C.unshift(n)}W(C)}}if(!(0<Y)){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)q();W(T),0<Y||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),n()}),1)):n())}}if(r.UTF8ToString=O,r.stringToUTF8=function(n,r,e){return N(n,x,r,e)},r.lengthBytesUTF8=j,r.stackSave=_n,r.stackRestore=bn,r.stackAlloc=En,B=function n(){hn||xn(),hn||(B=n)},r.run=xn,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);0<r.preInit.length;)r.preInit.pop()();return xn(),n.ready});n.exports=a},200:(n,r,e)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.wasmBackend=r.initializeFlags=void 0;const t=e(203),a=e(453),o=e(381),i=e(22),s=e(157),f=e(306);r.initializeFlags=()=>{if(("number"!=typeof a.env.wasm.initTimeout||a.env.wasm.initTimeout<0)&&(a.env.wasm.initTimeout=0),"boolean"!=typeof a.env.wasm.simd&&(a.env.wasm.simd=!0),"boolean"!=typeof a.env.wasm.proxy&&(a.env.wasm.proxy=!1),"number"!=typeof a.env.wasm.numThreads||!Number.isInteger(a.env.wasm.numThreads)||a.env.wasm.numThreads<=0){const n="undefined"==typeof navigator?o.cpus().length:navigator.hardwareConcurrency;a.env.wasm.numThreads=Math.min(4,Math.ceil((n||1)/2))}},r.wasmBackend=new class{async init(){r.initializeFlags(),await s.initWasm()}async createSessionHandler(n,r){let e;if("string"==typeof n)if("undefined"==typeof fetch)e=await i.promisify(t.readFile)(n);else{const r=await fetch(n),t=await r.arrayBuffer();e=new Uint8Array(t)}else e=n;const a=new f.OnnxruntimeWebAssemblySessionHandler;return await a.loadModel(e,r),Promise.resolve(a)}}},18:function(n,r,e){"use strict";var t=this&&this.__createBinding||(Object.create?function(n,r,e,t){void 0===t&&(t=e),Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[e]}})}:function(n,r,e,t){void 0===t&&(t=e),n[t]=r[e]}),a=this&&this.__exportStar||function(n,r){for(var e in n)"default"===e||Object.prototype.hasOwnProperty.call(r,e)||t(r,n,e)};Object.defineProperty(r,"__esModule",{value:!0}),a(e(453),r);const o=e(453);{const n=e(200).wasmBackend;o.registerBackend("wasm",n,0)}},967:(n,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.iterateExtraOptions=void 0,r.iterateExtraOptions=(n,e,t,a)=>{if("object"==typeof n&&null!==n){if(t.has(n))throw new Error("Circular reference in options");t.add(n)}Object.entries(n).forEach((([n,o])=>{const i=e?e+n:n;if("object"==typeof o)r.iterateExtraOptions(o,i+".",t,a);else if("string"==typeof o||"number"==typeof o)a(i,o.toString());else{if("boolean"!=typeof o)throw new Error("Can't handle extra config type: "+typeof o);a(i,o?"1":"0")}}))}},157:function(n,r,e){"use strict";var t,a=this&&this.__createBinding||(Object.create?function(n,r,e,t){void 0===t&&(t=e),Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[e]}})}:function(n,r,e,t){void 0===t&&(t=e),n[t]=r[e]}),o=this&&this.__setModuleDefault||(Object.create?function(n,r){Object.defineProperty(n,"default",{enumerable:!0,value:r})}:function(n,r){n.default=r}),i=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var e in n)"default"!==e&&Object.prototype.hasOwnProperty.call(n,e)&&a(r,n,e);return o(r,n),r};Object.defineProperty(r,"__esModule",{value:!0}),r.endProfiling=r.run=r.releaseSession=r.createSession=r.initOrt=r.initWasm=void 0;const s=e(453),f=i(e(349)),u=e(361);"undefined"!=typeof document&&(null===(t=null===document||void 0===document?void 0:document.currentScript)||void 0===t||t.src),r.initWasm=async()=>u.initializeWebAssembly(s.env.wasm),r.initOrt=async(n,r)=>{f.initOrt(n,r)},r.createSession=async(n,r)=>f.createSession(n,r),r.releaseSession=async n=>{f.releaseSession(n)},r.run=async(n,r,e,t,a)=>f.run(n,r,e,t,a),r.endProfiling=async n=>{f.endProfiling(n)}},586:(n,r,e)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setRunOptions=void 0;const t=e(967),a=e(983),o=e(361);r.setRunOptions=n=>{const r=o.getInstance();let e=0;const i=[],s=n||{};try{if(void 0===(null==n?void 0:n.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof n.logSeverityLevel||!Number.isInteger(n.logSeverityLevel)||n.logSeverityLevel<0||n.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${n.logSeverityLevel}`);if(void 0===(null==n?void 0:n.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof n.logVerbosityLevel||!Number.isInteger(n.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${n.logVerbosityLevel}`);void 0===(null==n?void 0:n.terminate)&&(s.terminate=!1);let o=0;if(void 0!==(null==n?void 0:n.tag)&&(o=a.allocWasmString(n.tag,i)),e=r._OrtCreateRunOptions(s.logSeverityLevel,s.logVerbosityLevel,!!s.terminate,o),0===e)throw new Error("Can't create run options");return void 0!==(null==n?void 0:n.extra)&&t.iterateExtraOptions(n.extra,"",new WeakSet,((n,t)=>{const o=a.allocWasmString(n,i),s=a.allocWasmString(t,i);if(0!==r._OrtAddRunConfigEntry(e,o,s))throw new Error(`Can't set a run config entry: ${n} - ${t}`)})),[e,i]}catch(n){throw 0!==e&&r._OrtReleaseRunOptions(e),i.forEach(r._free),n}}},306:(n,r,e)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OnnxruntimeWebAssemblySessionHandler=void 0;const t=e(453),a=e(157);let o;r.OnnxruntimeWebAssemblySessionHandler=class{async loadModel(n,r){o||(await a.initOrt(t.env.wasm.numThreads,(n=>{switch(n){case"verbose":return 0;case"info":return 1;case"warning":return 2;case"error":return 3;case"fatal":return 4;default:throw new Error(`unsupported logging level: ${n}`)}})(t.env.logLevel)),o=!0),[this.sessionId,this.inputNames,this.outputNames]=await a.createSession(n,r)}async dispose(){return a.releaseSession(this.sessionId)}async run(n,r,e){const o=[],i=[];Object.entries(n).forEach((n=>{const r=n[0],e=n[1],t=this.inputNames.indexOf(r);if(-1===t)throw new Error(`invalid input '${r}'`);o.push(e),i.push(t)}));const s=[];Object.entries(r).forEach((n=>{const r=n[0],e=this.outputNames.indexOf(r);if(-1===e)throw new Error(`invalid output '${r}'`);s.push(e)}));const f=await a.run(this.sessionId,i,o.map((n=>[n.type,n.dims,n.data])),s,e),u={};for(let a=0;a<f.length;a++)u[this.outputNames[s[a]]]=new t.Tensor(f[a][0],f[a][2],f[a][1]);return u}startProfiling(){}endProfiling(){a.endProfiling(this.sessionId)}}},919:(n,r,e)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setSessionOptions=void 0;const t=e(967),a=e(983),o=e(361);r.setSessionOptions=n=>{const r=o.getInstance();let e=0;const i=[],s=n||{};(n=>{n.extra||(n.extra={}),n.extra.session||(n.extra.session={});const r=n.extra.session;r.use_ort_model_bytes_directly||(r.use_ort_model_bytes_directly="1")})(s);try{void 0===(null==n?void 0:n.graphOptimizationLevel)&&(s.graphOptimizationLevel="all");const o=(n=>{switch(n){case"disabled":return 0;case"basic":return 1;case"extended":return 2;case"all":return 99;default:throw new Error(`unsupported graph optimization level: ${n}`)}})(s.graphOptimizationLevel);void 0===(null==n?void 0:n.enableCpuMemArena)&&(s.enableCpuMemArena=!0),void 0===(null==n?void 0:n.enableMemPattern)&&(s.enableMemPattern=!0),void 0===(null==n?void 0:n.executionMode)&&(s.executionMode="sequential");const f=(n=>{switch(n){case"sequential":return 0;case"parallel":return 1;default:throw new Error(`unsupported execution mode: ${n}`)}})(s.executionMode);let u=0;if(void 0!==(null==n?void 0:n.logId)&&(u=a.allocWasmString(n.logId,i)),void 0===(null==n?void 0:n.logSeverityLevel))s.logSeverityLevel=2;else if("number"!=typeof n.logSeverityLevel||!Number.isInteger(n.logSeverityLevel)||n.logSeverityLevel<0||n.logSeverityLevel>4)throw new Error(`log serverity level is not valid: ${n.logSeverityLevel}`);if(void 0===(null==n?void 0:n.logVerbosityLevel))s.logVerbosityLevel=0;else if("number"!=typeof n.logVerbosityLevel||!Number.isInteger(n.logVerbosityLevel))throw new Error(`log verbosity level is not valid: ${n.logVerbosityLevel}`);if(void 0===(null==n?void 0:n.enableProfiling)&&(s.enableProfiling=!1),e=r._OrtCreateSessionOptions(o,!!s.enableCpuMemArena,!!s.enableMemPattern,f,!!s.enableProfiling,0,u,s.logSeverityLevel,s.logVerbosityLevel),0===e)throw new Error("Can't create session options");return void 0!==(null==n?void 0:n.extra)&&t.iterateExtraOptions(n.extra,"",new WeakSet,((n,t)=>{const o=a.allocWasmString(n,i),s=a.allocWasmString(t,i);if(0!==r._OrtAddSessionConfigEntry(e,o,s))throw new Error(`Can't set a session config entry: ${n} - ${t}`)})),[e,i]}catch(n){throw 0!==e&&r._OrtReleaseSessionOptions(e),i.forEach(r._free),n}}},983:(n,r,e)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.allocWasmString=void 0;const t=e(361);r.allocWasmString=(n,r)=>{const e=t.getInstance(),a=e.lengthBytesUTF8(n)+1,o=e._malloc(a);return e.stringToUTF8(n,o,a),r.push(o),o}},349:(n,r,e)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.extractTransferableBuffers=r.endProfiling=r.run=r.releaseSession=r.createSession=r.initOrt=void 0;const t=e(586),a=e(919),o=e(983),i=e(361);r.initOrt=(n,r)=>{const e=i.getInstance()._OrtInit(n,r);if(0!==e)throw new Error(`Can't initialize onnxruntime. error code = ${e}`)};const s=new Map;r.createSession=(n,r)=>{const e=i.getInstance(),t=e._malloc(n.byteLength);let o=0,f=0,u=[];try{if([f,u]=a.setSessionOptions(r),e.HEAPU8.set(n,t),o=e._OrtCreateSession(t,n.byteLength,f),0===o)throw new Error("Can't create a session")}finally{e._free(t),e._OrtReleaseSessionOptions(f),u.forEach(e._free)}const l=e._OrtGetInputCount(o),c=e._OrtGetOutputCount(o),d=[],h=[],p=[],v=[];for(let a=0;a<l;a++){const n=e._OrtGetInputName(o,a);if(0===n)throw new Error("Can't get an input name");h.push(n),d.push(e.UTF8ToString(n))}for(let a=0;a<c;a++){const n=e._OrtGetOutputName(o,a);if(0===n)throw new Error("Can't get an output name");v.push(n),p.push(e.UTF8ToString(n))}return s.set(o,[o,h,v]),[o,d,p]},r.releaseSession=n=>{const r=i.getInstance(),e=s.get(n);if(!e)throw new Error("invalid session id");const t=e[0],a=e[1],o=e[2];a.forEach(r._OrtFree),o.forEach(r._OrtFree),r._OrtReleaseSession(t),s.delete(n)};const f=n=>{switch(n){case"int8":return 3;case"uint8":return 2;case"bool":return 9;case"int16":return 5;case"uint16":return 4;case"int32":return 6;case"uint32":return 12;case"float32":return 1;case"float64":return 11;case"string":return 8;case"int64":return 7;case"uint64":return 13;default:throw new Error(`unsupported data type: ${n}`)}},u=n=>{switch(n){case 3:return"int8";case 2:return"uint8";case 9:return"bool";case 5:return"int16";case 4:return"uint16";case 6:case 7:return"int32";case 12:case 13:return"uint32";case 1:return"float32";case 11:return"float64";case 8:return"string";default:throw new Error(`unsupported data type: ${n}`)}},l=n=>{switch(n){case"float32":return Float32Array;case"uint8":case"bool":return Uint8Array;case"int8":return Int8Array;case"uint16":return Uint16Array;case"int16":return Int16Array;case"int32":return Int32Array;case"float64":return Float64Array;case"uint32":return Uint32Array;case"int64":return BigInt64Array;case"uint64":return BigUint64Array;default:throw new Error(`unsupported type: ${n}`)}};r.run=(n,r,e,a,c)=>{const d=i.getInstance(),h=s.get(n);if(!h)throw new Error("invalid session id");const p=h[0],v=h[1],w=h[2],m=r.length,y=a.length;let g=0,_=[];const b=[],E=[];try{[g,_]=t.setRunOptions(c);for(let r=0;r<m;r++){const n=e[r][0],t=e[r][1],a=e[r][2];let i,s;if(Array.isArray(a)){s=4*a.length,i=d._malloc(s),E.push(i);let n=i/4;for(let r=0;r<a.length;r++){if("string"!=typeof a[r])throw new TypeError(`tensor data at index ${r} is not a string`);d.HEAPU32[n++]=o.allocWasmString(a[r],E)}}else s=a.byteLength,i=d._malloc(s),E.push(i),d.HEAPU8.set(new Uint8Array(a.buffer,a.byteOffset,s),i);const u=d.stackSave(),l=d.stackAlloc(4*t.length);try{let r=l/4;t.forEach((n=>d.HEAP32[r++]=n));const e=d._OrtCreateTensor(f(n),i,s,l,t.length);if(0===e)throw new Error("Can't create a tensor");b.push(e)}finally{d.stackRestore(u)}}const n=d.stackSave(),i=d.stackAlloc(4*m),s=d.stackAlloc(4*m),h=d.stackAlloc(4*y),A=d.stackAlloc(4*y);try{let e=i/4,t=s/4,o=h/4,f=A/4;for(let n=0;n<m;n++)d.HEAPU32[e++]=b[n],d.HEAPU32[t++]=v[r[n]];for(let n=0;n<y;n++)d.HEAPU32[o++]=0,d.HEAPU32[f++]=w[a[n]];let c=d._OrtRun(p,s,i,m,A,y,h,g);const _=[];if(0===c)for(let n=0;n<y;n++){const r=d.HEAPU32[h/4+n],e=d.stackSave(),t=d.stackAlloc(16);let a,o=0;try{if(c=d._OrtGetTensorData(r,t,t+4,t+8,t+12),0!==c)throw new Error(`Can't get a tensor data. error code = ${c}`);let n=t/4;const i=d.HEAPU32[n++];o=d.HEAPU32[n++];const s=d.HEAPU32[n++],f=d.HEAPU32[n++],h=[];for(let r=0;r<f;r++)h.push(d.HEAPU32[s/4+r]);d._OrtFree(s);const p=0===h.length?1:h.reduce(((n,r)=>n*r));if(a=u(i),"string"===a){const n=[];let r=o/4;for(let e=0;e<p;e++){const t=d.HEAPU32[r++],a=e===p-1?void 0:d.HEAPU32[r]-t;n.push(d.UTF8ToString(t,a))}_.push([a,h,n])}else{const n=new(l(a))(p);new Uint8Array(n.buffer,n.byteOffset,n.byteLength).set(d.HEAPU8.subarray(o,o+n.byteLength)),_.push([a,h,n])}}finally{d.stackRestore(e),"string"===a&&o&&d._free(o),d._OrtReleaseTensor(r)}}if(0===c)return _;throw new Error(`failed to call OrtRun(). error code = ${c}.`)}finally{d.stackRestore(n)}}finally{b.forEach(d._OrtReleaseTensor),E.forEach(d._free),d._OrtReleaseRunOptions(g),_.forEach(d._free)}},r.endProfiling=n=>{const r=i.getInstance(),e=s.get(n);if(!e)throw new Error("invalid session id");const t=e[0],a=r._OrtEndProfiling(t);if(0===a)throw new Error("Can't get an profile file name");r._OrtFree(a)},r.extractTransferableBuffers=n=>{const r=[];for(const e of n){const n=e[2];!Array.isArray(n)&&n.buffer&&r.push(n.buffer)}return r}},361:function(n,r,e){"use strict";var t=this&&this.__createBinding||(Object.create?function(n,r,e,t){void 0===t&&(t=e),Object.defineProperty(n,t,{enumerable:!0,get:function(){return r[e]}})}:function(n,r,e,t){void 0===t&&(t=e),n[t]=r[e]}),a=this&&this.__setModuleDefault||(Object.create?function(n,r){Object.defineProperty(n,"default",{enumerable:!0,value:r})}:function(n,r){n.default=r}),o=this&&this.__importStar||function(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var e in n)"default"!==e&&Object.prototype.hasOwnProperty.call(n,e)&&t(r,n,e);return a(r,n),r},i=this&&this.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(r,"__esModule",{value:!0}),r.dispose=r.getInstance=r.initializeWebAssembly=void 0,o(e(449));const s=i(e(932)),f=s.default;let u,l=!1,c=!1,d=!1;const h=(n,r)=>r?n?"ort-wasm-simd-threaded.wasm":"ort-wasm-threaded.wasm":n?"ort-wasm-simd.wasm":"ort-wasm.wasm";r.initializeWebAssembly=async n=>{if(l)return Promise.resolve();if(c)throw new Error("multiple calls to 'initializeWebAssembly()' detected.");if(d)throw new Error("previous call to 'initializeWebAssembly()' failed.");c=!0;const r=n.initTimeout,e=n.numThreads,t=n.simd,a=e>1&&(()=>{try{return"undefined"!=typeof SharedArrayBuffer&&("undefined"!=typeof MessageChannel&&(new MessageChannel).port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11])))}catch(n){return!1}})(),o=t&&(()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(n){return!1}})(),i="string"==typeof n.wasmPaths?n.wasmPaths:void 0,p=h(!1,a),v=h(o,a),w="object"==typeof n.wasmPaths?n.wasmPaths[v]:void 0;let m=!1;const y=[];if(r>0&&y.push(new Promise((n=>{setTimeout((()=>{m=!0,n()}),r)}))),y.push(new Promise(((n,r)=>{(a?f:s.default)({locateFile:(n,r)=>{if(n===p){const n=null!=i?i:r;return null!=w?w:n+v}return r+n}}).then((r=>{c=!1,l=!0,u=r,n()}),(n=>{c=!1,d=!0,r(n)}))}))),await Promise.race(y),m)throw new Error(`WebAssembly backend initializing failed due to timeout: ${r}ms`)},r.getInstance=()=>{if(l&&u)return u;throw new Error("WebAssembly is not initialized yet.")},r.dispose=()=>{var n;!l||c||d||(c=!0,null===(n=u.PThread)||void 0===n||n.terminateAllThreads(),u=void 0,c=!1,l=!1,d=!0)}},384:()=>{},908:()=>{},449:()=>{},203:()=>{},381:()=>{},22:()=>{}},r={};function e(t){var a=r[t];if(void 0!==a)return a.exports;var o=r[t]={exports:{}};return n[t].call(o.exports,o,o.exports,e),o.exports}return e.d=(n,r)=>{for(var t in r)e.o(r,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:r[t]})},e.o=(n,r)=>Object.prototype.hasOwnProperty.call(n,r),e.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e(18)})()}))},59421:function(n,r,e){e(21703);var t=function(n){"use strict";var r,e=Object.prototype,t=e.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",i=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function f(n,r,e){return Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}),n[r]}try{f({},"")}catch(F){f=function(n,r,e){return n[r]=e}}function u(n,r,e,t){var a=r&&r.prototype instanceof w?r:w,o=Object.create(a.prototype),i=new O(t||[]);return o._invoke=M(n,e,i),o}function l(n,r,e){try{return{type:"normal",arg:n.call(r,e)}}catch(F){return{type:"throw",arg:F}}}n.wrap=u;var c="suspendedStart",d="suspendedYield",h="executing",p="completed",v={};function w(){}function m(){}function y(){}var g={};f(g,o,(function(){return this}));var _=Object.getPrototypeOf,b=_&&_(_(N([])));b&&b!==e&&t.call(b,o)&&(g=b);var E=y.prototype=w.prototype=Object.create(g);function A(n){["next","throw","return"].forEach((function(r){f(n,r,(function(n){return this._invoke(r,n)}))}))}function x(n,r){function e(a,o,i,s){var f=l(n[a],n,o);if("throw"!==f.type){var u=f.arg,c=u.value;return c&&"object"===typeof c&&t.call(c,"__await")?r.resolve(c.__await).then((function(n){e("next",n,i,s)}),(function(n){e("throw",n,i,s)})):r.resolve(c).then((function(n){u.value=n,i(u)}),(function(n){return e("throw",n,i,s)}))}s(f.arg)}var a;function o(n,t){function o(){return new r((function(r,a){e(n,t,r,a)}))}return a=a?a.then(o,o):o()}this._invoke=o}function M(n,r,e){var t=c;return function(a,o){if(t===h)throw new Error("Generator is already running");if(t===p){if("throw"===a)throw o;return j()}e.method=a,e.arg=o;while(1){var i=e.delegate;if(i){var s=k(i,e);if(s){if(s===v)continue;return s}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(t===c)throw t=p,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);t=h;var f=l(n,r,e);if("normal"===f.type){if(t=e.done?p:d,f.arg===v)continue;return{value:f.arg,done:e.done}}"throw"===f.type&&(t=p,e.method="throw",e.arg=f.arg)}}}function k(n,e){var t=n.iterator[e.method];if(t===r){if(e.delegate=null,"throw"===e.method){if(n.iterator["return"]&&(e.method="return",e.arg=r,k(n,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var a=l(t,n.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,v;var o=a.arg;return o?o.done?(e[n.resultName]=o.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=r),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function P(n){var r={tryLoc:n[0]};1 in n&&(r.catchLoc=n[1]),2 in n&&(r.finallyLoc=n[2],r.afterLoc=n[3]),this.tryEntries.push(r)}function S(n){var r=n.completion||{};r.type="normal",delete r.arg,n.completion=r}function O(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(P,this),this.reset(!0)}function N(n){if(n){var e=n[o];if(e)return e.call(n);if("function"===typeof n.next)return n;if(!isNaN(n.length)){var a=-1,i=function e(){while(++a<n.length)if(t.call(n,a))return e.value=n[a],e.done=!1,e;return e.value=r,e.done=!0,e};return i.next=i}}return{next:j}}function j(){return{value:r,done:!0}}return m.prototype=y,f(E,"constructor",y),f(y,"constructor",m),m.displayName=f(y,s,"GeneratorFunction"),n.isGeneratorFunction=function(n){var r="function"===typeof n&&n.constructor;return!!r&&(r===m||"GeneratorFunction"===(r.displayName||r.name))},n.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,y):(n.__proto__=y,f(n,s,"GeneratorFunction")),n.prototype=Object.create(E),n},n.awrap=function(n){return{__await:n}},A(x.prototype),f(x.prototype,i,(function(){return this})),n.AsyncIterator=x,n.async=function(r,e,t,a,o){void 0===o&&(o=Promise);var i=new x(u(r,e,t,a),o);return n.isGeneratorFunction(e)?i:i.next().then((function(n){return n.done?n.value:i.next()}))},A(E),f(E,s,"Generator"),f(E,o,(function(){return this})),f(E,"toString",(function(){return"[object Generator]"})),n.keys=function(n){var r=[];for(var e in n)r.push(e);return r.reverse(),function e(){while(r.length){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},n.values=N,O.prototype={constructor:O,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(S),!n)for(var e in this)"t"===e.charAt(0)&&t.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=r)},stop:function(){this.done=!0;var n=this.tryEntries[0],r=n.completion;if("throw"===r.type)throw r.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function a(t,a){return s.type="throw",s.arg=n,e.next=t,a&&(e.method="next",e.arg=r),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var f=t.call(i,"catchLoc"),u=t.call(i,"finallyLoc");if(f&&u){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(f){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(n,r){for(var e=this.tryEntries.length-1;e>=0;--e){var a=this.tryEntries[e];if(a.tryLoc<=this.prev&&t.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=r&&r<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=n,i.arg=r,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(n,r){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&r&&(this.next=r),v},finish:function(n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),S(e),v}},catch:function(n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc===n){var t=e.completion;if("throw"===t.type){var a=t.arg;S(e)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(n,e,t){return this.delegate={iterator:N(n),resultName:e,nextLoc:t},"next"===this.method&&(this.arg=r),v}},n}(n.exports);try{regeneratorRuntime=t}catch(a){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},32850:function(n){n.exports=function(n){return n&&"object"===typeof n&&"function"===typeof n.copy&&"function"===typeof n.fill&&"function"===typeof n.readUInt8}},83447:function(n,r,e){"use strict";e(48675),e(3462),e(21703);var t=e(10695),a=e(49321),o=e(21246),i=e(48040);function s(n){return n.call.bind(n)}var f="undefined"!==typeof BigInt,u="undefined"!==typeof Symbol,l=s(Object.prototype.toString),c=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),h=s(Boolean.prototype.valueOf);if(f)var p=s(BigInt.prototype.valueOf);if(u)var v=s(Symbol.prototype.valueOf);function w(n,r){if("object"!==typeof n)return!1;try{return r(n),!0}catch(e){return!1}}function m(n){return"undefined"!==typeof Promise&&n instanceof Promise||null!==n&&"object"===typeof n&&"function"===typeof n.then&&"function"===typeof n.catch}function y(n){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(n):i(n)||Y(n)}function g(n){return"Uint8Array"===o(n)}function _(n){return"Uint8ClampedArray"===o(n)}function b(n){return"Uint16Array"===o(n)}function E(n){return"Uint32Array"===o(n)}function A(n){return"Int8Array"===o(n)}function x(n){return"Int16Array"===o(n)}function M(n){return"Int32Array"===o(n)}function k(n){return"Float32Array"===o(n)}function P(n){return"Float64Array"===o(n)}function S(n){return"BigInt64Array"===o(n)}function O(n){return"BigUint64Array"===o(n)}function N(n){return"[object Map]"===l(n)}function j(n){return"undefined"!==typeof Map&&(N.working?N(n):n instanceof Map)}function F(n){return"[object Set]"===l(n)}function R(n){return"undefined"!==typeof Set&&(F.working?F(n):n instanceof Set)}function D(n){return"[object WeakMap]"===l(n)}function T(n){return"undefined"!==typeof WeakMap&&(D.working?D(n):n instanceof WeakMap)}function I(n){return"[object WeakSet]"===l(n)}function L(n){return I(n)}function C(n){return"[object ArrayBuffer]"===l(n)}function q(n){return"undefined"!==typeof ArrayBuffer&&(C.working?C(n):n instanceof ArrayBuffer)}function U(n){return"[object DataView]"===l(n)}function Y(n){return"undefined"!==typeof DataView&&(U.working?U(n):n instanceof DataView)}r.isArgumentsObject=t,r.isGeneratorFunction=a,r.isTypedArray=i,r.isPromise=m,r.isArrayBufferView=y,r.isUint8Array=g,r.isUint8ClampedArray=_,r.isUint16Array=b,r.isUint32Array=E,r.isInt8Array=A,r.isInt16Array=x,r.isInt32Array=M,r.isFloat32Array=k,r.isFloat64Array=P,r.isBigInt64Array=S,r.isBigUint64Array=O,N.working="undefined"!==typeof Map&&N(new Map),r.isMap=j,F.working="undefined"!==typeof Set&&F(new Set),r.isSet=R,D.working="undefined"!==typeof WeakMap&&D(new WeakMap),r.isWeakMap=T,I.working="undefined"!==typeof WeakSet&&I(new WeakSet),r.isWeakSet=L,C.working="undefined"!==typeof ArrayBuffer&&C(new ArrayBuffer),r.isArrayBuffer=q,U.working="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView&&U(new DataView(new ArrayBuffer(1),0,1)),r.isDataView=Y;var z="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function B(n){return"[object SharedArrayBuffer]"===l(n)}function G(n){return"undefined"!==typeof z&&("undefined"===typeof B.working&&(B.working=B(new z)),B.working?B(n):n instanceof z)}function V(n){return"[object AsyncFunction]"===l(n)}function $(n){return"[object Map Iterator]"===l(n)}function X(n){return"[object Set Iterator]"===l(n)}function W(n){return"[object Generator]"===l(n)}function J(n){return"[object WebAssembly.Module]"===l(n)}function H(n){return w(n,c)}function Q(n){return w(n,d)}function K(n){return w(n,h)}function Z(n){return f&&w(n,p)}function nn(n){return u&&w(n,v)}function rn(n){return H(n)||Q(n)||K(n)||Z(n)||nn(n)}function en(n){return"undefined"!==typeof Uint8Array&&(q(n)||G(n))}r.isSharedArrayBuffer=G,r.isAsyncFunction=V,r.isMapIterator=$,r.isSetIterator=X,r.isGeneratorObject=W,r.isWebAssemblyCompiledModule=J,r.isNumberObject=H,r.isStringObject=Q,r.isBooleanObject=K,r.isBigIntObject=Z,r.isSymbolObject=nn,r.isBoxedPrimitive=rn,r.isAnyArrayBuffer=en,["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(n){Object.defineProperty(r,n,{enumerable:!1,value:function(){throw new Error(n+" is not supported in userland")}})}))},47926:function(n,r,e){e(21703),e(85827);var t=Object.getOwnPropertyDescriptors||function(n){for(var r=Object.keys(n),e={},t=0;t<r.length;t++)e[r[t]]=Object.getOwnPropertyDescriptor(n,r[t]);return e},a=/%[sdj%]/g;r.format=function(n){if(!A(n)){for(var r=[],e=0;e<arguments.length;e++)r.push(f(arguments[e]));return r.join(" ")}e=1;for(var t=arguments,o=t.length,i=String(n).replace(a,(function(n){if("%%"===n)return"%";if(e>=o)return n;switch(n){case"%s":return String(t[e++]);case"%d":return Number(t[e++]);case"%j":try{return JSON.stringify(t[e++])}catch(r){return"[Circular]"}default:return n}})),s=t[e];e<o;s=t[++e])_(s)||!P(s)?i+=" "+s:i+=" "+f(s);return i},r.deprecate=function(n,e){if("undefined"!==typeof process&&!0===process.noDeprecation)return n;if("undefined"===typeof process)return function(){return r.deprecate(n,e).apply(this,arguments)};var t=!1;function a(){if(!t){if(process.throwDeprecation)throw new Error(e);process.traceDeprecation?console.trace(e):console.error(e),t=!0}return n.apply(this,arguments)}return a};var o={},i=/^$/;if({NODE_ENV:"production",VUE_APP_APIBASE:"https://77.cocogoat.work",VUE_APP_APIBASECN:"https://cocogoat-1251105598.file.myqcloud.com/77",VUE_APP_SENTRY:"https://c6474900f75a46948250b5f47beda2e2@77.cocogoat.work/sigh/sigh",VUE_APP_BUILD:"2203291036",VUE_APP_ROUTER_HASH:"false",VUE_APP_SINGLEFILE:"false",VUE_APP_LOCALRES:"false",VUE_APP_TIMESTAMP:"1648521392922",VUE_APP_GIT_SHA:"829b5cf6",VUE_APP_GIT_MSG:"null",BASE_URL:"https://cocogoat-1251105598.file.myqcloud.com/"}.NODE_DEBUG){var s={NODE_ENV:"production",VUE_APP_APIBASE:"https://77.cocogoat.work",VUE_APP_APIBASECN:"https://cocogoat-1251105598.file.myqcloud.com/77",VUE_APP_SENTRY:"https://c6474900f75a46948250b5f47beda2e2@77.cocogoat.work/sigh/sigh",VUE_APP_BUILD:"2203291036",VUE_APP_ROUTER_HASH:"false",VUE_APP_SINGLEFILE:"false",VUE_APP_LOCALRES:"false",VUE_APP_TIMESTAMP:"1648521392922",VUE_APP_GIT_SHA:"829b5cf6",VUE_APP_GIT_MSG:"null",BASE_URL:"https://cocogoat-1251105598.file.myqcloud.com/"}.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}function f(n,e){var t={seen:[],stylize:l};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),g(e)?t.showHidden=e:e&&r._extend(t,e),M(t.showHidden)&&(t.showHidden=!1),M(t.depth)&&(t.depth=2),M(t.colors)&&(t.colors=!1),M(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=u),d(t,n,t.depth)}function u(n,r){var e=f.styles[r];return e?"["+f.colors[e][0]+"m"+n+"["+f.colors[e][1]+"m":n}function l(n,r){return n}function c(n){var r={};return n.forEach((function(n,e){r[n]=!0})),r}function d(n,e,t){if(n.customInspect&&e&&N(e.inspect)&&e.inspect!==r.inspect&&(!e.constructor||e.constructor.prototype!==e)){var a=e.inspect(t,n);return A(a)||(a=d(n,a,t)),a}var o=h(n,e);if(o)return o;var i=Object.keys(e),s=c(i);if(n.showHidden&&(i=Object.getOwnPropertyNames(e)),O(e)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return p(e);if(0===i.length){if(N(e)){var f=e.name?": "+e.name:"";return n.stylize("[Function"+f+"]","special")}if(k(e))return n.stylize(RegExp.prototype.toString.call(e),"regexp");if(S(e))return n.stylize(Date.prototype.toString.call(e),"date");if(O(e))return p(e)}var u,l="",g=!1,_=["{","}"];if(y(e)&&(g=!0,_=["[","]"]),N(e)){var b=e.name?": "+e.name:"";l=" [Function"+b+"]"}return k(e)&&(l=" "+RegExp.prototype.toString.call(e)),S(e)&&(l=" "+Date.prototype.toUTCString.call(e)),O(e)&&(l=" "+p(e)),0!==i.length||g&&0!=e.length?t<0?k(e)?n.stylize(RegExp.prototype.toString.call(e),"regexp"):n.stylize("[Object]","special"):(n.seen.push(e),u=g?v(n,e,t,s,i):i.map((function(r){return w(n,e,t,s,r,g)})),n.seen.pop(),m(u,l,_)):_[0]+l+_[1]}function h(n,r){if(M(r))return n.stylize("undefined","undefined");if(A(r)){var e="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return n.stylize(e,"string")}return E(r)?n.stylize(""+r,"number"):g(r)?n.stylize(""+r,"boolean"):_(r)?n.stylize("null","null"):void 0}function p(n){return"["+Error.prototype.toString.call(n)+"]"}function v(n,r,e,t,a){for(var o=[],i=0,s=r.length;i<s;++i)I(r,String(i))?o.push(w(n,r,e,t,String(i),!0)):o.push("");return a.forEach((function(a){a.match(/^\d+$/)||o.push(w(n,r,e,t,a,!0))})),o}function w(n,r,e,t,a,o){var i,s,f;if(f=Object.getOwnPropertyDescriptor(r,a)||{value:r[a]},f.get?s=f.set?n.stylize("[Getter/Setter]","special"):n.stylize("[Getter]","special"):f.set&&(s=n.stylize("[Setter]","special")),I(t,a)||(i="["+a+"]"),s||(n.seen.indexOf(f.value)<0?(s=_(e)?d(n,f.value,null):d(n,f.value,e-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map((function(n){return"  "+n})).join("\n").substr(2):"\n"+s.split("\n").map((function(n){return"   "+n})).join("\n"))):s=n.stylize("[Circular]","special")),M(i)){if(o&&a.match(/^\d+$/))return s;i=JSON.stringify(""+a),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=n.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=n.stylize(i,"string"))}return i+": "+s}function m(n,r,e){var t=n.reduce((function(n,r){return r.indexOf("\n")>=0&&0,n+r.replace(/\u001b\[\d\d?m/g,"").length+1}),0);return t>60?e[0]+(""===r?"":r+"\n ")+" "+n.join(",\n  ")+" "+e[1]:e[0]+r+" "+n.join(", ")+" "+e[1]}function y(n){return Array.isArray(n)}function g(n){return"boolean"===typeof n}function _(n){return null===n}function b(n){return null==n}function E(n){return"number"===typeof n}function A(n){return"string"===typeof n}function x(n){return"symbol"===typeof n}function M(n){return void 0===n}function k(n){return P(n)&&"[object RegExp]"===F(n)}function P(n){return"object"===typeof n&&null!==n}function S(n){return P(n)&&"[object Date]"===F(n)}function O(n){return P(n)&&("[object Error]"===F(n)||n instanceof Error)}function N(n){return"function"===typeof n}function j(n){return null===n||"boolean"===typeof n||"number"===typeof n||"string"===typeof n||"symbol"===typeof n||"undefined"===typeof n}function F(n){return Object.prototype.toString.call(n)}function R(n){return n<10?"0"+n.toString(10):n.toString(10)}r.debuglog=function(n){if(n=n.toUpperCase(),!o[n])if(i.test(n)){var e=process.pid;o[n]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",n,e,t)}}else o[n]=function(){};return o[n]},r.inspect=f,f.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},f.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},r.types=e(83447),r.isArray=y,r.isBoolean=g,r.isNull=_,r.isNullOrUndefined=b,r.isNumber=E,r.isString=A,r.isSymbol=x,r.isUndefined=M,r.isRegExp=k,r.types.isRegExp=k,r.isObject=P,r.isDate=S,r.types.isDate=S,r.isError=O,r.types.isNativeError=O,r.isFunction=N,r.isPrimitive=j,r.isBuffer=e(32850);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var n=new Date,r=[R(n.getHours()),R(n.getMinutes()),R(n.getSeconds())].join(":");return[n.getDate(),D[n.getMonth()],r].join(" ")}function I(n,r){return Object.prototype.hasOwnProperty.call(n,r)}r.log=function(){console.log("%s - %s",T(),r.format.apply(r,arguments))},r.inherits=e(64974),r._extend=function(n,r){if(!r||!P(r))return n;var e=Object.keys(r),t=e.length;while(t--)n[e[t]]=r[e[t]];return n};var L="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function C(n,r){if(!n){var e=new Error("Promise was rejected with a falsy value");e.reason=n,n=e}return r(n)}function q(n){if("function"!==typeof n)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],e=0;e<arguments.length;e++)r.push(arguments[e]);var t=r.pop();if("function"!==typeof t)throw new TypeError("The last argument must be of type Function");var a=this,o=function(){return t.apply(a,arguments)};n.apply(this,r).then((function(n){process.nextTick(o.bind(null,null,n))}),(function(n){process.nextTick(C.bind(null,n,o))}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(n)),Object.defineProperties(r,t(n)),r}r.promisify=function(n){if("function"!==typeof n)throw new TypeError('The "original" argument must be of type Function');if(L&&n[L]){var r=n[L];if("function"!==typeof r)throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(r,L,{value:r,enumerable:!1,writable:!1,configurable:!0}),r}function r(){for(var r,e,t=new Promise((function(n,t){r=n,e=t})),a=[],o=0;o<arguments.length;o++)a.push(arguments[o]);a.push((function(n,t){n?e(n):r(t)}));try{n.apply(this,a)}catch(i){e(i)}return t}return Object.setPrototypeOf(r,Object.getPrototypeOf(n)),L&&Object.defineProperty(r,L,{value:r,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(r,t(n))},r.promisify.custom=L,r.callbackify=q},21246:function(n,r,e){"use strict";var t=e(73819),a=e(27546),o=e(10543),i=o("Object.prototype.toString"),s=e(28098)(),f="undefined"===typeof globalThis?e.g:globalThis,u=a(),l=o("String.prototype.slice"),c={},d=e(92814),h=Object.getPrototypeOf;s&&d&&h&&t(u,(function(n){if("function"===typeof f[n]){var r=new f[n];if(Symbol.toStringTag in r){var e=h(r),t=d(e,Symbol.toStringTag);if(!t){var a=h(e);t=d(a,Symbol.toStringTag)}c[n]=t.get}}}));var p=function(n){var r=!1;return t(c,(function(e,t){if(!r)try{var a=e.call(n);a===t&&(r=a)}catch(o){}})),r},v=e(48040);n.exports=function(n){return!!v(n)&&(s&&Symbol.toStringTag in n?p(n):l(i(n),8,-1))}},50206:function(n,r,e){var t=e(1702);n.exports=t([].slice)},6833:function(n,r,e){var t=e(88113);n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(t)},20261:function(n,r,e){var t,a,o,i,s=e(17854),f=e(22104),u=e(49974),l=e(60614),c=e(92597),d=e(47293),h=e(60490),p=e(50206),v=e(80317),w=e(6833),m=e(35268),y=s.setImmediate,g=s.clearImmediate,_=s.process,b=s.Dispatch,E=s.Function,A=s.MessageChannel,x=s.String,M=0,k={},P="onreadystatechange";try{t=s.location}catch(F){}var S=function(n){if(c(k,n)){var r=k[n];delete k[n],r()}},O=function(n){return function(){S(n)}},N=function(n){S(n.data)},j=function(n){s.postMessage(x(n),t.protocol+"//"+t.host)};y&&g||(y=function(n){var r=p(arguments,1);return k[++M]=function(){f(l(n)?n:E(n),void 0,r)},a(M),M},g=function(n){delete k[n]},m?a=function(n){_.nextTick(O(n))}:b&&b.now?a=function(n){b.now(O(n))}:A&&!w?(o=new A,i=o.port2,o.port1.onmessage=N,a=u(i.postMessage,i)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&t&&"file:"!==t.protocol&&!d(j)?(a=j,s.addEventListener("message",N,!1)):a=P in v("script")?function(n){h.appendChild(v("script"))[P]=function(){h.removeChild(this),S(n)}}:function(n){setTimeout(O(n),0)}),n.exports={set:y,clear:g}},32120:function(n,r,e){var t=e(82109),a=e(35005),o=e(22104),i=e(47293),s=e(89191),f="AggregateError",u=a(f),l=!i((function(){return 1!==u([1]).errors[0]}))&&i((function(){return 7!==u([1],f,{cause:7}).cause}));t({global:!0,forced:l},{AggregateError:s(f,(function(n){return function(r,e){return o(n,this,arguments)}}),l,!0)})},25438:function(n,r,e){var t=e(82109),a=Math.hypot,o=Math.abs,i=Math.sqrt,s=!!a&&a(1/0,NaN)!==1/0;t({target:"Math",stat:!0,forced:s},{hypot:function(n,r){var e,t,a=0,s=0,f=arguments.length,u=0;while(s<f)e=o(arguments[s++]),u<e?(t=u/e,a=a*t*t+1,u=e):e>0?(t=e/u,a+=t*t):a+=e;return u===1/0?1/0:u*i(a)}})},26669:function(n,r,e){"use strict";e.d(r,{S1:function(){return u},jh:function(){return c}});e(48675),e(3462),e(21703);var t=e(84118),a=e(87671),o=e(71836),i=e(71824);const s=a.toString().trim().replace(/\r/g,"").split("\n");s.unshift("\0"),s.push(" "),t.env.wasm.wasmPaths=o.ZP,t.env.wasm.numThreads=1;let f=null;async function u(){return f=await t.InferenceSession.create(o.ZP["ppocr.ort"]),f}function l(n,r=[64,64,4]){let e=i.array("float32",{shape:Int32Array.from(r),data:Float32Array.from(n)});e=e.transpose(2,0,1);let t=e.toNestedArray();return t.splice(3,1),t=t.flat(2),t=t.map((n=>n/255)),Float32Array.from(t)}async function c(n){if(f||await u(),f){const r=new t.Tensor(l(n.data,[n.rows,n.cols,4]),[1,3,n.rows,n.cols]),e={[f.inputNames[0]]:r},a=await f.run(e),o=a[f.outputNames[0]].data,i=a[f.outputNames[0]].dims;let u=0,c=0;const d=[];for(let n=0;n<i[1];n++){const r=o.slice(n*i[2],(n+1)*i[2]),e=Math.max(...r),t=r.indexOf(e);t>0&&(c+=e,u+=1,d.push(s[t]))}return{text:d.join("").replace(/(.)\1+/g,"$1").replace(/\0/g,""),confidence:parseFloat((c/u*100).toFixed(2))}}throw new Error("init faild")}},89039:function(n,r,e){"use strict";e.d(r,{dW:function(){return l},SM:function(){return f},Yk:function(){return u},gq:function(){return s}});e(48675),e(3462),e(21703),e(84633);var t=e(71836);const a=()=>{try{return WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,30,1,28,0,65,0,253,15,253,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,253,186,1,26,11]))}catch(n){return!1}};function o(n){let r=t.ZP["opencv-normal.wasm"];a()&&(r=t.ZP["opencv-simd.wasm"]),n=n||{};var e,o,i="undefined"!==typeof n?n:{},s=Object.assign;i["ready"]=new Promise((function(n,r){e=n,o=r}));var f,u,l,c=s({},i),d=[],h="./this.program",p=(n,r)=>{throw r},v="object"===typeof window,w="function"===typeof importScripts;(v||w)&&(f=function(n){var r=new XMLHttpRequest;return r.open("GET",n,!1),r.send(null),r.responseText},w&&(l=function(n){var r=new XMLHttpRequest;return r.open("GET",n,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),u=function(n,r,e){var t=new XMLHttpRequest;t.open("GET",n,!0),t.responseType="arraybuffer",t.onload=function(){200==t.status||0==t.status&&t.response?r(t.response):e()},t.onerror=e,t.send(null)});var m=i["print"]||console.log.bind(console),y=i["printErr"]||console.warn.bind(console);function g(n){g.shown||(g.shown={}),g.shown[n]||(g.shown[n]=1,y(n))}s(i,c),c=null,i["arguments"]&&(d=i["arguments"]),i["thisProgram"]&&(h=i["thisProgram"]),i["quit"]&&(p=i["quit"]);var _,b=function(n){n};i["wasmBinary"]&&(_=i["wasmBinary"]);var E,A=i["noExitRuntime"]||!0;"object"!==typeof WebAssembly&&_n("no native wasm support detected");var x,M=!1;function k(n,r){n||_n(r)}var P="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function S(n,r,e){var t=r+e,a=r;while(n[a]&&!(a>=t))++a;if(a-r>16&&n.subarray&&P)return P.decode(n.subarray(r,a));var o="";while(r<a){var i=n[r++];if(128&i){var s=63&n[r++];if(192!=(224&i)){var f=63&n[r++];if(i=224==(240&i)?(15&i)<<12|s<<6|f:(7&i)<<18|s<<12|f<<6|63&n[r++],i<65536)o+=String.fromCharCode(i);else{var u=i-65536;o+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else o+=String.fromCharCode((31&i)<<6|s)}else o+=String.fromCharCode(i)}return o}function O(n,r){return n?S(T,n,r):""}function N(n,r,e,t){if(!(t>0))return 0;for(var a=e,o=e+t-1,i=0;i<n.length;++i){var s=n.charCodeAt(i);if(s>=55296&&s<=57343){var f=n.charCodeAt(++i);s=65536+((1023&s)<<10)|1023&f}if(s<=127){if(e>=o)break;r[e++]=s}else if(s<=2047){if(e+1>=o)break;r[e++]=192|s>>6,r[e++]=128|63&s}else if(s<=65535){if(e+2>=o)break;r[e++]=224|s>>12,r[e++]=128|s>>6&63,r[e++]=128|63&s}else{if(e+3>=o)break;r[e++]=240|s>>18,r[e++]=128|s>>12&63,r[e++]=128|s>>6&63,r[e++]=128|63&s}}return r[e]=0,e-a}function j(n,r,e){return N(n,T,r,e)}function F(n){for(var r=0,e=0;e<n.length;++e){var t=n.charCodeAt(e);t>=55296&&t<=57343&&(t=65536+((1023&t)<<10)|1023&n.charCodeAt(++e)),t<=127?++r:r+=t<=2047?2:t<=65535?3:4}return r}var R,D,T,I,L,C,q,U,Y,z="undefined"!==typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function B(n,r){var e=n,t=e>>1,a=t+r/2;while(!(t>=a)&&L[t])++t;if(e=t<<1,e-n>32&&z)return z.decode(T.subarray(n,e));for(var o="",i=0;!(i>=r/2);++i){var s=I[n+2*i>>1];if(0==s)break;o+=String.fromCharCode(s)}return o}function G(n,r,e){if(void 0===e&&(e=2147483647),e<2)return 0;e-=2;for(var t=r,a=e<2*n.length?e/2:n.length,o=0;o<a;++o){var i=n.charCodeAt(o);I[r>>1]=i,r+=2}return I[r>>1]=0,r-t}function V(n){return 2*n.length}function $(n,r){var e=0,t="";while(!(e>=r/4)){var a=C[n+4*e>>2];if(0==a)break;if(++e,a>=65536){var o=a-65536;t+=String.fromCharCode(55296|o>>10,56320|1023&o)}else t+=String.fromCharCode(a)}return t}function X(n,r,e){if(void 0===e&&(e=2147483647),e<4)return 0;for(var t=r,a=t+e-4,o=0;o<n.length;++o){var i=n.charCodeAt(o);if(i>=55296&&i<=57343){var s=n.charCodeAt(++o);i=65536+((1023&i)<<10)|1023&s}if(C[r>>2]=i,r+=4,r+4>a)break}return C[r>>2]=0,r-t}function W(n){for(var r=0,e=0;e<n.length;++e){var t=n.charCodeAt(e);t>=55296&&t<=57343&&++e,r+=4}return r}function J(n,r){D.set(n,r)}function H(n,r,e){for(var t=0;t<n.length;++t)D[r++>>0]=n.charCodeAt(t);e||(D[r>>0]=0)}function Q(n,r){return n%r>0&&(n+=r-n%r),n}function K(n){R=n,i["HEAP8"]=D=new Int8Array(n),i["HEAP16"]=I=new Int16Array(n),i["HEAP32"]=C=new Int32Array(n),i["HEAPU8"]=T=new Uint8Array(n),i["HEAPU16"]=L=new Uint16Array(n),i["HEAPU32"]=q=new Uint32Array(n),i["HEAPF32"]=U=new Float32Array(n),i["HEAPF64"]=Y=new Float64Array(n)}i["INITIAL_MEMORY"];var Z,nn=[],rn=[],en=[],tn=!1,an=0;function on(){return A||an>0}function sn(){if(i["preRun"]){"function"==typeof i["preRun"]&&(i["preRun"]=[i["preRun"]]);while(i["preRun"].length)cn(i["preRun"].shift())}Cn(nn)}function fn(){!0,i["noFSInit"]||Kn.init.initialized||Kn.init(),Kn.ignorePermissions=!1,Wn.init(),Cn(rn)}function un(){tn=!0}function ln(){if(i["postRun"]){"function"==typeof i["postRun"]&&(i["postRun"]=[i["postRun"]]);while(i["postRun"].length)hn(i["postRun"].shift())}Cn(en)}function cn(n){nn.unshift(n)}function dn(n){rn.unshift(n)}function hn(n){en.unshift(n)}var pn=0,vn=null,wn=null;function mn(n){return n}function yn(n){pn++,i["monitorRunDependencies"]&&i["monitorRunDependencies"](pn)}function gn(n){if(pn--,i["monitorRunDependencies"]&&i["monitorRunDependencies"](pn),0==pn&&(null!==vn&&(clearInterval(vn),vn=null),wn)){var r=wn;wn=null,r()}}function _n(n){i["onAbort"]&&i["onAbort"](n),n="Aborted("+n+")",y(n),M=!0,x=1,n+=". Build with -s ASSERTIONS=1 for more info.";var r=new WebAssembly.RuntimeError(n);throw o(r),r}i["preloadedImages"]={},i["preloadedAudios"]={};var bn,En,An,xn="data:application/octet-stream;base64,";function Mn(n){return n.startsWith(xn)}function kn(n){return n.startsWith("file://")}function Pn(n){try{if(n==r&&_)return new Uint8Array(_);if(l)return l(n);throw"both async and sync fetching of the wasm failed"}catch(y){_n(y)}}function Sn(){if(!_&&(v||w)){if("function"===typeof fetch&&!kn(r))return fetch(r,{credentials:"same-origin"}).then((function(n){if(!n["ok"])throw"failed to load wasm binary file at '"+r+"'";return n["arrayBuffer"]()})).catch((function(){return Pn(r)}));if(u)return new Promise((function(n,e){u(r,(function(r){n(new Uint8Array(r))}),e)}))}return Promise.resolve().then((function(){return Pn(r)}))}function On(){var n={a:Qt};function e(n,r){var e=n.exports;i["asm"]=e,E=i["asm"]["aa"],K(E.buffer),Z=i["asm"]["da"],dn(i["asm"]["ba"]),gn("wasm-instantiate")}function t(n){e(n["instance"])}function a(r){return Sn().then((function(r){return WebAssembly.instantiate(r,n)})).then((function(n){return n})).then(r,(function(n){y("failed to asynchronously prepare wasm: "+n),_n(n)}))}function s(){return _||"function"!==typeof WebAssembly.instantiateStreaming||Mn(r)||kn(r)||"function"!==typeof fetch?a(t):fetch(r,{credentials:"same-origin"}).then((function(r){var e=WebAssembly.instantiateStreaming(r,n);return e.then(t,(function(n){return y("wasm streaming compile failed: "+n),y("falling back to ArrayBuffer instantiation"),a(t)}))}))}if(yn("wasm-instantiate"),i["instantiateWasm"])try{var f=i["instantiateWasm"](n,e);return f}catch(u){return y("Module.instantiateWasm callback failed with error: "+u),!1}return s().catch(o),{}}function Nn(n,r){if(Ln.mainLoop.timingMode=n,Ln.mainLoop.timingValue=r,!Ln.mainLoop.func)return 1;if(Ln.mainLoop.running||(Ln.mainLoop.running=!0),0==n)Ln.mainLoop.scheduler=function(){var n=0|Math.max(0,Ln.mainLoop.tickStartTime+r-An());setTimeout(Ln.mainLoop.runner,n)},Ln.mainLoop.method="timeout";else if(1==n)Ln.mainLoop.scheduler=function(){Ln.requestAnimationFrame(Ln.mainLoop.runner)},Ln.mainLoop.method="rAF";else if(2==n){if("undefined"===typeof setImmediate){var e=[],t="setimmediate",a=function(n){n.data!==t&&n.data.target!==t||(n.stopPropagation(),e.shift()())};addEventListener("message",a,!0),setImmediate=function(n){e.push(n),w?(void 0===i["setImmediates"]&&(i["setImmediates"]=[]),i["setImmediates"].push(n),postMessage({target:t})):postMessage(t,"*")}}Ln.mainLoop.scheduler=function(){setImmediate(Ln.mainLoop.runner)},Ln.mainLoop.method="immediate"}return 0}function jn(n){aa(n)}function Fn(n){if(n instanceof ea||"unwind"==n)return x;p(1,n)}function Rn(){if(!on())try{jn(x)}catch(n){Fn(n)}}function Dn(n,r,e,t,a){k(!Ln.mainLoop.func,"emscripten_set_main_loop: there can only be one main loop function at once: call emscripten_cancel_main_loop to cancel the previous one before setting a new one with different parameters."),Ln.mainLoop.func=n,Ln.mainLoop.arg=t;var o=Ln.mainLoop.currentlyRunningMainloop;function i(){return!(o<Ln.mainLoop.currentlyRunningMainloop)||(Rn(),!1)}if(Ln.mainLoop.running=!1,Ln.mainLoop.runner=function(){if(!M)if(Ln.mainLoop.queue.length>0){var r=Date.now(),e=Ln.mainLoop.queue.shift();if(e.func(e.arg),Ln.mainLoop.remainingBlockers){var t=Ln.mainLoop.remainingBlockers,a=t%1==0?t-1:Math.floor(t);e.counted?Ln.mainLoop.remainingBlockers=a:(a+=.5,Ln.mainLoop.remainingBlockers=(8*t+a)/9)}if(m('main loop blocker "'+e.name+'" took '+(Date.now()-r)+" ms"),Ln.mainLoop.updateStatus(),!i())return;setTimeout(Ln.mainLoop.runner,0)}else i()&&(Ln.mainLoop.currentFrameNumber=Ln.mainLoop.currentFrameNumber+1|0,1==Ln.mainLoop.timingMode&&Ln.mainLoop.timingValue>1&&Ln.mainLoop.currentFrameNumber%Ln.mainLoop.timingValue!=0?Ln.mainLoop.scheduler():(0==Ln.mainLoop.timingMode&&(Ln.mainLoop.tickStartTime=An()),Ln.mainLoop.runIter(n),i()&&("object"===typeof SDL&&SDL.audio&&SDL.audio.queueNewAudioData&&SDL.audio.queueNewAudioData(),Ln.mainLoop.scheduler())))},a||(r&&r>0?Nn(0,1e3/r):Nn(1,1),Ln.mainLoop.scheduler()),e)throw"unwind"}function Tn(n,r){if(!tn&&!M)if(r)n();else try{n()}catch(e){Fn(e)}}function In(n,r){return setTimeout((function(){Tn(n)}),r)}An=()=>performance.now();var Ln={mainLoop:{running:!1,scheduler:null,method:"",currentlyRunningMainloop:0,func:null,arg:0,timingMode:0,timingValue:0,currentFrameNumber:0,queue:[],pause:function(){Ln.mainLoop.scheduler=null,Ln.mainLoop.currentlyRunningMainloop++},resume:function(){Ln.mainLoop.currentlyRunningMainloop++;var n=Ln.mainLoop.timingMode,r=Ln.mainLoop.timingValue,e=Ln.mainLoop.func;Ln.mainLoop.func=null,Dn(e,0,!1,Ln.mainLoop.arg,!0),Nn(n,r),Ln.mainLoop.scheduler()},updateStatus:function(){if(i["setStatus"]){var n=i["statusMessage"]||"Please wait...",r=Ln.mainLoop.remainingBlockers,e=Ln.mainLoop.expectedBlockers;r?r<e?i["setStatus"](n+" ("+(e-r)+"/"+e+")"):i["setStatus"](n):i["setStatus"]("")}},runIter:function(n){if(!M){if(i["preMainLoop"]){var r=i["preMainLoop"]();if(!1===r)return}Tn(n),i["postMainLoop"]&&i["postMainLoop"]()}}},isFullscreen:!1,pointerLock:!1,moduleContextCreatedCallbacks:[],workers:[],init:function(){if(i["preloadPlugins"]||(i["preloadPlugins"]=[]),!Ln.initted){Ln.initted=!0;try{new Blob,Ln.hasBlobConstructor=!0}catch(a){Ln.hasBlobConstructor=!1,m("warning: no blob constructor, cannot create blobs with mimetypes")}Ln.BlobBuilder="undefined"!=typeof MozBlobBuilder?MozBlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:Ln.hasBlobConstructor?null:m("warning: no BlobBuilder"),Ln.URLObject="undefined"!=typeof window?window.URL?window.URL:window.webkitURL:void 0,i.noImageDecoding||"undefined"!==typeof Ln.URLObject||(m("warning: Browser does not support creating object URLs. Built-in browser image decoding will not be available."),i.noImageDecoding=!0);var n={canHandle:function(n){return!i.noImageDecoding&&/\.(jpg|jpeg|png|bmp)$/i.test(n)},handle:function(n,r,e,t){var o=null;if(Ln.hasBlobConstructor)try{o=new Blob([n],{type:Ln.getMimetype(r)}),o.size!==n.length&&(o=new Blob([new Uint8Array(n).buffer],{type:Ln.getMimetype(r)}))}catch(a){g("Blob constructor present but fails: "+a+"; falling back to blob builder")}if(!o){var s=new Ln.BlobBuilder;s.append(new Uint8Array(n).buffer),o=s.getBlob()}var f=Ln.URLObject.createObjectURL(o),u=new Image;u.onload=()=>{k(u.complete,"Image "+r+" could not be decoded");var t=document.createElement("canvas");t.width=u.width,t.height=u.height;var a=t.getContext("2d");a.drawImage(u,0,0),i["preloadedImages"][r]=t,Ln.URLObject.revokeObjectURL(f),e&&e(n)},u.onerror=n=>{m("Image "+f+" could not be decoded"),t&&t()},u.src=f}};i["preloadPlugins"].push(n);var r={canHandle:function(n){return!i.noAudioDecoding&&n.substr(-4)in{".ogg":1,".wav":1,".mp3":1}},handle:function(n,r,e,t){var o=!1;function s(t){o||(o=!0,i["preloadedAudios"][r]=t,e&&e(n))}function f(){o||(o=!0,i["preloadedAudios"][r]=new Audio,t&&t())}if(!Ln.hasBlobConstructor)return f();try{var u=new Blob([n],{type:Ln.getMimetype(r)})}catch(a){return f()}var l=Ln.URLObject.createObjectURL(u),c=new Audio;c.addEventListener("canplaythrough",(function(){s(c)}),!1),c.onerror=function(e){function t(n){for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e="=",t="",a=0,o=0,i=0;i<n.length;i++){a=a<<8|n[i],o+=8;while(o>=6){var s=a>>o-6&63;o-=6,t+=r[s]}}return 2==o?(t+=r[(3&a)<<4],t+=e+e):4==o&&(t+=r[(15&a)<<2],t+=e),t}o||(m("warning: browser could not fully decode audio "+r+", trying slower base64 approach"),c.src="data:audio/x-"+r.substr(-3)+";base64,"+t(n),s(c))},c.src=l,In((function(){s(c)}),1e4)}};i["preloadPlugins"].push(r);var e=i["canvas"];e&&(e.requestPointerLock=e["requestPointerLock"]||e["mozRequestPointerLock"]||e["webkitRequestPointerLock"]||e["msRequestPointerLock"]||function(){},e.exitPointerLock=document["exitPointerLock"]||document["mozExitPointerLock"]||document["webkitExitPointerLock"]||document["msExitPointerLock"]||function(){},e.exitPointerLock=e.exitPointerLock.bind(document),document.addEventListener("pointerlockchange",t,!1),document.addEventListener("mozpointerlockchange",t,!1),document.addEventListener("webkitpointerlockchange",t,!1),document.addEventListener("mspointerlockchange",t,!1),i["elementPointerLock"]&&e.addEventListener("click",(function(n){!Ln.pointerLock&&i["canvas"].requestPointerLock&&(i["canvas"].requestPointerLock(),n.preventDefault())}),!1))}function t(){Ln.pointerLock=document["pointerLockElement"]===i["canvas"]||document["mozPointerLockElement"]===i["canvas"]||document["webkitPointerLockElement"]===i["canvas"]||document["msPointerLockElement"]===i["canvas"]}},createContext:function(n,r,e,t){if(r&&i.ctx&&n==i.canvas)return i.ctx;var a,o;if(r){var s={antialias:!1,alpha:!1,majorVersion:1};if(t)for(var f in t)s[f]=t[f];"undefined"!==typeof GL&&(o=GL.createContext(n,s),o&&(a=GL.getContext(o).GLctx))}else a=n.getContext("2d");return a?(e&&(r||k("undefined"===typeof GLctx,"cannot set in module if GLctx is used, but we are a non-GL context that would replace it"),i.ctx=a,r&&GL.makeContextCurrent(o),i.useWebGL=r,Ln.moduleContextCreatedCallbacks.forEach((function(n){n()})),Ln.init()),a):null},destroyContext:function(n,r,e){},fullscreenHandlersInstalled:!1,lockPointer:void 0,resizeCanvas:void 0,requestFullscreen:function(n,r){Ln.lockPointer=n,Ln.resizeCanvas=r,"undefined"===typeof Ln.lockPointer&&(Ln.lockPointer=!0),"undefined"===typeof Ln.resizeCanvas&&(Ln.resizeCanvas=!1);var e=i["canvas"];function t(){Ln.isFullscreen=!1;var n=e.parentNode;(document["fullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"]||document["webkitFullscreenElement"]||document["webkitCurrentFullScreenElement"])===n?(e.exitFullscreen=Ln.exitFullscreen,Ln.lockPointer&&e.requestPointerLock(),Ln.isFullscreen=!0,Ln.resizeCanvas?Ln.setFullscreenCanvasSize():Ln.updateCanvasDimensions(e)):(n.parentNode.insertBefore(e,n),n.parentNode.removeChild(n),Ln.resizeCanvas?Ln.setWindowedCanvasSize():Ln.updateCanvasDimensions(e)),i["onFullScreen"]&&i["onFullScreen"](Ln.isFullscreen),i["onFullscreen"]&&i["onFullscreen"](Ln.isFullscreen)}Ln.fullscreenHandlersInstalled||(Ln.fullscreenHandlersInstalled=!0,document.addEventListener("fullscreenchange",t,!1),document.addEventListener("mozfullscreenchange",t,!1),document.addEventListener("webkitfullscreenchange",t,!1),document.addEventListener("MSFullscreenChange",t,!1));var a=document.createElement("div");e.parentNode.insertBefore(a,e),a.appendChild(e),a.requestFullscreen=a["requestFullscreen"]||a["mozRequestFullScreen"]||a["msRequestFullscreen"]||(a["webkitRequestFullscreen"]?function(){a["webkitRequestFullscreen"](Element["ALLOW_KEYBOARD_INPUT"])}:null)||(a["webkitRequestFullScreen"]?function(){a["webkitRequestFullScreen"](Element["ALLOW_KEYBOARD_INPUT"])}:null),a.requestFullscreen()},exitFullscreen:function(){if(!Ln.isFullscreen)return!1;var n=document["exitFullscreen"]||document["cancelFullScreen"]||document["mozCancelFullScreen"]||document["msExitFullscreen"]||document["webkitCancelFullScreen"]||function(){};return n.apply(document,[]),!0},nextRAF:0,fakeRequestAnimationFrame:function(n){var r=Date.now();if(0===Ln.nextRAF)Ln.nextRAF=r+1e3/60;else while(r+2>=Ln.nextRAF)Ln.nextRAF+=1e3/60;var e=Math.max(Ln.nextRAF-r,0);setTimeout(n,e)},requestAnimationFrame:function(n){if("function"!==typeof requestAnimationFrame){var r=Ln.fakeRequestAnimationFrame;r(n)}else requestAnimationFrame(n)},safeSetTimeout:function(n){return In(n)},safeRequestAnimationFrame:function(n){return Ln.requestAnimationFrame((function(){Tn(n)}))},getMimetype:function(n){return{jpg:"image/jpeg",jpeg:"image/jpeg",png:"image/png",bmp:"image/bmp",ogg:"audio/ogg",wav:"audio/wav",mp3:"audio/mpeg"}[n.substr(n.lastIndexOf(".")+1)]},getUserMedia:function(n){window.getUserMedia||(window.getUserMedia=navigator["getUserMedia"]||navigator["mozGetUserMedia"]),window.getUserMedia(n)},getMovementX:function(n){return n["movementX"]||n["mozMovementX"]||n["webkitMovementX"]||0},getMovementY:function(n){return n["movementY"]||n["mozMovementY"]||n["webkitMovementY"]||0},getMouseWheelDelta:function(n){var r=0;switch(n.type){case"DOMMouseScroll":r=n.detail/3;break;case"mousewheel":r=n.wheelDelta/120;break;case"wheel":switch(r=n.deltaY,n.deltaMode){case 0:r/=100;break;case 1:r/=3;break;case 2:r*=80;break;default:throw"unrecognized mouse wheel delta mode: "+n.deltaMode}break;default:throw"unrecognized mouse wheel event: "+n.type}return r},mouseX:0,mouseY:0,mouseMovementX:0,mouseMovementY:0,touches:{},lastTouches:{},calculateMouseEvent:function(n){if(Ln.pointerLock)"mousemove"!=n.type&&"mozMovementX"in n?Ln.mouseMovementX=Ln.mouseMovementY=0:(Ln.mouseMovementX=Ln.getMovementX(n),Ln.mouseMovementY=Ln.getMovementY(n)),"undefined"!=typeof SDL?(Ln.mouseX=SDL.mouseX+Ln.mouseMovementX,Ln.mouseY=SDL.mouseY+Ln.mouseMovementY):(Ln.mouseX+=Ln.mouseMovementX,Ln.mouseY+=Ln.mouseMovementY);else{var r=i["canvas"].getBoundingClientRect(),e=i["canvas"].width,t=i["canvas"].height,a="undefined"!==typeof window.scrollX?window.scrollX:window.pageXOffset,o="undefined"!==typeof window.scrollY?window.scrollY:window.pageYOffset;if("touchstart"===n.type||"touchend"===n.type||"touchmove"===n.type){var s=n.touch;if(void 0===s)return;var f=s.pageX-(a+r.left),u=s.pageY-(o+r.top);f*=e/r.width,u*=t/r.height;var l={x:f,y:u};if("touchstart"===n.type)Ln.lastTouches[s.identifier]=l,Ln.touches[s.identifier]=l;else if("touchend"===n.type||"touchmove"===n.type){var c=Ln.touches[s.identifier];c||(c=l),Ln.lastTouches[s.identifier]=c,Ln.touches[s.identifier]=l}return}var d=n.pageX-(a+r.left),h=n.pageY-(o+r.top);d*=e/r.width,h*=t/r.height,Ln.mouseMovementX=d-Ln.mouseX,Ln.mouseMovementY=h-Ln.mouseY,Ln.mouseX=d,Ln.mouseY=h}},resizeListeners:[],updateResizeListeners:function(){var n=i["canvas"];Ln.resizeListeners.forEach((function(r){r(n.width,n.height)}))},setCanvasSize:function(n,r,e){var t=i["canvas"];Ln.updateCanvasDimensions(t,n,r),e||Ln.updateResizeListeners()},windowedWidth:0,windowedHeight:0,setFullscreenCanvasSize:function(){if("undefined"!=typeof SDL){var n=q[SDL.screen>>2];n|=8388608,C[SDL.screen>>2]=n}Ln.updateCanvasDimensions(i["canvas"]),Ln.updateResizeListeners()},setWindowedCanvasSize:function(){if("undefined"!=typeof SDL){var n=q[SDL.screen>>2];n&=-8388609,C[SDL.screen>>2]=n}Ln.updateCanvasDimensions(i["canvas"]),Ln.updateResizeListeners()},updateCanvasDimensions:function(n,r,e){r&&e?(n.widthNative=r,n.heightNative=e):(r=n.widthNative,e=n.heightNative);var t=r,a=e;if(i["forcedAspectRatio"]&&i["forcedAspectRatio"]>0&&(t/a<i["forcedAspectRatio"]?t=Math.round(a*i["forcedAspectRatio"]):a=Math.round(t/i["forcedAspectRatio"])),(document["fullscreenElement"]||document["mozFullScreenElement"]||document["msFullscreenElement"]||document["webkitFullscreenElement"]||document["webkitCurrentFullScreenElement"])===n.parentNode&&"undefined"!=typeof screen){var o=Math.min(screen.width/t,screen.height/a);t=Math.round(t*o),a=Math.round(a*o)}Ln.resizeCanvas?(n.width!=t&&(n.width=t),n.height!=a&&(n.height=a),"undefined"!=typeof n.style&&(n.style.removeProperty("width"),n.style.removeProperty("height"))):(n.width!=r&&(n.width=r),n.height!=e&&(n.height=e),"undefined"!=typeof n.style&&(t!=r||a!=e?(n.style.setProperty("width",t+"px","important"),n.style.setProperty("height",a+"px","important")):(n.style.removeProperty("width"),n.style.removeProperty("height"))))}};function Cn(n){while(n.length>0){var r=n.shift();if("function"!=typeof r){var e=r.func;"number"===typeof e?void 0===r.arg?Un(e)():Un(e)(r.arg):e(void 0===r.arg?null:r.arg)}else r(i)}}var qn=[];function Un(n){var r=qn[n];return r||(n>=qn.length&&(qn.length=n+1),qn[n]=r=Z.get(n)),r}function Yn(n){return Kt(n+16)+16}function zn(n){this.excPtr=n,this.ptr=n-16,this.set_type=function(n){C[this.ptr+4>>2]=n},this.get_type=function(){return C[this.ptr+4>>2]},this.set_destructor=function(n){C[this.ptr+8>>2]=n},this.get_destructor=function(){return C[this.ptr+8>>2]},this.set_refcount=function(n){C[this.ptr>>2]=n},this.set_caught=function(n){n=n?1:0,D[this.ptr+12>>0]=n},this.get_caught=function(){return 0!=D[this.ptr+12>>0]},this.set_rethrown=function(n){n=n?1:0,D[this.ptr+13>>0]=n},this.get_rethrown=function(){return 0!=D[this.ptr+13>>0]},this.init=function(n,r){this.set_type(n),this.set_destructor(r),this.set_refcount(0),this.set_caught(!1),this.set_rethrown(!1)},this.add_ref=function(){var n=C[this.ptr>>2];C[this.ptr>>2]=n+1},this.release_ref=function(){var n=C[this.ptr>>2];return C[this.ptr>>2]=n-1,1===n}}function Bn(n,r,e){var t=new zn(n);throw t.init(r,e),n,n}function Gn(n){return C[na()>>2]=n,n}var Vn={splitPath:function(n){var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/;return r.exec(n).slice(1)},normalizeArray:function(n,r){for(var e=0,t=n.length-1;t>=0;t--){var a=n[t];"."===a?n.splice(t,1):".."===a?(n.splice(t,1),e++):e&&(n.splice(t,1),e--)}if(r)for(;e;e--)n.unshift("..");return n},normalize:function(n){var r="/"===n.charAt(0),e="/"===n.substr(-1);return n=Vn.normalizeArray(n.split("/").filter((function(n){return!!n})),!r).join("/"),n||r||(n="."),n&&e&&(n+="/"),(r?"/":"")+n},dirname:function(n){var r=Vn.splitPath(n),e=r[0],t=r[1];return e||t?(t&&(t=t.substr(0,t.length-1)),e+t):"."},basename:function(n){if("/"===n)return"/";n=Vn.normalize(n),n=n.replace(/\/$/,"");var r=n.lastIndexOf("/");return-1===r?n:n.substr(r+1)},extname:function(n){return Vn.splitPath(n)[3]},join:function(){var n=Array.prototype.slice.call(arguments,0);return Vn.normalize(n.join("/"))},join2:function(n,r){return Vn.normalize(n+"/"+r)}};function $n(){if("object"===typeof crypto&&"function"===typeof crypto["getRandomValues"]){var n=new Uint8Array(1);return function(){return crypto.getRandomValues(n),n[0]}}return function(){_n("randomDevice")}}var Xn={resolve:function(){for(var n="",r=!1,e=arguments.length-1;e>=-1&&!r;e--){var t=e>=0?arguments[e]:Kn.cwd();if("string"!==typeof t)throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";n=t+"/"+n,r="/"===t.charAt(0)}return n=Vn.normalizeArray(n.split("/").filter((function(n){return!!n})),!r).join("/"),(r?"/":"")+n||"."},relative:function(n,r){function e(n){for(var r=0;r<n.length;r++)if(""!==n[r])break;for(var e=n.length-1;e>=0;e--)if(""!==n[e])break;return r>e?[]:n.slice(r,e-r+1)}n=Xn.resolve(n).substr(1),r=Xn.resolve(r).substr(1);for(var t=e(n.split("/")),a=e(r.split("/")),o=Math.min(t.length,a.length),i=o,s=0;s<o;s++)if(t[s]!==a[s]){i=s;break}var f=[];for(s=i;s<t.length;s++)f.push("..");return f=f.concat(a.slice(i)),f.join("/")}},Wn={ttys:[],init:function(){},shutdown:function(){},register:function(n,r){Wn.ttys[n]={input:[],output:[],ops:r},Kn.registerDevice(n,Wn.stream_ops)},stream_ops:{open:function(n){var r=Wn.ttys[n.node.rdev];if(!r)throw new Kn.ErrnoError(43);n.tty=r,n.seekable=!1},close:function(n){n.tty.ops.flush(n.tty)},flush:function(n){n.tty.ops.flush(n.tty)},read:function(n,r,e,t,a){if(!n.tty||!n.tty.ops.get_char)throw new Kn.ErrnoError(60);for(var o=0,i=0;i<t;i++){var s;try{s=n.tty.ops.get_char(n.tty)}catch(f){throw new Kn.ErrnoError(29)}if(void 0===s&&0===o)throw new Kn.ErrnoError(6);if(null===s||void 0===s)break;o++,r[e+i]=s}return o&&(n.node.timestamp=Date.now()),o},write:function(n,r,e,t,a){if(!n.tty||!n.tty.ops.put_char)throw new Kn.ErrnoError(60);try{for(var o=0;o<t;o++)n.tty.ops.put_char(n.tty,r[e+o])}catch(i){throw new Kn.ErrnoError(29)}return t&&(n.node.timestamp=Date.now()),o}},default_tty_ops:{get_char:function(n){if(!n.input.length){var r=null;if("undefined"!=typeof window&&"function"==typeof window.prompt?(r=window.prompt("Input: "),null!==r&&(r+="\n")):"function"==typeof readline&&(r=readline(),null!==r&&(r+="\n")),!r)return null;n.input=Jt(r,!0)}return n.input.shift()},put_char:function(n,r){null===r||10===r?(m(S(n.output,0)),n.output=[]):0!=r&&n.output.push(r)},flush:function(n){n.output&&n.output.length>0&&(m(S(n.output,0)),n.output=[])}},default_tty1_ops:{put_char:function(n,r){null===r||10===r?(y(S(n.output,0)),n.output=[]):0!=r&&n.output.push(r)},flush:function(n){n.output&&n.output.length>0&&(y(S(n.output,0)),n.output=[])}}};function Jn(n){_n()}var Hn={ops_table:null,mount:function(n){return Hn.createNode(null,"/",16895,0)},createNode:function(n,r,e,t){if(Kn.isBlkdev(e)||Kn.isFIFO(e))throw new Kn.ErrnoError(63);Hn.ops_table||(Hn.ops_table={dir:{node:{getattr:Hn.node_ops.getattr,setattr:Hn.node_ops.setattr,lookup:Hn.node_ops.lookup,mknod:Hn.node_ops.mknod,rename:Hn.node_ops.rename,unlink:Hn.node_ops.unlink,rmdir:Hn.node_ops.rmdir,readdir:Hn.node_ops.readdir,symlink:Hn.node_ops.symlink},stream:{llseek:Hn.stream_ops.llseek}},file:{node:{getattr:Hn.node_ops.getattr,setattr:Hn.node_ops.setattr},stream:{llseek:Hn.stream_ops.llseek,read:Hn.stream_ops.read,write:Hn.stream_ops.write,allocate:Hn.stream_ops.allocate,mmap:Hn.stream_ops.mmap,msync:Hn.stream_ops.msync}},link:{node:{getattr:Hn.node_ops.getattr,setattr:Hn.node_ops.setattr,readlink:Hn.node_ops.readlink},stream:{}},chrdev:{node:{getattr:Hn.node_ops.getattr,setattr:Hn.node_ops.setattr},stream:Kn.chrdev_stream_ops}});var a=Kn.createNode(n,r,e,t);return Kn.isDir(a.mode)?(a.node_ops=Hn.ops_table.dir.node,a.stream_ops=Hn.ops_table.dir.stream,a.contents={}):Kn.isFile(a.mode)?(a.node_ops=Hn.ops_table.file.node,a.stream_ops=Hn.ops_table.file.stream,a.usedBytes=0,a.contents=null):Kn.isLink(a.mode)?(a.node_ops=Hn.ops_table.link.node,a.stream_ops=Hn.ops_table.link.stream):Kn.isChrdev(a.mode)&&(a.node_ops=Hn.ops_table.chrdev.node,a.stream_ops=Hn.ops_table.chrdev.stream),a.timestamp=Date.now(),n&&(n.contents[r]=a,n.timestamp=a.timestamp),a},getFileDataAsTypedArray:function(n){return n.contents?n.contents.subarray?n.contents.subarray(0,n.usedBytes):new Uint8Array(n.contents):new Uint8Array(0)},expandFileStorage:function(n,r){var e=n.contents?n.contents.length:0;if(!(e>=r)){var t=1048576;r=Math.max(r,e*(e<t?2:1.125)>>>0),0!=e&&(r=Math.max(r,256));var a=n.contents;n.contents=new Uint8Array(r),n.usedBytes>0&&n.contents.set(a.subarray(0,n.usedBytes),0)}},resizeFileStorage:function(n,r){if(n.usedBytes!=r)if(0==r)n.contents=null,n.usedBytes=0;else{var e=n.contents;n.contents=new Uint8Array(r),e&&n.contents.set(e.subarray(0,Math.min(r,n.usedBytes))),n.usedBytes=r}},node_ops:{getattr:function(n){var r={};return r.dev=Kn.isChrdev(n.mode)?n.id:1,r.ino=n.id,r.mode=n.mode,r.nlink=1,r.uid=0,r.gid=0,r.rdev=n.rdev,Kn.isDir(n.mode)?r.size=4096:Kn.isFile(n.mode)?r.size=n.usedBytes:Kn.isLink(n.mode)?r.size=n.link.length:r.size=0,r.atime=new Date(n.timestamp),r.mtime=new Date(n.timestamp),r.ctime=new Date(n.timestamp),r.blksize=4096,r.blocks=Math.ceil(r.size/r.blksize),r},setattr:function(n,r){void 0!==r.mode&&(n.mode=r.mode),void 0!==r.timestamp&&(n.timestamp=r.timestamp),void 0!==r.size&&Hn.resizeFileStorage(n,r.size)},lookup:function(n,r){throw Kn.genericErrors[44]},mknod:function(n,r,e,t){return Hn.createNode(n,r,e,t)},rename:function(n,r,e){if(Kn.isDir(n.mode)){var t;try{t=Kn.lookupNode(r,e)}catch(o){}if(t)for(var a in t.contents)throw new Kn.ErrnoError(55)}delete n.parent.contents[n.name],n.parent.timestamp=Date.now(),n.name=e,r.contents[e]=n,r.timestamp=n.parent.timestamp,n.parent=r},unlink:function(n,r){delete n.contents[r],n.timestamp=Date.now()},rmdir:function(n,r){var e=Kn.lookupNode(n,r);for(var t in e.contents)throw new Kn.ErrnoError(55);delete n.contents[r],n.timestamp=Date.now()},readdir:function(n){var r=[".",".."];for(var e in n.contents)n.contents.hasOwnProperty(e)&&r.push(e);return r},symlink:function(n,r,e){var t=Hn.createNode(n,r,41471,0);return t.link=e,t},readlink:function(n){if(!Kn.isLink(n.mode))throw new Kn.ErrnoError(28);return n.link}},stream_ops:{read:function(n,r,e,t,a){var o=n.node.contents;if(a>=n.node.usedBytes)return 0;var i=Math.min(n.node.usedBytes-a,t);if(i>8&&o.subarray)r.set(o.subarray(a,a+i),e);else for(var s=0;s<i;s++)r[e+s]=o[a+s];return i},write:function(n,r,e,t,a,o){if(r.buffer===D.buffer&&(o=!1),!t)return 0;var i=n.node;if(i.timestamp=Date.now(),r.subarray&&(!i.contents||i.contents.subarray)){if(o)return i.contents=r.subarray(e,e+t),i.usedBytes=t,t;if(0===i.usedBytes&&0===a)return i.contents=r.slice(e,e+t),i.usedBytes=t,t;if(a+t<=i.usedBytes)return i.contents.set(r.subarray(e,e+t),a),t}if(Hn.expandFileStorage(i,a+t),i.contents.subarray&&r.subarray)i.contents.set(r.subarray(e,e+t),a);else for(var s=0;s<t;s++)i.contents[a+s]=r[e+s];return i.usedBytes=Math.max(i.usedBytes,a+t),t},llseek:function(n,r,e){var t=r;if(1===e?t+=n.position:2===e&&Kn.isFile(n.node.mode)&&(t+=n.node.usedBytes),t<0)throw new Kn.ErrnoError(28);return t},allocate:function(n,r,e){Hn.expandFileStorage(n.node,r+e),n.node.usedBytes=Math.max(n.node.usedBytes,r+e)},mmap:function(n,r,e,t,a,o){if(0!==r)throw new Kn.ErrnoError(28);if(!Kn.isFile(n.node.mode))throw new Kn.ErrnoError(43);var i,s,f=n.node.contents;if(2&o||f.buffer!==R){if((t>0||t+e<f.length)&&(f=f.subarray?f.subarray(t,t+e):Array.prototype.slice.call(f,t,t+e)),s=!0,i=Jn(e),!i)throw new Kn.ErrnoError(48);D.set(f,i)}else s=!1,i=f.byteOffset;return{ptr:i,allocated:s}},msync:function(n,r,e,t,a){if(!Kn.isFile(n.node.mode))throw new Kn.ErrnoError(43);if(2&a)return 0;Hn.stream_ops.write(n,r,0,t,e,!1);return 0}}};function Qn(n,r,e,t){var a=t?"":mn("al "+n);u(n,(function(e){k(e,'Loading data file "'+n+'" failed (no arrayBuffer).'),r(new Uint8Array(e)),a&&gn(a)}),(function(r){if(!e)throw'Loading data file "'+n+'" failed.';e()})),a&&yn(a)}var Kn={root:null,mounts:[],devices:{},streams:[],nextInode:1,nameTable:null,currentPath:"/",initialized:!1,ignorePermissions:!0,ErrnoError:null,genericErrors:{},filesystems:null,syncFSRequests:0,lookupPath:function(n,r){if(n=Xn.resolve(Kn.cwd(),n),r=r||{},!n)return{path:"",node:null};var e={follow_mount:!0,recurse_count:0};for(var t in e)void 0===r[t]&&(r[t]=e[t]);if(r.recurse_count>8)throw new Kn.ErrnoError(32);for(var a=Vn.normalizeArray(n.split("/").filter((function(n){return!!n})),!1),o=Kn.root,i="/",s=0;s<a.length;s++){var f=s===a.length-1;if(f&&r.parent)break;if(o=Kn.lookupNode(o,a[s]),i=Vn.join2(i,a[s]),Kn.isMountpoint(o)&&(!f||f&&r.follow_mount)&&(o=o.mounted.root),!f||r.follow){var u=0;while(Kn.isLink(o.mode)){var l=Kn.readlink(i);i=Xn.resolve(Vn.dirname(i),l);var c=Kn.lookupPath(i,{recurse_count:r.recurse_count});if(o=c.node,u++>40)throw new Kn.ErrnoError(32)}}}return{path:i,node:o}},getPath:function(n){var r;while(1){if(Kn.isRoot(n)){var e=n.mount.mountpoint;return r?"/"!==e[e.length-1]?e+"/"+r:e+r:e}r=r?n.name+"/"+r:n.name,n=n.parent}},hashName:function(n,r){for(var e=0,t=0;t<r.length;t++)e=(e<<5)-e+r.charCodeAt(t)|0;return(n+e>>>0)%Kn.nameTable.length},hashAddNode:function(n){var r=Kn.hashName(n.parent.id,n.name);n.name_next=Kn.nameTable[r],Kn.nameTable[r]=n},hashRemoveNode:function(n){var r=Kn.hashName(n.parent.id,n.name);if(Kn.nameTable[r]===n)Kn.nameTable[r]=n.name_next;else{var e=Kn.nameTable[r];while(e){if(e.name_next===n){e.name_next=n.name_next;break}e=e.name_next}}},lookupNode:function(n,r){var e=Kn.mayLookup(n);if(e)throw new Kn.ErrnoError(e,n);for(var t=Kn.hashName(n.id,r),a=Kn.nameTable[t];a;a=a.name_next){var o=a.name;if(a.parent.id===n.id&&o===r)return a}return Kn.lookup(n,r)},createNode:function(n,r,e,t){var a=new Kn.FSNode(n,r,e,t);return Kn.hashAddNode(a),a},destroyNode:function(n){Kn.hashRemoveNode(n)},isRoot:function(n){return n===n.parent},isMountpoint:function(n){return!!n.mounted},isFile:function(n){return 32768===(61440&n)},isDir:function(n){return 16384===(61440&n)},isLink:function(n){return 40960===(61440&n)},isChrdev:function(n){return 8192===(61440&n)},isBlkdev:function(n){return 24576===(61440&n)},isFIFO:function(n){return 4096===(61440&n)},isSocket:function(n){return 49152===(49152&n)},flagModes:{r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},modeStringToFlags:function(n){var r=Kn.flagModes[n];if("undefined"===typeof r)throw new Error("Unknown file open mode: "+n);return r},flagsToPermissionString:function(n){var r=["r","w","rw"][3&n];return 512&n&&(r+="w"),r},nodePermissions:function(n,r){return Kn.ignorePermissions||(!r.includes("r")||292&n.mode)&&(!r.includes("w")||146&n.mode)&&(!r.includes("x")||73&n.mode)?0:2},mayLookup:function(n){var r=Kn.nodePermissions(n,"x");return r||(n.node_ops.lookup?0:2)},mayCreate:function(n,r){try{Kn.lookupNode(n,r);return 20}catch(e){}return Kn.nodePermissions(n,"wx")},mayDelete:function(n,r,e){var t;try{t=Kn.lookupNode(n,r)}catch(o){return o.errno}var a=Kn.nodePermissions(n,"wx");if(a)return a;if(e){if(!Kn.isDir(t.mode))return 54;if(Kn.isRoot(t)||Kn.getPath(t)===Kn.cwd())return 10}else if(Kn.isDir(t.mode))return 31;return 0},mayOpen:function(n,r){return n?Kn.isLink(n.mode)?32:Kn.isDir(n.mode)&&("r"!==Kn.flagsToPermissionString(r)||512&r)?31:Kn.nodePermissions(n,Kn.flagsToPermissionString(r)):44},MAX_OPEN_FDS:4096,nextfd:function(n,r){n=n||0,r=r||Kn.MAX_OPEN_FDS;for(var e=n;e<=r;e++)if(!Kn.streams[e])return e;throw new Kn.ErrnoError(33)},getStream:function(n){return Kn.streams[n]},createStream:function(n,r,e){Kn.FSStream||(Kn.FSStream=function(){},Kn.FSStream.prototype={object:{get:function(){return this.node},set:function(n){this.node=n}},isRead:{get:function(){return 1!==(2097155&this.flags)}},isWrite:{get:function(){return 0!==(2097155&this.flags)}},isAppend:{get:function(){return 1024&this.flags}}});var t=new Kn.FSStream;for(var a in n)t[a]=n[a];n=t;var o=Kn.nextfd(r,e);return n.fd=o,Kn.streams[o]=n,n},closeStream:function(n){Kn.streams[n]=null},chrdev_stream_ops:{open:function(n){var r=Kn.getDevice(n.node.rdev);n.stream_ops=r.stream_ops,n.stream_ops.open&&n.stream_ops.open(n)},llseek:function(){throw new Kn.ErrnoError(70)}},major:function(n){return n>>8},minor:function(n){return 255&n},makedev:function(n,r){return n<<8|r},registerDevice:function(n,r){Kn.devices[n]={stream_ops:r}},getDevice:function(n){return Kn.devices[n]},getMounts:function(n){var r=[],e=[n];while(e.length){var t=e.pop();r.push(t),e.push.apply(e,t.mounts)}return r},syncfs:function(n,r){"function"===typeof n&&(r=n,n=!1),Kn.syncFSRequests++,Kn.syncFSRequests>1&&y("warning: "+Kn.syncFSRequests+" FS.syncfs operations in flight at once, probably just doing extra work");var e=Kn.getMounts(Kn.root.mount),t=0;function a(n){return Kn.syncFSRequests--,r(n)}function o(n){if(n)return o.errored?void 0:(o.errored=!0,a(n));++t>=e.length&&a(null)}e.forEach((function(r){if(!r.type.syncfs)return o(null);r.type.syncfs(r,n,o)}))},mount:function(n,r,e){var t,a="/"===e,o=!e;if(a&&Kn.root)throw new Kn.ErrnoError(10);if(!a&&!o){var i=Kn.lookupPath(e,{follow_mount:!1});if(e=i.path,t=i.node,Kn.isMountpoint(t))throw new Kn.ErrnoError(10);if(!Kn.isDir(t.mode))throw new Kn.ErrnoError(54)}var s={type:n,opts:r,mountpoint:e,mounts:[]},f=n.mount(s);return f.mount=s,s.root=f,a?Kn.root=f:t&&(t.mounted=s,t.mount&&t.mount.mounts.push(s)),f},unmount:function(n){var r=Kn.lookupPath(n,{follow_mount:!1});if(!Kn.isMountpoint(r.node))throw new Kn.ErrnoError(28);var e=r.node,t=e.mounted,a=Kn.getMounts(t);Object.keys(Kn.nameTable).forEach((function(n){var r=Kn.nameTable[n];while(r){var e=r.name_next;a.includes(r.mount)&&Kn.destroyNode(r),r=e}})),e.mounted=null;var o=e.mount.mounts.indexOf(t);e.mount.mounts.splice(o,1)},lookup:function(n,r){return n.node_ops.lookup(n,r)},mknod:function(n,r,e){var t=Kn.lookupPath(n,{parent:!0}),a=t.node,o=Vn.basename(n);if(!o||"."===o||".."===o)throw new Kn.ErrnoError(28);var i=Kn.mayCreate(a,o);if(i)throw new Kn.ErrnoError(i);if(!a.node_ops.mknod)throw new Kn.ErrnoError(63);return a.node_ops.mknod(a,o,r,e)},create:function(n,r){return r=void 0!==r?r:438,r&=4095,r|=32768,Kn.mknod(n,r,0)},mkdir:function(n,r){return r=void 0!==r?r:511,r&=1023,r|=16384,Kn.mknod(n,r,0)},mkdirTree:function(n,r){for(var e=n.split("/"),t="",a=0;a<e.length;++a)if(e[a]){t+="/"+e[a];try{Kn.mkdir(t,r)}catch(o){if(20!=o.errno)throw o}}},mkdev:function(n,r,e){return"undefined"===typeof e&&(e=r,r=438),r|=8192,Kn.mknod(n,r,e)},symlink:function(n,r){if(!Xn.resolve(n))throw new Kn.ErrnoError(44);var e=Kn.lookupPath(r,{parent:!0}),t=e.node;if(!t)throw new Kn.ErrnoError(44);var a=Vn.basename(r),o=Kn.mayCreate(t,a);if(o)throw new Kn.ErrnoError(o);if(!t.node_ops.symlink)throw new Kn.ErrnoError(63);return t.node_ops.symlink(t,a,n)},rename:function(n,r){var e,t,a,o=Vn.dirname(n),i=Vn.dirname(r),s=Vn.basename(n),f=Vn.basename(r);if(e=Kn.lookupPath(n,{parent:!0}),t=e.node,e=Kn.lookupPath(r,{parent:!0}),a=e.node,!t||!a)throw new Kn.ErrnoError(44);if(t.mount!==a.mount)throw new Kn.ErrnoError(75);var u,l=Kn.lookupNode(t,s),c=Xn.relative(n,i);if("."!==c.charAt(0))throw new Kn.ErrnoError(28);if(c=Xn.relative(r,o),"."!==c.charAt(0))throw new Kn.ErrnoError(55);try{u=Kn.lookupNode(a,f)}catch(p){}if(l!==u){var d=Kn.isDir(l.mode),h=Kn.mayDelete(t,s,d);if(h)throw new Kn.ErrnoError(h);if(h=u?Kn.mayDelete(a,f,d):Kn.mayCreate(a,f),h)throw new Kn.ErrnoError(h);if(!t.node_ops.rename)throw new Kn.ErrnoError(63);if(Kn.isMountpoint(l)||u&&Kn.isMountpoint(u))throw new Kn.ErrnoError(10);if(a!==t&&(h=Kn.nodePermissions(t,"w"),h))throw new Kn.ErrnoError(h);Kn.hashRemoveNode(l);try{t.node_ops.rename(l,a,f)}catch(p){throw p}finally{Kn.hashAddNode(l)}}},rmdir:function(n){var r=Kn.lookupPath(n,{parent:!0}),e=r.node,t=Vn.basename(n),a=Kn.lookupNode(e,t),o=Kn.mayDelete(e,t,!0);if(o)throw new Kn.ErrnoError(o);if(!e.node_ops.rmdir)throw new Kn.ErrnoError(63);if(Kn.isMountpoint(a))throw new Kn.ErrnoError(10);e.node_ops.rmdir(e,t),Kn.destroyNode(a)},readdir:function(n){var r=Kn.lookupPath(n,{follow:!0}),e=r.node;if(!e.node_ops.readdir)throw new Kn.ErrnoError(54);return e.node_ops.readdir(e)},unlink:function(n){var r=Kn.lookupPath(n,{parent:!0}),e=r.node;if(!e)throw new Kn.ErrnoError(44);var t=Vn.basename(n),a=Kn.lookupNode(e,t),o=Kn.mayDelete(e,t,!1);if(o)throw new Kn.ErrnoError(o);if(!e.node_ops.unlink)throw new Kn.ErrnoError(63);if(Kn.isMountpoint(a))throw new Kn.ErrnoError(10);e.node_ops.unlink(e,t),Kn.destroyNode(a)},readlink:function(n){var r=Kn.lookupPath(n),e=r.node;if(!e)throw new Kn.ErrnoError(44);if(!e.node_ops.readlink)throw new Kn.ErrnoError(28);return Xn.resolve(Kn.getPath(e.parent),e.node_ops.readlink(e))},stat:function(n,r){var e=Kn.lookupPath(n,{follow:!r}),t=e.node;if(!t)throw new Kn.ErrnoError(44);if(!t.node_ops.getattr)throw new Kn.ErrnoError(63);return t.node_ops.getattr(t)},lstat:function(n){return Kn.stat(n,!0)},chmod:function(n,r,e){var t;if("string"===typeof n){var a=Kn.lookupPath(n,{follow:!e});t=a.node}else t=n;if(!t.node_ops.setattr)throw new Kn.ErrnoError(63);t.node_ops.setattr(t,{mode:4095&r|-4096&t.mode,timestamp:Date.now()})},lchmod:function(n,r){Kn.chmod(n,r,!0)},fchmod:function(n,r){var e=Kn.getStream(n);if(!e)throw new Kn.ErrnoError(8);Kn.chmod(e.node,r)},chown:function(n,r,e,t){var a;if("string"===typeof n){var o=Kn.lookupPath(n,{follow:!t});a=o.node}else a=n;if(!a.node_ops.setattr)throw new Kn.ErrnoError(63);a.node_ops.setattr(a,{timestamp:Date.now()})},lchown:function(n,r,e){Kn.chown(n,r,e,!0)},fchown:function(n,r,e){var t=Kn.getStream(n);if(!t)throw new Kn.ErrnoError(8);Kn.chown(t.node,r,e)},truncate:function(n,r){if(r<0)throw new Kn.ErrnoError(28);var e;if("string"===typeof n){var t=Kn.lookupPath(n,{follow:!0});e=t.node}else e=n;if(!e.node_ops.setattr)throw new Kn.ErrnoError(63);if(Kn.isDir(e.mode))throw new Kn.ErrnoError(31);if(!Kn.isFile(e.mode))throw new Kn.ErrnoError(28);var a=Kn.nodePermissions(e,"w");if(a)throw new Kn.ErrnoError(a);e.node_ops.setattr(e,{size:r,timestamp:Date.now()})},ftruncate:function(n,r){var e=Kn.getStream(n);if(!e)throw new Kn.ErrnoError(8);if(0===(2097155&e.flags))throw new Kn.ErrnoError(28);Kn.truncate(e.node,r)},utime:function(n,r,e){var t=Kn.lookupPath(n,{follow:!0}),a=t.node;a.node_ops.setattr(a,{timestamp:Math.max(r,e)})},open:function(n,r,e,t,a){if(""===n)throw new Kn.ErrnoError(44);var o;if(r="string"===typeof r?Kn.modeStringToFlags(r):r,e="undefined"===typeof e?438:e,e=64&r?4095&e|32768:0,"object"===typeof n)o=n;else{n=Vn.normalize(n);try{var s=Kn.lookupPath(n,{follow:!(131072&r)});o=s.node}catch(c){}}var f=!1;if(64&r)if(o){if(128&r)throw new Kn.ErrnoError(20)}else o=Kn.mknod(n,e,0),f=!0;if(!o)throw new Kn.ErrnoError(44);if(Kn.isChrdev(o.mode)&&(r&=-513),65536&r&&!Kn.isDir(o.mode))throw new Kn.ErrnoError(54);if(!f){var u=Kn.mayOpen(o,r);if(u)throw new Kn.ErrnoError(u)}512&r&&Kn.truncate(o,0),r&=-131713;var l=Kn.createStream({node:o,path:Kn.getPath(o),id:o.id,flags:r,mode:o.mode,seekable:!0,position:0,stream_ops:o.stream_ops,node_ops:o.node_ops,ungotten:[],error:!1},t,a);return l.stream_ops.open&&l.stream_ops.open(l),!i["logReadFiles"]||1&r||(Kn.readFiles||(Kn.readFiles={}),n in Kn.readFiles||(Kn.readFiles[n]=1)),l},close:function(n){if(Kn.isClosed(n))throw new Kn.ErrnoError(8);n.getdents&&(n.getdents=null);try{n.stream_ops.close&&n.stream_ops.close(n)}catch(r){throw r}finally{Kn.closeStream(n.fd)}n.fd=null},isClosed:function(n){return null===n.fd},llseek:function(n,r,e){if(Kn.isClosed(n))throw new Kn.ErrnoError(8);if(!n.seekable||!n.stream_ops.llseek)throw new Kn.ErrnoError(70);if(0!=e&&1!=e&&2!=e)throw new Kn.ErrnoError(28);return n.position=n.stream_ops.llseek(n,r,e),n.ungotten=[],n.position},read:function(n,r,e,t,a){if(t<0||a<0)throw new Kn.ErrnoError(28);if(Kn.isClosed(n))throw new Kn.ErrnoError(8);if(1===(2097155&n.flags))throw new Kn.ErrnoError(8);if(Kn.isDir(n.node.mode))throw new Kn.ErrnoError(31);if(!n.stream_ops.read)throw new Kn.ErrnoError(28);var o="undefined"!==typeof a;if(o){if(!n.seekable)throw new Kn.ErrnoError(70)}else a=n.position;var i=n.stream_ops.read(n,r,e,t,a);return o||(n.position+=i),i},write:function(n,r,e,t,a,o){if(t<0||a<0)throw new Kn.ErrnoError(28);if(Kn.isClosed(n))throw new Kn.ErrnoError(8);if(0===(2097155&n.flags))throw new Kn.ErrnoError(8);if(Kn.isDir(n.node.mode))throw new Kn.ErrnoError(31);if(!n.stream_ops.write)throw new Kn.ErrnoError(28);n.seekable&&1024&n.flags&&Kn.llseek(n,0,2);var i="undefined"!==typeof a;if(i){if(!n.seekable)throw new Kn.ErrnoError(70)}else a=n.position;var s=n.stream_ops.write(n,r,e,t,a,o);return i||(n.position+=s),s},allocate:function(n,r,e){if(Kn.isClosed(n))throw new Kn.ErrnoError(8);if(r<0||e<=0)throw new Kn.ErrnoError(28);if(0===(2097155&n.flags))throw new Kn.ErrnoError(8);if(!Kn.isFile(n.node.mode)&&!Kn.isDir(n.node.mode))throw new Kn.ErrnoError(43);if(!n.stream_ops.allocate)throw new Kn.ErrnoError(138);n.stream_ops.allocate(n,r,e)},mmap:function(n,r,e,t,a,o){if(0!==(2&a)&&0===(2&o)&&2!==(2097155&n.flags))throw new Kn.ErrnoError(2);if(1===(2097155&n.flags))throw new Kn.ErrnoError(2);if(!n.stream_ops.mmap)throw new Kn.ErrnoError(43);return n.stream_ops.mmap(n,r,e,t,a,o)},msync:function(n,r,e,t,a){return n&&n.stream_ops.msync?n.stream_ops.msync(n,r,e,t,a):0},munmap:function(n){return 0},ioctl:function(n,r,e){if(!n.stream_ops.ioctl)throw new Kn.ErrnoError(59);return n.stream_ops.ioctl(n,r,e)},readFile:function(n,r){if(r=r||{},r.flags=r.flags||0,r.encoding=r.encoding||"binary","utf8"!==r.encoding&&"binary"!==r.encoding)throw new Error('Invalid encoding type "'+r.encoding+'"');var e,t=Kn.open(n,r.flags),a=Kn.stat(n),o=a.size,i=new Uint8Array(o);return Kn.read(t,i,0,o,0),"utf8"===r.encoding?e=S(i,0):"binary"===r.encoding&&(e=i),Kn.close(t),e},writeFile:function(n,r,e){e=e||{},e.flags=e.flags||577;var t=Kn.open(n,e.flags,e.mode);if("string"===typeof r){var a=new Uint8Array(F(r)+1),o=N(r,a,0,a.length);Kn.write(t,a,0,o,void 0,e.canOwn)}else{if(!ArrayBuffer.isView(r))throw new Error("Unsupported data type");Kn.write(t,r,0,r.byteLength,void 0,e.canOwn)}Kn.close(t)},cwd:function(){return Kn.currentPath},chdir:function(n){var r=Kn.lookupPath(n,{follow:!0});if(null===r.node)throw new Kn.ErrnoError(44);if(!Kn.isDir(r.node.mode))throw new Kn.ErrnoError(54);var e=Kn.nodePermissions(r.node,"x");if(e)throw new Kn.ErrnoError(e);Kn.currentPath=r.path},createDefaultDirectories:function(){Kn.mkdir("/tmp"),Kn.mkdir("/home"),Kn.mkdir("/home/web_user")},createDefaultDevices:function(){Kn.mkdir("/dev"),Kn.registerDevice(Kn.makedev(1,3),{read:function(){return 0},write:function(n,r,e,t,a){return t}}),Kn.mkdev("/dev/null",Kn.makedev(1,3)),Wn.register(Kn.makedev(5,0),Wn.default_tty_ops),Wn.register(Kn.makedev(6,0),Wn.default_tty1_ops),Kn.mkdev("/dev/tty",Kn.makedev(5,0)),Kn.mkdev("/dev/tty1",Kn.makedev(6,0));var n=$n();Kn.createDevice("/dev","random",n),Kn.createDevice("/dev","urandom",n),Kn.mkdir("/dev/shm"),Kn.mkdir("/dev/shm/tmp")},createSpecialDirectories:function(){Kn.mkdir("/proc");var n=Kn.mkdir("/proc/self");Kn.mkdir("/proc/self/fd"),Kn.mount({mount:function(){var r=Kn.createNode(n,"fd",16895,73);return r.node_ops={lookup:function(n,r){var e=+r,t=Kn.getStream(e);if(!t)throw new Kn.ErrnoError(8);var a={parent:null,mount:{mountpoint:"fake"},node_ops:{readlink:function(){return t.path}}};return a.parent=a,a}},r}},{},"/proc/self/fd")},createStandardStreams:function(){i["stdin"]?Kn.createDevice("/dev","stdin",i["stdin"]):Kn.symlink("/dev/tty","/dev/stdin"),i["stdout"]?Kn.createDevice("/dev","stdout",null,i["stdout"]):Kn.symlink("/dev/tty","/dev/stdout"),i["stderr"]?Kn.createDevice("/dev","stderr",null,i["stderr"]):Kn.symlink("/dev/tty1","/dev/stderr");Kn.open("/dev/stdin",0),Kn.open("/dev/stdout",1),Kn.open("/dev/stderr",1)},ensureErrnoError:function(){Kn.ErrnoError||(Kn.ErrnoError=function(n,r){this.node=r,this.setErrno=function(n){this.errno=n},this.setErrno(n),this.message="FS error"},Kn.ErrnoError.prototype=new Error,Kn.ErrnoError.prototype.constructor=Kn.ErrnoError,[44].forEach((function(n){Kn.genericErrors[n]=new Kn.ErrnoError(n),Kn.genericErrors[n].stack="<generic error, no stack>"})))},staticInit:function(){Kn.ensureErrnoError(),Kn.nameTable=new Array(4096),Kn.mount(Hn,{},"/"),Kn.createDefaultDirectories(),Kn.createDefaultDevices(),Kn.createSpecialDirectories(),Kn.filesystems={MEMFS:Hn}},init:function(n,r,e){Kn.init.initialized=!0,Kn.ensureErrnoError(),i["stdin"]=n||i["stdin"],i["stdout"]=r||i["stdout"],i["stderr"]=e||i["stderr"],Kn.createStandardStreams()},quit:function(){Kn.init.initialized=!1;for(var n=0;n<Kn.streams.length;n++){var r=Kn.streams[n];r&&Kn.close(r)}},getMode:function(n,r){var e=0;return n&&(e|=365),r&&(e|=146),e},findObject:function(n,r){var e=Kn.analyzePath(n,r);return e.exists?e.object:null},analyzePath:function(n,r){try{var e=Kn.lookupPath(n,{follow:!r});n=e.path}catch(a){}var t={isRoot:!1,exists:!1,error:0,name:null,path:null,object:null,parentExists:!1,parentPath:null,parentObject:null};try{e=Kn.lookupPath(n,{parent:!0});t.parentExists=!0,t.parentPath=e.path,t.parentObject=e.node,t.name=Vn.basename(n),e=Kn.lookupPath(n,{follow:!r}),t.exists=!0,t.path=e.path,t.object=e.node,t.name=e.node.name,t.isRoot="/"===e.path}catch(a){t.error=a.errno}return t},createPath:function(n,r,e,t){n="string"===typeof n?n:Kn.getPath(n);var a=r.split("/").reverse();while(a.length){var o=a.pop();if(o){var i=Vn.join2(n,o);try{Kn.mkdir(i)}catch(s){}n=i}}return i},createFile:function(n,r,e,t,a){var o=Vn.join2("string"===typeof n?n:Kn.getPath(n),r),i=Kn.getMode(t,a);return Kn.create(o,i)},createDataFile:function(n,r,e,t,a,o){var i=r?Vn.join2("string"===typeof n?n:Kn.getPath(n),r):n,s=Kn.getMode(t,a),f=Kn.create(i,s);if(e){if("string"===typeof e){for(var u=new Array(e.length),l=0,c=e.length;l<c;++l)u[l]=e.charCodeAt(l);e=u}Kn.chmod(f,146|s);var d=Kn.open(f,577);Kn.write(d,e,0,e.length,0,o),Kn.close(d),Kn.chmod(f,s)}return f},createDevice:function(n,r,e,t){var a=Vn.join2("string"===typeof n?n:Kn.getPath(n),r),o=Kn.getMode(!!e,!!t);Kn.createDevice.major||(Kn.createDevice.major=64);var i=Kn.makedev(Kn.createDevice.major++,0);return Kn.registerDevice(i,{open:function(n){n.seekable=!1},close:function(n){t&&t.buffer&&t.buffer.length&&t(10)},read:function(n,r,t,a,o){for(var i=0,s=0;s<a;s++){var f;try{f=e()}catch(u){throw new Kn.ErrnoError(29)}if(void 0===f&&0===i)throw new Kn.ErrnoError(6);if(null===f||void 0===f)break;i++,r[t+s]=f}return i&&(n.node.timestamp=Date.now()),i},write:function(n,r,e,a,o){for(var i=0;i<a;i++)try{t(r[e+i])}catch(s){throw new Kn.ErrnoError(29)}return a&&(n.node.timestamp=Date.now()),i}}),Kn.mkdev(a,o,i)},forceLoadFile:function(n){if(n.isDevice||n.isFolder||n.link||n.contents)return!0;if("undefined"!==typeof XMLHttpRequest)throw new Error("Lazy loading should have been performed (contents set) in createLazyFile, but it was not. Lazy loading only works in web workers. Use --embed-file or --preload-file in emcc on the main thread.");if(!f)throw new Error("Cannot load without read() or XMLHttpRequest.");try{n.contents=Jt(f(n.url),!0),n.usedBytes=n.contents.length}catch(r){throw new Kn.ErrnoError(29)}},createLazyFile:function(n,r,e,t,a){function o(){this.lengthKnown=!1,this.chunks=[]}if(o.prototype.get=function(n){if(!(n>this.length-1||n<0)){var r=n%this.chunkSize,e=n/this.chunkSize|0;return this.getter(e)[r]}},o.prototype.setDataGetter=function(n){this.getter=n},o.prototype.cacheLength=function(){var n=new XMLHttpRequest;if(n.open("HEAD",e,!1),n.send(null),!(n.status>=200&&n.status<300||304===n.status))throw new Error("Couldn't load "+e+". Status: "+n.status);var r,t=Number(n.getResponseHeader("Content-length")),a=(r=n.getResponseHeader("Accept-Ranges"))&&"bytes"===r,o=(r=n.getResponseHeader("Content-Encoding"))&&"gzip"===r,i=1048576;a||(i=t);var s=function(n,r){if(n>r)throw new Error("invalid range ("+n+", "+r+") or no bytes requested!");if(r>t-1)throw new Error("only "+t+" bytes available! programmer error!");var a=new XMLHttpRequest;if(a.open("GET",e,!1),t!==i&&a.setRequestHeader("Range","bytes="+n+"-"+r),"undefined"!=typeof Uint8Array&&(a.responseType="arraybuffer"),a.overrideMimeType&&a.overrideMimeType("text/plain; charset=x-user-defined"),a.send(null),!(a.status>=200&&a.status<300||304===a.status))throw new Error("Couldn't load "+e+". Status: "+a.status);return void 0!==a.response?new Uint8Array(a.response||[]):Jt(a.responseText||"",!0)},f=this;f.setDataGetter((function(n){var r=n*i,e=(n+1)*i-1;if(e=Math.min(e,t-1),"undefined"===typeof f.chunks[n]&&(f.chunks[n]=s(r,e)),"undefined"===typeof f.chunks[n])throw new Error("doXHR failed!");return f.chunks[n]})),!o&&t||(i=t=1,t=this.getter(0).length,i=t,m("LazyFiles on gzip forces download of the whole file when length is accessed")),this._length=t,this._chunkSize=i,this.lengthKnown=!0},"undefined"!==typeof XMLHttpRequest){if(!w)throw"Cannot do synchronous binary XHRs outside webworkers in modern browsers. Use --embed-file or --preload-file in emcc";var i=new o;Object.defineProperties(i,{length:{get:function(){return this.lengthKnown||this.cacheLength(),this._length}},chunkSize:{get:function(){return this.lengthKnown||this.cacheLength(),this._chunkSize}}});var s={isDevice:!1,contents:i}}else s={isDevice:!1,url:e};var f=Kn.createFile(n,r,s,t,a);s.contents?f.contents=s.contents:s.url&&(f.contents=null,f.url=s.url),Object.defineProperties(f,{usedBytes:{get:function(){return this.contents.length}}});var u={},l=Object.keys(f.stream_ops);return l.forEach((function(n){var r=f.stream_ops[n];u[n]=function(){return Kn.forceLoadFile(f),r.apply(null,arguments)}})),u.read=function(n,r,e,t,a){Kn.forceLoadFile(f);var o=n.node.contents;if(a>=o.length)return 0;var i=Math.min(o.length-a,t);if(o.slice)for(var s=0;s<i;s++)r[e+s]=o[a+s];else for(s=0;s<i;s++)r[e+s]=o.get(a+s);return i},f.stream_ops=u,f},createPreloadedFile:function(n,r,e,t,a,o,s,f,u,l){Ln.init();var c=r?Xn.resolve(Vn.join2(n,r)):n,d=mn("cp "+c);function h(e){function h(e){l&&l(),f||Kn.createDataFile(n,r,e,t,a,u),o&&o(),gn(d)}var p=!1;i["preloadPlugins"].forEach((function(n){p||n["canHandle"](c)&&(n["handle"](e,c,h,(function(){s&&s(),gn(d)})),p=!0)})),p||h(e)}yn(d),"string"==typeof e?Qn(e,(function(n){h(n)}),s):h(e)},indexedDB:function(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB},DB_NAME:function(){return"EM_FS_"+window.location.pathname},DB_VERSION:20,DB_STORE_NAME:"FILE_DATA",saveFilesToDB:function(n,r,e){r=r||function(){},e=e||function(){};var t=Kn.indexedDB();try{var a=t.open(Kn.DB_NAME(),Kn.DB_VERSION)}catch(o){return e(o)}a.onupgradeneeded=function(){m("creating db");var n=a.result;n.createObjectStore(Kn.DB_STORE_NAME)},a.onsuccess=function(){var t=a.result,o=t.transaction([Kn.DB_STORE_NAME],"readwrite"),i=o.objectStore(Kn.DB_STORE_NAME),s=0,f=0,u=n.length;function l(){0==f?r():e()}n.forEach((function(n){var r=i.put(Kn.analyzePath(n).object.contents,n);r.onsuccess=function(){s++,s+f==u&&l()},r.onerror=function(){f++,s+f==u&&l()}})),o.onerror=e},a.onerror=e},loadFilesFromDB:function(n,r,e){r=r||function(){},e=e||function(){};var t=Kn.indexedDB();try{var a=t.open(Kn.DB_NAME(),Kn.DB_VERSION)}catch(o){return e(o)}a.onupgradeneeded=e,a.onsuccess=function(){var t=a.result;try{var i=t.transaction([Kn.DB_STORE_NAME],"readonly")}catch(o){return void e(o)}var s=i.objectStore(Kn.DB_STORE_NAME),f=0,u=0,l=n.length;function c(){0==u?r():e()}n.forEach((function(n){var r=s.get(n);r.onsuccess=function(){Kn.analyzePath(n).exists&&Kn.unlink(n),Kn.createDataFile(Vn.dirname(n),Vn.basename(n),r.result,!0,!0,!0),f++,f+u==l&&c()},r.onerror=function(){u++,f+u==l&&c()}})),i.onerror=e},a.onerror=e}},Zn={mappings:{},DEFAULT_POLLMASK:5,calculateAt:function(n,r,e){if("/"===r[0])return r;var t;if(-100===n)t=Kn.cwd();else{var a=Kn.getStream(n);if(!a)throw new Kn.ErrnoError(8);t=a.path}if(0==r.length){if(!e)throw new Kn.ErrnoError(44);return t}return Vn.join2(t,r)},doStat:function(n,r,e){try{var t=n(r)}catch(a){if(a&&a.node&&Vn.normalize(r)!==Vn.normalize(Kn.getPath(a.node)))return-54;throw a}return C[e>>2]=t.dev,C[e+4>>2]=0,C[e+8>>2]=t.ino,C[e+12>>2]=t.mode,C[e+16>>2]=t.nlink,C[e+20>>2]=t.uid,C[e+24>>2]=t.gid,C[e+28>>2]=t.rdev,C[e+32>>2]=0,En=[t.size>>>0,(bn=t.size,+Math.abs(bn)>=1?bn>0?(0|Math.min(+Math.floor(bn/4294967296),4294967295))>>>0:~~+Math.ceil((bn-+(~~bn>>>0))/4294967296)>>>0:0)],C[e+40>>2]=En[0],C[e+44>>2]=En[1],C[e+48>>2]=4096,C[e+52>>2]=t.blocks,C[e+56>>2]=t.atime.getTime()/1e3|0,C[e+60>>2]=0,C[e+64>>2]=t.mtime.getTime()/1e3|0,C[e+68>>2]=0,C[e+72>>2]=t.ctime.getTime()/1e3|0,C[e+76>>2]=0,En=[t.ino>>>0,(bn=t.ino,+Math.abs(bn)>=1?bn>0?(0|Math.min(+Math.floor(bn/4294967296),4294967295))>>>0:~~+Math.ceil((bn-+(~~bn>>>0))/4294967296)>>>0:0)],C[e+80>>2]=En[0],C[e+84>>2]=En[1],0},doMsync:function(n,r,e,t,a){var o=T.slice(n,n+e);Kn.msync(r,o,a,e,t)},doMkdir:function(n,r){return n=Vn.normalize(n),"/"===n[n.length-1]&&(n=n.substr(0,n.length-1)),Kn.mkdir(n,r,0),0},doMknod:function(n,r,e){switch(61440&r){case 32768:case 8192:case 24576:case 4096:case 49152:break;default:return-28}return Kn.mknod(n,r,e),0},doReadlink:function(n,r,e){if(e<=0)return-28;var t=Kn.readlink(n),a=Math.min(e,F(t)),o=D[r+a];return j(t,r,e+1),D[r+a]=o,a},doAccess:function(n,r){if(-8&r)return-28;var e=Kn.lookupPath(n,{follow:!0}),t=e.node;if(!t)return-44;var a="";return 4&r&&(a+="r"),2&r&&(a+="w"),1&r&&(a+="x"),a&&Kn.nodePermissions(t,a)?-2:0},doDup:function(n,r,e){var t=Kn.getStream(e);return t&&Kn.close(t),Kn.open(n,r,0,e,e).fd},doReadv:function(n,r,e,t){for(var a=0,o=0;o<e;o++){var i=C[r+8*o>>2],s=C[r+(8*o+4)>>2],f=Kn.read(n,D,i,s,t);if(f<0)return-1;if(a+=f,f<s)break}return a},doWritev:function(n,r,e,t){for(var a=0,o=0;o<e;o++){var i=C[r+8*o>>2],s=C[r+(8*o+4)>>2],f=Kn.write(n,D,i,s,t);if(f<0)return-1;a+=f}return a},varargs:void 0,get:function(){Zn.varargs+=4;var n=C[Zn.varargs-4>>2];return n},getStr:function(n){var r=O(n);return r},getStreamFromFD:function(n){var r=Kn.getStream(n);if(!r)throw new Kn.ErrnoError(8);return r},get64:function(n,r){return n}};function nr(n,r,e){Zn.varargs=e;try{var t=Zn.getStreamFromFD(n);switch(r){case 0:var a,o=Zn.get();return o<0?-28:(a=Kn.open(t.path,t.flags,0,o),a.fd);case 1:case 2:return 0;case 3:return t.flags;case 4:o=Zn.get();return t.flags|=o,0;case 5:o=Zn.get();var i=0;return I[o+i>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return Gn(28),-1;default:return-28}}catch(s){if("undefined"===typeof Kn||!(s instanceof Kn.ErrnoError))throw s;return-s.errno}}function rr(n,r,e){Zn.varargs=e;try{var t=Zn.getStreamFromFD(n);switch(r){case 21509:case 21505:return t.tty?0:-59;case 21510:case 21511:case 21512:case 21506:case 21507:case 21508:return t.tty?0:-59;case 21519:if(!t.tty)return-59;var a=Zn.get();return C[a>>2]=0,0;case 21520:return t.tty?-28:-59;case 21531:a=Zn.get();return Kn.ioctl(t,r,a);case 21523:return t.tty?0:-59;case 21524:return t.tty?0:-59;default:_n("bad ioctl syscall "+r)}}catch(o){if("undefined"===typeof Kn||!(o instanceof Kn.ErrnoError))throw o;return-o.errno}}function er(n,r,e){Zn.varargs=e;try{var t=Zn.getStr(n),a=e?Zn.get():0,o=Kn.open(t,r,a);return o.fd}catch(i){if("undefined"===typeof Kn||!(i instanceof Kn.ErrnoError))throw i;return-i.errno}}var tr={};function ar(n){while(n.length){var r=n.pop(),e=n.pop();e(r)}}function or(n){return this["fromWireType"](q[n>>2])}var ir={},sr={},fr={},ur=48,lr=57;function cr(n){if(void 0===n)return"_unknown";n=n.replace(/[^a-zA-Z0-9_]/g,"$");var r=n.charCodeAt(0);return r>=ur&&r<=lr?"_"+n:n}function dr(n,r){return n=cr(n),new Function("body","return function "+n+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(r)}function hr(n,r){var e=dr(r,(function(n){this.name=r,this.message=n;var e=new Error(n).stack;void 0!==e&&(this.stack=this.toString()+"\n"+e.replace(/^Error(:[^\n]*)?\n/,""))}));return e.prototype=Object.create(n.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},e}var pr=void 0;function vr(n){throw new pr(n)}function wr(n,r,e){function t(r){var t=e(r);t.length!==n.length&&vr("Mismatched type converter count");for(var a=0;a<n.length;++a)Pr(n[a],t[a])}n.forEach((function(n){fr[n]=r}));var a=new Array(r.length),o=[],i=0;r.forEach((function(n,r){sr.hasOwnProperty(n)?a[r]=sr[n]:(o.push(n),ir.hasOwnProperty(n)||(ir[n]=[]),ir[n].push((function(){a[r]=sr[n],++i,i===o.length&&t(a)})))})),0===o.length&&t(a)}function mr(n){var r=tr[n];delete tr[n];var e=r.elements,t=e.length,a=e.map((function(n){return n.getterReturnType})).concat(e.map((function(n){return n.setterArgumentType}))),o=r.rawConstructor,i=r.rawDestructor;wr([n],a,(function(n){return e.forEach((function(r,e){var a=n[e],o=r.getter,i=r.getterContext,s=n[e+t],f=r.setter,u=r.setterContext;r.read=function(n){return a["fromWireType"](o(i,n))},r.write=function(n,r){var e=[];f(u,n,s["toWireType"](e,r)),ar(e)}})),[{name:r.name,fromWireType:function(n){for(var r=new Array(t),a=0;a<t;++a)r[a]=e[a].read(n);return i(n),r},toWireType:function(n,a){if(t!==a.length)throw new TypeError("Incorrect number of tuple elements for "+r.name+": expected="+t+", actual="+a.length);for(var s=o(),f=0;f<t;++f)e[f].write(s,a[f]);return null!==n&&n.push(i,s),s},argPackAdvance:8,readValueFromPointer:or,destructorFunction:i}]}))}var yr={};function gr(n){var r=yr[n];delete yr[n];var e=r.rawConstructor,t=r.rawDestructor,a=r.fields,o=a.map((function(n){return n.getterReturnType})).concat(a.map((function(n){return n.setterArgumentType})));wr([n],o,(function(n){var o={};return a.forEach((function(r,e){var t=r.fieldName,i=n[e],s=r.getter,f=r.getterContext,u=n[e+a.length],l=r.setter,c=r.setterContext;o[t]={read:function(n){return i["fromWireType"](s(f,n))},write:function(n,r){var e=[];l(c,n,u["toWireType"](e,r)),ar(e)}}})),[{name:r.name,fromWireType:function(n){var r={};for(var e in o)r[e]=o[e].read(n);return t(n),r},toWireType:function(n,r){for(var a in o)if(!(a in r))throw new TypeError('Missing field:  "'+a+'"');var i=e();for(a in o)o[a].write(i,r[a]);return null!==n&&n.push(t,i),i},argPackAdvance:8,readValueFromPointer:or,destructorFunction:t}]}))}function _r(n,r,e,t,a){}function br(n){switch(n){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+n)}}function Er(){for(var n=new Array(256),r=0;r<256;++r)n[r]=String.fromCharCode(r);Ar=n}var Ar=void 0;function xr(n){var r="",e=n;while(T[e])r+=Ar[T[e++]];return r}var Mr=void 0;function kr(n){throw new Mr(n)}function Pr(n,r,e){if(e=e||{},!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");var t=r.name;if(n||kr('type "'+t+'" must have a positive integer typeid pointer'),sr.hasOwnProperty(n)){if(e.ignoreDuplicateRegistrations)return;kr("Cannot register type '"+t+"' twice")}if(sr[n]=r,delete fr[n],ir.hasOwnProperty(n)){var a=ir[n];delete ir[n],a.forEach((function(n){n()}))}}function Sr(n,r,e,t,a){var o=br(e);r=xr(r),Pr(n,{name:r,fromWireType:function(n){return!!n},toWireType:function(n,r){return r?t:a},argPackAdvance:8,readValueFromPointer:function(n){var t;if(1===e)t=D;else if(2===e)t=I;else{if(4!==e)throw new TypeError("Unknown boolean type size: "+r);t=C}return this["fromWireType"](t[n>>o])},destructorFunction:null})}function Or(n){if(!(this instanceof Vr))return!1;if(!(n instanceof Vr))return!1;var r=this.$$.ptrType.registeredClass,e=this.$$.ptr,t=n.$$.ptrType.registeredClass,a=n.$$.ptr;while(r.baseClass)e=r.upcast(e),r=r.baseClass;while(t.baseClass)a=t.upcast(a),t=t.baseClass;return r===t&&e===a}function Nr(n){return{count:n.count,deleteScheduled:n.deleteScheduled,preservePointerOnDelete:n.preservePointerOnDelete,ptr:n.ptr,ptrType:n.ptrType,smartPtr:n.smartPtr,smartPtrType:n.smartPtrType}}function jr(n){function r(n){return n.$$.ptrType.registeredClass.name}kr(r(n)+" instance already deleted")}var Fr=!1;function Rr(n){}function Dr(n){n.smartPtr?n.smartPtrType.rawDestructor(n.smartPtr):n.ptrType.registeredClass.rawDestructor(n.ptr)}function Tr(n){n.count.value-=1;var r=0===n.count.value;r&&Dr(n)}function Ir(n){return"undefined"===typeof FinalizationGroup?(Ir=function(n){return n},n):(Fr=new FinalizationGroup((function(n){for(var r=n.next();!r.done;r=n.next()){var e=r.value;e.ptr?Tr(e):console.warn("object already deleted: "+e.ptr)}})),Ir=function(n){return Fr.register(n,n.$$,n.$$),n},Rr=function(n){Fr.unregister(n.$$)},Ir(n))}function Lr(){if(this.$$.ptr||jr(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var n=Ir(Object.create(Object.getPrototypeOf(this),{$$:{value:Nr(this.$$)}}));return n.$$.count.value+=1,n.$$.deleteScheduled=!1,n}function Cr(){this.$$.ptr||jr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&kr("Object already scheduled for deletion"),Rr(this),Tr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)}function qr(){return!this.$$.ptr}var Ur=void 0,Yr=[];function zr(){while(Yr.length){var n=Yr.pop();n.$$.deleteScheduled=!1,n["delete"]()}}function Br(){return this.$$.ptr||jr(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&kr("Object already scheduled for deletion"),Yr.push(this),1===Yr.length&&Ur&&Ur(zr),this.$$.deleteScheduled=!0,this}function Gr(){Vr.prototype["isAliasOf"]=Or,Vr.prototype["clone"]=Lr,Vr.prototype["delete"]=Cr,Vr.prototype["isDeleted"]=qr,Vr.prototype["deleteLater"]=Br}function Vr(){}var $r={};function Xr(n,r,e){if(void 0===n[r].overloadTable){var t=n[r];n[r]=function(){return n[r].overloadTable.hasOwnProperty(arguments.length)||kr("Function '"+e+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+n[r].overloadTable+")!"),n[r].overloadTable[arguments.length].apply(this,arguments)},n[r].overloadTable=[],n[r].overloadTable[t.argCount]=t}}function Wr(n,r,e){i.hasOwnProperty(n)?((void 0===e||void 0!==i[n].overloadTable&&void 0!==i[n].overloadTable[e])&&kr("Cannot register public name '"+n+"' twice"),Xr(i,n,n),i.hasOwnProperty(e)&&kr("Cannot register multiple overloads of a function with the same number of arguments ("+e+")!"),i[n].overloadTable[e]=r):(i[n]=r,void 0!==e&&(i[n].numArguments=e))}function Jr(n,r,e,t,a,o,i,s){this.name=n,this.constructor=r,this.instancePrototype=e,this.rawDestructor=t,this.baseClass=a,this.getActualType=o,this.upcast=i,this.downcast=s,this.pureVirtualFunctions=[]}function Hr(n,r,e){while(r!==e)r.upcast||kr("Expected null or instance of "+e.name+", got an instance of "+r.name),n=r.upcast(n),r=r.baseClass;return n}function Qr(n,r){if(null===r)return this.isReference&&kr("null is not a valid "+this.name),0;r.$$||kr('Cannot pass "'+Ve(r)+'" as a '+this.name),r.$$.ptr||kr("Cannot pass deleted object as a pointer of type "+this.name);var e=r.$$.ptrType.registeredClass,t=Hr(r.$$.ptr,e,this.registeredClass);return t}function Kr(n,r){var e;if(null===r)return this.isReference&&kr("null is not a valid "+this.name),this.isSmartPointer?(e=this.rawConstructor(),null!==n&&n.push(this.rawDestructor,e),e):0;r.$$||kr('Cannot pass "'+Ve(r)+'" as a '+this.name),r.$$.ptr||kr("Cannot pass deleted object as a pointer of type "+this.name),!this.isConst&&r.$$.ptrType.isConst&&kr("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);var t=r.$$.ptrType.registeredClass;if(e=Hr(r.$$.ptr,t,this.registeredClass),this.isSmartPointer)switch(void 0===r.$$.smartPtr&&kr("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?e=r.$$.smartPtr:kr("Cannot convert argument of type "+(r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name)+" to parameter type "+this.name);break;case 1:e=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)e=r.$$.smartPtr;else{var a=r["clone"]();e=this.rawShare(e,qe.toHandle((function(){a["delete"]()}))),null!==n&&n.push(this.rawDestructor,e)}break;default:kr("Unsupporting sharing policy")}return e}function Zr(n,r){if(null===r)return this.isReference&&kr("null is not a valid "+this.name),0;r.$$||kr('Cannot pass "'+Ve(r)+'" as a '+this.name),r.$$.ptr||kr("Cannot pass deleted object as a pointer of type "+this.name),r.$$.ptrType.isConst&&kr("Cannot convert argument of type "+r.$$.ptrType.name+" to parameter type "+this.name);var e=r.$$.ptrType.registeredClass,t=Hr(r.$$.ptr,e,this.registeredClass);return t}function ne(n){return this.rawGetPointee&&(n=this.rawGetPointee(n)),n}function re(n){this.rawDestructor&&this.rawDestructor(n)}function ee(n){null!==n&&n["delete"]()}function te(n,r,e){if(r===e)return n;if(void 0===e.baseClass)return null;var t=te(n,r,e.baseClass);return null===t?null:e.downcast(t)}function ae(){return Object.keys(fe).length}function oe(){var n=[];for(var r in fe)fe.hasOwnProperty(r)&&n.push(fe[r]);return n}function ie(n){Ur=n,Yr.length&&Ur&&Ur(zr)}function se(){i["getInheritedInstanceCount"]=ae,i["getLiveInheritedInstances"]=oe,i["flushPendingDeletes"]=zr,i["setDelayFunction"]=ie}var fe={};function ue(n,r){void 0===r&&kr("ptr should not be undefined");while(n.baseClass)r=n.upcast(r),n=n.baseClass;return r}function le(n,r){return r=ue(n,r),fe[r]}function ce(n,r){r.ptrType&&r.ptr||vr("makeClassHandle requires ptr and ptrType");var e=!!r.smartPtrType,t=!!r.smartPtr;return e!==t&&vr("Both smartPtrType and smartPtr must be specified"),r.count={value:1},Ir(Object.create(n,{$$:{value:r}}))}function de(n){var r=this.getPointee(n);if(!r)return this.destructor(n),null;var e=le(this.registeredClass,r);if(void 0!==e){if(0===e.$$.count.value)return e.$$.ptr=r,e.$$.smartPtr=n,e["clone"]();var t=e["clone"]();return this.destructor(n),t}function a(){return this.isSmartPointer?ce(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:n}):ce(this.registeredClass.instancePrototype,{ptrType:this,ptr:n})}var o,i=this.registeredClass.getActualType(r),s=$r[i];if(!s)return a.call(this);o=this.isConst?s.constPointerType:s.pointerType;var f=te(r,this.registeredClass,o.registeredClass);return null===f?a.call(this):this.isSmartPointer?ce(o.registeredClass.instancePrototype,{ptrType:o,ptr:f,smartPtrType:this,smartPtr:n}):ce(o.registeredClass.instancePrototype,{ptrType:o,ptr:f})}function he(){pe.prototype.getPointee=ne,pe.prototype.destructor=re,pe.prototype["argPackAdvance"]=8,pe.prototype["readValueFromPointer"]=or,pe.prototype["deleteObject"]=ee,pe.prototype["fromWireType"]=de}function pe(n,r,e,t,a,o,i,s,f,u,l){this.name=n,this.registeredClass=r,this.isReference=e,this.isConst=t,this.isSmartPointer=a,this.pointeeType=o,this.sharingPolicy=i,this.rawGetPointee=s,this.rawConstructor=f,this.rawShare=u,this.rawDestructor=l,a||void 0!==r.baseClass?this["toWireType"]=Kr:t?(this["toWireType"]=Qr,this.destructorFunction=null):(this["toWireType"]=Zr,this.destructorFunction=null)}function ve(n,r,e){i.hasOwnProperty(n)||vr("Replacing nonexistant public symbol"),void 0!==i[n].overloadTable&&void 0!==e?i[n].overloadTable[e]=r:(i[n]=r,i[n].argCount=e)}function we(n,r,e){var t=i["dynCall_"+n];return e&&e.length?t.apply(null,[r].concat(e)):t.call(null,r)}function me(n,r,e){return n.includes("j")?we(n,r,e):Un(r).apply(null,e)}function ye(n,r){var e=[];return function(){e.length=arguments.length;for(var t=0;t<arguments.length;t++)e[t]=arguments[t];return me(n,r,e)}}function ge(n,r){function e(){return n.includes("j")?ye(n,r):Un(r)}n=xr(n);var t=e();return"function"!==typeof t&&kr("unknown function pointer with signature "+n+": "+r),t}var _e=void 0;function be(n){var r=ra(n),e=xr(r);return Zt(r),e}function Ee(n,r){var e=[],t={};function a(n){t[n]||sr[n]||(fr[n]?fr[n].forEach(a):(e.push(n),t[n]=!0))}throw r.forEach(a),new _e(n+": "+e.map(be).join([", "]))}function Ae(n,r,e,t,a,o,i,s,f,u,l,c,d){l=xr(l),o=ge(a,o),s&&(s=ge(i,s)),u&&(u=ge(f,u)),d=ge(c,d);var h=cr(l);Wr(h,(function(){Ee("Cannot construct "+l+" due to unbound types",[t])})),wr([n,r,e],t?[t]:[],(function(r){var e,a;r=r[0],t?(e=r.registeredClass,a=e.instancePrototype):a=Vr.prototype;var i=dr(h,(function(){if(Object.getPrototypeOf(this)!==f)throw new Mr("Use 'new' to construct "+l);if(void 0===c.constructor_body)throw new Mr(l+" has no accessible constructor");var n=c.constructor_body[arguments.length];if(void 0===n)throw new Mr("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(c.constructor_body).toString()+") parameters instead!");return n.apply(this,arguments)})),f=Object.create(a,{constructor:{value:i}});i.prototype=f;var c=new Jr(l,i,f,d,e,o,s,u),p=new pe(l,c,!0,!1,!1),v=new pe(l+"*",c,!1,!1,!1),w=new pe(l+" const*",c,!1,!0,!1);return $r[n]={pointerType:v,constPointerType:w},ve(h,i),[p,v,w]}))}function xe(n,r){if(!(n instanceof Function))throw new TypeError("new_ called with constructor type "+typeof n+" which is not a function");var e=dr(n.name||"unknownFunctionName",(function(){}));e.prototype=n.prototype;var t=new e,a=n.apply(t,r);return a instanceof Object?a:t}function Me(n,r,e,t,a){var o=r.length;o<2&&kr("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var i=null!==r[1]&&null!==e,s=!1,f=1;f<r.length;++f)if(null!==r[f]&&void 0===r[f].destructorFunction){s=!0;break}var u="void"!==r[0].name,l="",c="";for(f=0;f<o-2;++f)l+=(0!==f?", ":"")+"arg"+f,c+=(0!==f?", ":"")+"arg"+f+"Wired";var d="return function "+cr(n)+"("+l+") {\nif (arguments.length !== "+(o-2)+") {\nthrowBindingError('function "+n+" called with ' + arguments.length + ' arguments, expected "+(o-2)+" args!');\n}\n";s&&(d+="var destructors = [];\n");var h=s?"destructors":"null",p=["throwBindingError","invoker","fn","runDestructors","retType","classParam"],v=[kr,t,a,ar,r[0],r[1]];i&&(d+="var thisWired = classParam.toWireType("+h+", this);\n");for(f=0;f<o-2;++f)d+="var arg"+f+"Wired = argType"+f+".toWireType("+h+", arg"+f+"); // "+r[f+2].name+"\n",p.push("argType"+f),v.push(r[f+2]);if(i&&(c="thisWired"+(c.length>0?", ":"")+c),d+=(u?"var rv = ":"")+"invoker(fn"+(c.length>0?", ":"")+c+");\n",s)d+="runDestructors(destructors);\n";else for(f=i?1:2;f<r.length;++f){var w=1===f?"thisWired":"arg"+(f-2)+"Wired";null!==r[f].destructorFunction&&(d+=w+"_dtor("+w+"); // "+r[f].name+"\n",p.push(w+"_dtor"),v.push(r[f].destructorFunction))}u&&(d+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),d+="}\n",p.push(d);var m=xe(Function,p).apply(null,v);return m}function ke(n,r){for(var e=[],t=0;t<n;t++)e.push(C[(r>>2)+t]);return e}function Pe(n,r,e,t,a,o,i){var s=ke(e,t);r=xr(r),o=ge(a,o),wr([],[n],(function(n){n=n[0];var t=n.name+"."+r;function a(){Ee("Cannot call "+t+" due to unbound types",s)}r.startsWith("@@")&&(r=Symbol[r.substring(2)]);var f=n.registeredClass.constructor;return void 0===f[r]?(a.argCount=e-1,f[r]=a):(Xr(f,r,t),f[r].overloadTable[e-1]=a),wr([],s,(function(n){var a=[n[0],null].concat(n.slice(1)),s=Me(t,a,null,o,i);return void 0===f[r].overloadTable?(s.argCount=e-1,f[r]=s):f[r].overloadTable[e-1]=s,[]})),[]}))}function Se(n,r,e,t,a,o){k(r>0);var i=ke(r,e);a=ge(t,a),wr([],[n],(function(n){n=n[0];var e="constructor "+n.name;if(void 0===n.registeredClass.constructor_body&&(n.registeredClass.constructor_body=[]),void 0!==n.registeredClass.constructor_body[r-1])throw new Mr("Cannot register multiple constructors with identical number of parameters ("+(r-1)+") for class '"+n.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return n.registeredClass.constructor_body[r-1]=function(){Ee("Cannot construct "+n.name+" due to unbound types",i)},wr([],i,(function(t){return t.splice(1,0,null),n.registeredClass.constructor_body[r-1]=Me(e,t,null,a,o),[]})),[]}))}function Oe(n,r,e,t,a,o,i,s){var f=ke(e,t);r=xr(r),o=ge(a,o),wr([],[n],(function(n){n=n[0];var t=n.name+"."+r;function a(){Ee("Cannot call "+t+" due to unbound types",f)}r.startsWith("@@")&&(r=Symbol[r.substring(2)]),s&&n.registeredClass.pureVirtualFunctions.push(r);var u=n.registeredClass.instancePrototype,l=u[r];return void 0===l||void 0===l.overloadTable&&l.className!==n.name&&l.argCount===e-2?(a.argCount=e-2,a.className=n.name,u[r]=a):(Xr(u,r,t),u[r].overloadTable[e-2]=a),wr([],f,(function(a){var s=Me(t,a,n,o,i);return void 0===u[r].overloadTable?(s.argCount=e-2,u[r]=s):u[r].overloadTable[e-2]=s,[]})),[]}))}function Ne(n,r,e){return n instanceof Object||kr(e+' with invalid "this": '+n),n instanceof r.registeredClass.constructor||kr(e+' incompatible with "this" of type '+n.constructor.name),n.$$.ptr||kr("cannot call emscripten binding method "+e+" on deleted object"),Hr(n.$$.ptr,n.$$.ptrType.registeredClass,r.registeredClass)}function je(n,r,e,t,a,o,i,s,f,u){r=xr(r),a=ge(t,a),wr([],[n],(function(n){n=n[0];var t=n.name+"."+r,l={get:function(){Ee("Cannot access "+t+" due to unbound types",[e,i])},enumerable:!0,configurable:!0};return l.set=f?function(){Ee("Cannot access "+t+" due to unbound types",[e,i])}:function(n){kr(t+" is a read-only property")},Object.defineProperty(n.registeredClass.instancePrototype,r,l),wr([],f?[e,i]:[e],(function(e){var i=e[0],l={get:function(){var r=Ne(this,n,t+" getter");return i["fromWireType"](a(o,r))},enumerable:!0};if(f){f=ge(s,f);var c=e[1];l.set=function(r){var e=Ne(this,n,t+" setter"),a=[];f(u,e,c["toWireType"](a,r)),ar(a)}}return Object.defineProperty(n.registeredClass.instancePrototype,r,l),[]})),[]}))}function Fe(n,r,e){n=xr(n),wr([],[r],(function(r){return r=r[0],i[n]=r["fromWireType"](e),[]}))}var Re=[],De=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Te(n){n>4&&0===--De[n].refcount&&(De[n]=void 0,Re.push(n))}function Ie(){for(var n=0,r=5;r<De.length;++r)void 0!==De[r]&&++n;return n}function Le(){for(var n=5;n<De.length;++n)if(void 0!==De[n])return De[n];return null}function Ce(){i["count_emval_handles"]=Ie,i["get_first_emval"]=Le}var qe={toValue:function(n){return n||kr("Cannot use deleted val. handle = "+n),De[n].value},toHandle:function(n){switch(n){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var r=Re.length?Re.pop():De.length;return De[r]={refcount:1,value:n},r}}};function Ue(n,r){r=xr(r),Pr(n,{name:r,fromWireType:function(n){var r=qe.toValue(n);return Te(n),r},toWireType:function(n,r){return qe.toHandle(r)},argPackAdvance:8,readValueFromPointer:or,destructorFunction:null})}function Ye(n,r,e){switch(r){case 0:return function(n){var r=e?D:T;return this["fromWireType"](r[n])};case 1:return function(n){var r=e?I:L;return this["fromWireType"](r[n>>1])};case 2:return function(n){var r=e?C:q;return this["fromWireType"](r[n>>2])};default:throw new TypeError("Unknown integer type: "+n)}}function ze(n,r,e,t){var a=br(e);function o(){}r=xr(r),o.values={},Pr(n,{name:r,constructor:o,fromWireType:function(n){return this.constructor.values[n]},toWireType:function(n,r){return r.value},argPackAdvance:8,readValueFromPointer:Ye(r,a,t),destructorFunction:null}),Wr(r,o)}function Be(n,r){var e=sr[n];return void 0===e&&kr(r+" has unknown type "+be(n)),e}function Ge(n,r,e){var t=Be(n,"enum");r=xr(r);var a=t.constructor,o=Object.create(t.constructor.prototype,{value:{value:e},constructor:{value:dr(t.name+"_"+r,(function(){}))}});a.values[e]=o,a[r]=o}function Ve(n){if(null===n)return"null";var r=typeof n;return"object"===r||"array"===r||"function"===r?n.toString():""+n}function $e(n,r){switch(r){case 2:return function(n){return this["fromWireType"](U[n>>2])};case 3:return function(n){return this["fromWireType"](Y[n>>3])};default:throw new TypeError("Unknown float type: "+n)}}function Xe(n,r,e){var t=br(e);r=xr(r),Pr(n,{name:r,fromWireType:function(n){return n},toWireType:function(n,r){return r},argPackAdvance:8,readValueFromPointer:$e(r,t),destructorFunction:null})}function We(n,r,e,t,a,o){var i=ke(r,e);n=xr(n),a=ge(t,a),Wr(n,(function(){Ee("Cannot call "+n+" due to unbound types",i)}),r-1),wr([],i,(function(e){var t=[e[0],null].concat(e.slice(1));return ve(n,Me(n,t,null,a,o),r-1),[]}))}function Je(n,r,e){switch(r){case 0:return e?function(n){return D[n]}:function(n){return T[n]};case 1:return e?function(n){return I[n>>1]}:function(n){return L[n>>1]};case 2:return e?function(n){return C[n>>2]}:function(n){return q[n>>2]};default:throw new TypeError("Unknown integer type: "+n)}}function He(n,r,e,t,a){r=xr(r),-1===a&&(a=4294967295);var o=br(e),i=function(n){return n};if(0===t){var s=32-8*e;i=function(n){return n<<s>>>s}}var f,u=r.includes("unsigned"),l=function(n,r){};f=u?function(n,r){return l(r,this.name),r>>>0}:function(n,r){return l(r,this.name),r},Pr(n,{name:r,fromWireType:i,toWireType:f,argPackAdvance:8,readValueFromPointer:Je(r,o,0!==t),destructorFunction:null})}function Qe(n,r,e){var t=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],a=t[r];function o(n){n>>=2;var r=q,e=r[n],t=r[n+1];return new a(R,t,e)}e=xr(e),Pr(n,{name:e,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{ignoreDuplicateRegistrations:!0})}function Ke(n,r,e,t,a,o,i,s,f,u,l,c){e=xr(e),o=ge(a,o),s=ge(i,s),u=ge(f,u),c=ge(l,c),wr([n],[r],(function(n){n=n[0];var r=new pe(e,n.registeredClass,!1,!1,!0,n,t,o,s,u,c);return[r]}))}function Ze(n,r){r=xr(r);var e="std::string"===r;Pr(n,{name:r,fromWireType:function(n){var r,t=q[n>>2];if(e)for(var a=n+4,o=0;o<=t;++o){var i=n+4+o;if(o==t||0==T[i]){var s=i-a,f=O(a,s);void 0===r?r=f:(r+=String.fromCharCode(0),r+=f),a=i+1}}else{var u=new Array(t);for(o=0;o<t;++o)u[o]=String.fromCharCode(T[n+4+o]);r=u.join("")}return Zt(n),r},toWireType:function(n,r){var t;r instanceof ArrayBuffer&&(r=new Uint8Array(r));var a="string"===typeof r;a||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int8Array||kr("Cannot pass non-string to std::string"),t=e&&a?function(){return F(r)}:function(){return r.length};var o=t(),i=Kt(4+o+1);if(q[i>>2]=o,e&&a)j(r,i+4,o+1);else if(a)for(var s=0;s<o;++s){var f=r.charCodeAt(s);f>255&&(Zt(i),kr("String has UTF-16 code units that do not fit in 8 bits")),T[i+4+s]=f}else for(s=0;s<o;++s)T[i+4+s]=r[s];return null!==n&&n.push(Zt,i),i},argPackAdvance:8,readValueFromPointer:or,destructorFunction:function(n){Zt(n)}})}function nt(n,r,e){var t,a,o,i,s;e=xr(e),2===r?(t=B,a=G,i=V,o=function(){return L},s=1):4===r&&(t=$,a=X,i=W,o=function(){return q},s=2),Pr(n,{name:e,fromWireType:function(n){for(var e,a=q[n>>2],i=o(),f=n+4,u=0;u<=a;++u){var l=n+4+u*r;if(u==a||0==i[l>>s]){var c=l-f,d=t(f,c);void 0===e?e=d:(e+=String.fromCharCode(0),e+=d),f=l+r}}return Zt(n),e},toWireType:function(n,t){"string"!==typeof t&&kr("Cannot pass non-string to C++ string type "+e);var o=i(t),f=Kt(4+o+r);return q[f>>2]=o>>s,a(t,f+4,o+r),null!==n&&n.push(Zt,f),f},argPackAdvance:8,readValueFromPointer:or,destructorFunction:function(n){Zt(n)}})}function rt(n,r,e,t,a,o){tr[n]={name:xr(r),rawConstructor:ge(e,t),rawDestructor:ge(a,o),elements:[]}}function et(n,r,e,t,a,o,i,s,f){tr[n].elements.push({getterReturnType:r,getter:ge(e,t),getterContext:a,setterArgumentType:o,setter:ge(i,s),setterContext:f})}function tt(n,r,e,t,a,o){yr[n]={name:xr(r),rawConstructor:ge(e,t),rawDestructor:ge(a,o),fields:[]}}function at(n,r,e,t,a,o,i,s,f,u){yr[n].fields.push({fieldName:xr(r),getterReturnType:e,getter:ge(t,a),getterContext:o,setterArgumentType:i,setter:ge(s,f),setterContext:u})}function ot(n,r){r=xr(r),Pr(n,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:function(){},toWireType:function(n,r){}})}function it(n,r,e){n=qe.toValue(n),r=Be(r,"emval::as");var t=[],a=qe.toHandle(t);return C[e>>2]=a,r["toWireType"](t,n)}var st={};function ft(n){var r=st[n];return void 0===r?xr(n):r}var ut=[];function lt(n,r,e,t){n=ut[n],r=qe.toValue(r),e=ft(e),n(r,e,null,t)}function ct(n){var r=ut.length;return ut.push(n),r}function dt(n,r){for(var e=new Array(n),t=0;t<n;++t)e[t]=Be(C[(r>>2)+t],"parameter "+t);return e}var ht=[];function pt(n,r){var e=dt(n,r),t=e[0],a=t.name+"_$"+e.slice(1).map((function(n){return n.name})).join("_")+"$",o=ht[a];if(void 0!==o)return o;for(var i=["retType"],s=[t],f="",u=0;u<n-1;++u)f+=(0!==u?", ":"")+"arg"+u,i.push("argType"+u),s.push(e[1+u]);var l=cr("methodCaller_"+a),c="return function "+l+"(handle, name, destructors, args) {\n",d=0;for(u=0;u<n-1;++u)c+="    var arg"+u+" = argType"+u+".readValueFromPointer(args"+(d?"+"+d:"")+");\n",d+=e[u+1]["argPackAdvance"];c+="    var rv = handle[name]("+f+");\n";for(u=0;u<n-1;++u)e[u+1]["deleteObject"]&&(c+="    argType"+u+".deleteObject(arg"+u+");\n");t.isVoid||(c+="    return retType.toWireType(destructors, rv);\n"),c+="};\n",i.push(c);var h=xe(Function,i).apply(null,s);return o=ct(h),ht[a]=o,o}function vt(n,r){return n=qe.toValue(n),r=qe.toValue(r),qe.toHandle(n[r])}function wt(n){n>4&&(De[n].refcount+=1)}function mt(){return qe.toHandle([])}function yt(n){return qe.toHandle(ft(n))}function gt(n){var r=qe.toValue(n);ar(r),Te(n)}function _t(n,r,e){n=qe.toValue(n),r=qe.toValue(r),e=qe.toValue(e),n[r]=e}function bt(n,r){n=Be(n,"_emval_take_value");var e=n["readValueFromPointer"](r);return qe.toHandle(e)}function Et(){_n("")}var At=!0;function xt(n,r){var e;if(0===n)e=Date.now();else{if(1!==n&&4!==n||!At)return Gn(28),-1;e=An()}return C[r>>2]=e/1e3|0,C[r+4>>2]=e%1e3*1e3*1e3|0,0}function Mt(){return 1073741824}function kt(n,r,e){T.copyWithin(n,r,r+e)}function Pt(n){try{return E.grow(n-R.byteLength+65535>>>16),K(E.buffer),1}catch(r){}}function St(n){var r=T.length;n>>>=0;var e=1073741824;if(n>e)return!1;for(var t=1;t<=4;t*=2){var a=r*(1+.2/t);a=Math.min(a,n+100663296);var o=Math.min(e,Q(Math.max(n,a),65536)),i=Pt(o);if(i)return!0}return!1}var Ot={};function Nt(){return h||"./this.program"}function jt(){if(!jt.strings){var n=("object"===typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",r={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:n,_:Nt()};for(var e in Ot)void 0===Ot[e]?delete r[e]:r[e]=Ot[e];var t=[];for(var e in r)t.push(e+"="+r[e]);jt.strings=t}return jt.strings}function Ft(n,r){var e=0;return jt().forEach((function(t,a){var o=r+e;C[n+4*a>>2]=o,H(t,o),e+=t.length+1})),0}function Rt(n,r){var e=jt();C[n>>2]=e.length;var t=0;return e.forEach((function(n){t+=n.length+1})),C[r>>2]=t,0}function Dt(n){try{var r=Zn.getStreamFromFD(n);return Kn.close(r),0}catch(e){if("undefined"===typeof Kn||!(e instanceof Kn.ErrnoError))throw e;return e.errno}}function Tt(n,r,e,t){try{var a=Zn.getStreamFromFD(n),o=Zn.doReadv(a,r,e);return C[t>>2]=o,0}catch(i){if("undefined"===typeof Kn||!(i instanceof Kn.ErrnoError))throw i;return i.errno}}function It(n,r,e,t,a){try{var o=Zn.getStreamFromFD(n),i=4294967296,s=e*i+(r>>>0),f=9007199254740992;return s<=-f||s>=f?-61:(Kn.llseek(o,s,t),En=[o.position>>>0,(bn=o.position,+Math.abs(bn)>=1?bn>0?(0|Math.min(+Math.floor(bn/4294967296),4294967295))>>>0:~~+Math.ceil((bn-+(~~bn>>>0))/4294967296)>>>0:0)],C[a>>2]=En[0],C[a+4>>2]=En[1],o.getdents&&0===s&&0===t&&(o.getdents=null),0)}catch(u){if("undefined"===typeof Kn||!(u instanceof Kn.ErrnoError))throw u;return u.errno}}function Lt(n,r,e,t){try{var a=Zn.getStreamFromFD(n),o=Zn.doWritev(a,r,e);return C[t>>2]=o,0}catch(i){if("undefined"===typeof Kn||!(i instanceof Kn.ErrnoError))throw i;return i.errno}}function Ct(n){b(n)}function qt(n){return n%4===0&&(n%100!==0||n%400===0)}function Ut(n,r){for(var e=0,t=0;t<=r;e+=n[t++]);return e}var Yt=[31,29,31,30,31,30,31,31,30,31,30,31],zt=[31,28,31,30,31,30,31,31,30,31,30,31];function Bt(n,r){var e=new Date(n.getTime());while(r>0){var t=qt(e.getFullYear()),a=e.getMonth(),o=(t?Yt:zt)[a];if(!(r>o-e.getDate()))return e.setDate(e.getDate()+r),e;r-=o-e.getDate()+1,e.setDate(1),a<11?e.setMonth(a+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function Gt(n,r,e,t){var a=C[t+40>>2],o={tm_sec:C[t>>2],tm_min:C[t+4>>2],tm_hour:C[t+8>>2],tm_mday:C[t+12>>2],tm_mon:C[t+16>>2],tm_year:C[t+20>>2],tm_wday:C[t+24>>2],tm_yday:C[t+28>>2],tm_isdst:C[t+32>>2],tm_gmtoff:C[t+36>>2],tm_zone:a?O(a):""},i=O(e),s={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in s)i=i.replace(new RegExp(f,"g"),s[f]);var u=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],l=["January","February","March","April","May","June","July","August","September","October","November","December"];function c(n,r,e){var t="number"===typeof n?n.toString():n||"";while(t.length<r)t=e[0]+t;return t}function d(n,r){return c(n,r,"0")}function h(n,r){function e(n){return n<0?-1:n>0?1:0}var t;return 0===(t=e(n.getFullYear()-r.getFullYear()))&&0===(t=e(n.getMonth()-r.getMonth()))&&(t=e(n.getDate()-r.getDate())),t}function p(n){switch(n.getDay()){case 0:return new Date(n.getFullYear()-1,11,29);case 1:return n;case 2:return new Date(n.getFullYear(),0,3);case 3:return new Date(n.getFullYear(),0,2);case 4:return new Date(n.getFullYear(),0,1);case 5:return new Date(n.getFullYear()-1,11,31);case 6:return new Date(n.getFullYear()-1,11,30)}}function v(n){var r=Bt(new Date(n.tm_year+1900,0,1),n.tm_yday),e=new Date(r.getFullYear(),0,4),t=new Date(r.getFullYear()+1,0,4),a=p(e),o=p(t);return h(a,r)<=0?h(o,r)<=0?r.getFullYear()+1:r.getFullYear():r.getFullYear()-1}var w={"%a":function(n){return u[n.tm_wday].substring(0,3)},"%A":function(n){return u[n.tm_wday]},"%b":function(n){return l[n.tm_mon].substring(0,3)},"%B":function(n){return l[n.tm_mon]},"%C":function(n){var r=n.tm_year+1900;return d(r/100|0,2)},"%d":function(n){return d(n.tm_mday,2)},"%e":function(n){return c(n.tm_mday,2," ")},"%g":function(n){return v(n).toString().substring(2)},"%G":function(n){return v(n)},"%H":function(n){return d(n.tm_hour,2)},"%I":function(n){var r=n.tm_hour;return 0==r?r=12:r>12&&(r-=12),d(r,2)},"%j":function(n){return d(n.tm_mday+Ut(qt(n.tm_year+1900)?Yt:zt,n.tm_mon-1),3)},"%m":function(n){return d(n.tm_mon+1,2)},"%M":function(n){return d(n.tm_min,2)},"%n":function(){return"\n"},"%p":function(n){return n.tm_hour>=0&&n.tm_hour<12?"AM":"PM"},"%S":function(n){return d(n.tm_sec,2)},"%t":function(){return"\t"},"%u":function(n){return n.tm_wday||7},"%U":function(n){var r=new Date(n.tm_year+1900,0,1),e=0===r.getDay()?r:Bt(r,7-r.getDay()),t=new Date(n.tm_year+1900,n.tm_mon,n.tm_mday);if(h(e,t)<0){var a=Ut(qt(t.getFullYear())?Yt:zt,t.getMonth()-1)-31,o=31-e.getDate(),i=o+a+t.getDate();return d(Math.ceil(i/7),2)}return 0===h(e,r)?"01":"00"},"%V":function(n){var r,e=new Date(n.tm_year+1900,0,4),t=new Date(n.tm_year+1901,0,4),a=p(e),o=p(t),i=Bt(new Date(n.tm_year+1900,0,1),n.tm_yday);return h(i,a)<0?"53":h(o,i)<=0?"01":(r=a.getFullYear()<n.tm_year+1900?n.tm_yday+32-a.getDate():n.tm_yday+1-a.getDate(),d(Math.ceil(r/7),2))},"%w":function(n){return n.tm_wday},"%W":function(n){var r=new Date(n.tm_year,0,1),e=1===r.getDay()?r:Bt(r,0===r.getDay()?1:7-r.getDay()+1),t=new Date(n.tm_year+1900,n.tm_mon,n.tm_mday);if(h(e,t)<0){var a=Ut(qt(t.getFullYear())?Yt:zt,t.getMonth()-1)-31,o=31-e.getDate(),i=o+a+t.getDate();return d(Math.ceil(i/7),2)}return 0===h(e,r)?"01":"00"},"%y":function(n){return(n.tm_year+1900).toString().substring(2)},"%Y":function(n){return n.tm_year+1900},"%z":function(n){var r=n.tm_gmtoff,e=r>=0;return r=Math.abs(r)/60,r=r/60*100+r%60,(e?"+":"-")+String("0000"+r).slice(-4)},"%Z":function(n){return n.tm_zone},"%%":function(){return"%"}};for(var f in w)i.includes(f)&&(i=i.replace(new RegExp(f,"g"),w[f](o)));var m=Jt(i,!1);return m.length>r?0:(J(m,n),m.length-1)}function Vt(n,r,e,t){return Gt(n,r,e,t)}i["requestFullscreen"]=function(n,r){Ln.requestFullscreen(n,r)},i["requestAnimationFrame"]=function(n){Ln.requestAnimationFrame(n)},i["setCanvasSize"]=function(n,r,e){Ln.setCanvasSize(n,r,e)},i["pauseMainLoop"]=function(){Ln.mainLoop.pause()},i["resumeMainLoop"]=function(){Ln.mainLoop.resume()},i["getUserMedia"]=function(){Ln.getUserMedia()},i["createContext"]=function(n,r,e,t){return Ln.createContext(n,r,e,t)};var $t=function(n,r,e,t){n||(n=this),this.parent=n,this.mount=n.mount,this.mounted=null,this.id=Kn.nextInode++,this.name=r,this.mode=e,this.node_ops={},this.stream_ops={},this.rdev=t},Xt=365,Wt=146;function Jt(n,r,e){var t=e>0?e:F(n)+1,a=new Array(t),o=N(n,a,0,a.length);return r&&(a.length=o),a}Object.defineProperties($t.prototype,{read:{get:function(){return(this.mode&Xt)===Xt},set:function(n){n?this.mode|=Xt:this.mode&=~Xt}},write:{get:function(){return(this.mode&Wt)===Wt},set:function(n){n?this.mode|=Wt:this.mode&=~Wt}},isFolder:{get:function(){return Kn.isDir(this.mode)}},isDevice:{get:function(){return Kn.isChrdev(this.mode)}}}),Kn.FSNode=$t,Kn.staticInit(),i["FS_createPath"]=Kn.createPath,i["FS_createDataFile"]=Kn.createDataFile,i["FS_createPreloadedFile"]=Kn.createPreloadedFile,i["FS_createLazyFile"]=Kn.createLazyFile,i["FS_createDevice"]=Kn.createDevice,i["FS_unlink"]=Kn.unlink,pr=i["InternalError"]=hr(Error,"InternalError"),Er(),Mr=i["BindingError"]=hr(Error,"BindingError"),Gr(),he(),se(),_e=i["UnboundTypeError"]=hr(Error,"UnboundTypeError"),Ce();var Ht,Qt={j:Yn,i:Bn,K:nr,W:rr,L:er,_:mr,n:gr,P:_r,Y:Sr,m:Ae,y:Pe,k:Se,d:Oe,r:je,a:Fe,X:Ue,e:ze,b:Ge,N:Xe,c:We,t:He,l:Qe,H:Ke,M:Ze,G:nt,$:rt,D:et,o:tt,f:at,Z:ot,w:it,p:lt,g:Te,q:pt,x:vt,s:wt,z:mt,u:yt,v:gt,B:_t,h:bt,C:Et,A:xt,T:Mt,Q:kt,R:St,U:Ft,V:Rt,F:Dt,J:Tt,O:It,E:Lt,I:Ct,S:Vt},Kt=(On(),i["___wasm_call_ctors"]=function(){return(i["___wasm_call_ctors"]=i["asm"]["ba"]).apply(null,arguments)},i["_malloc"]=function(){return(Kt=i["_malloc"]=i["asm"]["ca"]).apply(null,arguments)}),Zt=i["_free"]=function(){return(Zt=i["_free"]=i["asm"]["ea"]).apply(null,arguments)},na=i["___errno_location"]=function(){return(na=i["___errno_location"]=i["asm"]["fa"]).apply(null,arguments)},ra=i["___getTypeName"]=function(){return(ra=i["___getTypeName"]=i["asm"]["ga"]).apply(null,arguments)};i["___embind_register_native_and_builtin_types"]=function(){return(i["___embind_register_native_and_builtin_types"]=i["asm"]["ha"]).apply(null,arguments)},i["dynCall_ji"]=function(){return(i["dynCall_ji"]=i["asm"]["ia"]).apply(null,arguments)},i["dynCall_vij"]=function(){return(i["dynCall_vij"]=i["asm"]["ja"]).apply(null,arguments)},i["dynCall_jiji"]=function(){return(i["dynCall_jiji"]=i["asm"]["ka"]).apply(null,arguments)},i["dynCall_viijii"]=function(){return(i["dynCall_viijii"]=i["asm"]["la"]).apply(null,arguments)},i["dynCall_iiiiij"]=function(){return(i["dynCall_iiiiij"]=i["asm"]["ma"]).apply(null,arguments)},i["dynCall_iiiiijj"]=function(){return(i["dynCall_iiiiijj"]=i["asm"]["na"]).apply(null,arguments)},i["dynCall_iiiiiijj"]=function(){return(i["dynCall_iiiiiijj"]=i["asm"]["oa"]).apply(null,arguments)};function ea(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}function ta(n){function r(){Ht||(Ht=!0,i["calledRun"]=!0,M||(fn(),e(i),i["onRuntimeInitialized"]&&i["onRuntimeInitialized"](),ln()))}n=n||d,pn>0||(sn(),pn>0||(i["setStatus"]?(i["setStatus"]("Running..."),setTimeout((function(){setTimeout((function(){i["setStatus"]("")}),1),r()}),1)):r()))}function aa(n,r){x=n,on()||un(),oa(n)}function oa(n){x=n,on()||(i["onExit"]&&i["onExit"](n),M=!0),p(n,new ea(n))}if(i["addRunDependency"]=yn,i["removeRunDependency"]=gn,i["FS_createPath"]=Kn.createPath,i["FS_createDataFile"]=Kn.createDataFile,i["FS_createPreloadedFile"]=Kn.createPreloadedFile,i["FS_createLazyFile"]=Kn.createLazyFile,i["FS_createDevice"]=Kn.createDevice,i["FS_unlink"]=Kn.unlink,wn=function n(){Ht||ta(),Ht||(wn=n)},i["run"]=ta,i["preInit"]){"function"==typeof i["preInit"]&&(i["preInit"]=[i["preInit"]]);while(i["preInit"].length>0)i["preInit"].pop()()}function ia(n,r){this.start="undefined"===typeof n?0:n,this.end="undefined"===typeof r?0:r}function sa(n,r){this.x="undefined"===typeof n?0:n,this.y="undefined"===typeof r?0:r}function fa(n,r){this.width="undefined"===typeof n?0:n,this.height="undefined"===typeof r?0:r}function ua(){switch(arguments.length){case 0:this.x=0,this.y=0,this.width=0,this.height=0;break;case 1:var n=arguments[0];this.x=n.x,this.y=n.y,this.width=n.width,this.height=n.height;break;case 2:var r=arguments[0],e=arguments[1];this.x=r.x,this.y=r.y,this.width=e.width,this.height=e.height;break;case 4:this.x=arguments[0],this.y=arguments[1],this.width=arguments[2],this.height=arguments[3];break;default:throw new Error("Invalid arguments")}}function la(){switch(arguments.length){case 0:this.center={x:0,y:0},this.size={width:0,height:0},this.angle=0;break;case 3:this.center=arguments[0],this.size=arguments[1],this.angle=arguments[2];break;default:throw new Error("Invalid arguments")}}function ca(n,r,e,t){this.push("undefined"===typeof n?0:n),this.push("undefined"===typeof r?0:r),this.push("undefined"===typeof e?0:e),this.push("undefined"===typeof t?0:t)}function da(){switch(arguments.length){case 0:this.minVal=0,this.maxVal=0,this.minLoc=new sa,this.maxLoc=new sa;break;case 4:this.minVal=arguments[0],this.maxVal=arguments[1],this.minLoc=arguments[2],this.maxLoc=arguments[3];break;default:throw new Error("Invalid arguments")}}function ha(){switch(arguments.length){case 0:this.center=new sa,this.radius=0;break;case 2:this.center=arguments[0],this.radius=arguments[1];break;default:throw new Error("Invalid arguments")}}function pa(){switch(arguments.length){case 0:this.type=0,this.maxCount=0,this.epsilon=0;break;case 3:this.type=arguments[0],this.maxCount=arguments[1],this.epsilon=arguments[2];break;default:throw new Error("Invalid arguments")}}return ta(),"undefined"===typeof i.FS&&"undefined"!==typeof Kn&&(i.FS=Kn),i["imread"]=function(r){var e=null;e="string"===typeof r?document.getElementById(r):r;var t=null,a=null;if(e instanceof HTMLImageElement)t=document.createElement("canvas"),t.width=e.width,t.height=e.height,a=t.getContext("2d"),a.drawImage(e,0,0,e.width,e.height);else{if(!(e instanceof HTMLCanvasElement))throw new Error("Please input the valid canvas or img id.");t=e,a=t.getContext("2d")}var o=a.getImageData(0,0,t.width,t.height);return n.matFromImageData(o)},i["imshow"]=function(r,e){var t=null;if(t="string"===typeof r?document.getElementById(r):r,!(t instanceof HTMLCanvasElement))throw new Error("Please input the valid canvas element or id.");if(!(e instanceof n.Mat))throw new Error("Please input the valid cv.Mat instance.");var a=new n.Mat,o=e.type()%8,i=o<=n.CV_8S?1:o<=n.CV_32S?1/256:255,s=o===n.CV_8S||o===n.CV_16S?128:0;switch(e.convertTo(a,n.CV_8U,i,s),a.type()){case n.CV_8UC1:n.cvtColor(a,a,n.COLOR_GRAY2RGBA);break;case n.CV_8UC3:n.cvtColor(a,a,n.COLOR_RGB2RGBA);break;case n.CV_8UC4:break;default:throw new Error("Bad number of channels (Source image must have 1, 3 or 4 channels)")}var f=new ImageData(new Uint8ClampedArray(a.data),a.cols,a.rows),u=t.getContext("2d");u.clearRect(0,0,t.width,t.height),t.width=f.width,t.height=f.height,u.putImageData(f,0,0),a.delete()},i["VideoCapture"]=function(r){var e=null;if(e="string"===typeof r?document.getElementById(r):r,!(e instanceof HTMLVideoElement))throw new Error("Please input the valid video element or id.");var t=document.createElement("canvas");t.width=e.width,t.height=e.height;var a=t.getContext("2d");this.video=e,this.read=function(r){if(!(r instanceof n.Mat))throw new Error("Please input the valid cv.Mat instance.");if(r.type()!==n.CV_8UC4)throw new Error("Bad type of input mat: the type should be cv.CV_8UC4.");if(r.cols!==e.width||r.rows!==e.height)throw new Error("Bad size of input mat: the size should be same as the video.");a.drawImage(e,0,0,e.width,e.height),r.data.set(a.getImageData(0,0,e.width,e.height).data)}},i["Range"]=ia,i["Point"]=sa,i["Size"]=fa,i["Rect"]=ua,la.points=function(n){return i.rotatedRectPoints(n)},la.boundingRect=function(n){return i.rotatedRectBoundingRect(n)},la.boundingRect2f=function(n){return i.rotatedRectBoundingRect2f(n)},i["RotatedRect"]=la,ca.prototype=new Array,ca.all=function(n){return new ca(n,n,n,n)},i["Scalar"]=ca,i["MinMaxLoc"]=da,i["Circle"]=ha,i["TermCriteria"]=pa,i["matFromArray"]=function(r,e,t,a){var o=new n.Mat(r,e,t);switch(t){case n.CV_8U:case n.CV_8UC1:case n.CV_8UC2:case n.CV_8UC3:case n.CV_8UC4:o.data.set(a);break;case n.CV_8S:case n.CV_8SC1:case n.CV_8SC2:case n.CV_8SC3:case n.CV_8SC4:o.data8S.set(a);break;case n.CV_16U:case n.CV_16UC1:case n.CV_16UC2:case n.CV_16UC3:case n.CV_16UC4:o.data16U.set(a);break;case n.CV_16S:case n.CV_16SC1:case n.CV_16SC2:case n.CV_16SC3:case n.CV_16SC4:o.data16S.set(a);break;case n.CV_32S:case n.CV_32SC1:case n.CV_32SC2:case n.CV_32SC3:case n.CV_32SC4:o.data32S.set(a);break;case n.CV_32F:case n.CV_32FC1:case n.CV_32FC2:case n.CV_32FC3:case n.CV_32FC4:o.data32F.set(a);break;case n.CV_64F:case n.CV_64FC1:case n.CV_64FC2:case n.CV_64FC3:case n.CV_64FC4:o.data64F.set(a);break;default:throw new Error("Type is unsupported")}return o},i["matFromImageData"]=function(r){var e=new n.Mat(r.height,r.width,n.CV_8UC4);return e.data.set(r.data),e},n.ready}let i;function s(n,r){return{rows:r.rows,cols:r.cols,type:r.type(),data:new Uint8Array(r.data)}}function f(n,r){const e=new n.Mat(r.rows,r.cols,n.CV_8UC4);return e.data.set(r.data),e}async function u(){return i||(i=await o(),i)}function l(n,r){let e;if("undefined"===typeof r)e=new Error("");else if("number"===typeof r)isNaN(r)||"undefined"!==typeof n&&(e=new Error(n.exceptionFromPtr(r).msg),e.name="CVException");else if("string"===typeof r){const t=Number(r.split(" ")[0]);isNaN(t)||(e=new Error(n.exceptionFromPtr(r).msg),e.name="CVException")}else r instanceof Error&&(e=r);return e}},23676:function(n,r,e){"use strict";e.d(r,{x:function(){return o}});var t=e(89039);let a;async function o(n){if(!1===n){try{var r;null===(r=a)||void 0===r||r.delete()}catch(s){}return a=null,-1}const e=await(0,t.Yk)();if(!a)return a=(0,t.SM)(e,n),e.cvtColor(a,a,e.COLOR_RGBA2GRAY,0),-1;const o=(0,t.SM)(e,n);e.cvtColor(o,o,e.COLOR_RGBA2GRAY,0),e.absdiff(a,o,o),e.threshold(o,o,150,255,e.THRESH_BINARY);const i=e.countNonZero(o);return o.delete(),i}},95512:function(n,r,e){"use strict";e.d(r,{qH:function(){return a},LE:function(){return o},FR:function(){return i},Uf:function(){return s},QX:function(){return f}});let t=[];const a=[],o=[],i=[];let s=[];function f(n,r){s=r,t=n,t.forEach((n=>{n.achievements.forEach((n=>{a.push({str:s[n.name].replace(/…|「|」/g,""),obj:n}),i.push({str:s[n.desc].replace(/…|「|」/g,""),obj:n}),o.push({str:`${s[n.name]}-${s[n.desc]}`.replace(/…|「|」/g,""),obj:n})}))})),console.log("created achievement map with length="+a.length)}},21078:function(n,r,e){"use strict";e.r(r),e.d(r,{cvGetRect:function(){return a},cvDiffImage:function(){return o},cvSplitImage:function(){return i},cvSplitAchievement:function(){return s}});e(85827);var t=e(89039);async function a(n){const r=await(0,t.Yk)(),e=new r.Mat;r.cvtColor(n,e,r.COLOR_RGBA2GRAY,0),r.threshold(e,e,200,250,r.THRESH_BINARY);const a=new r.MatVector,o=new r.Mat;r.findContours(e,a,o,r.RETR_CCOMP,r.CHAIN_APPROX_SIMPLE),r.cvtColor(e,e,r.COLOR_GRAY2RGB,0);const i=e.size(),s=i.width/2,f=.75*i.height;let u;for(let t=0;t<a.size();++t){const n=r.boundingRect(a.get(t));if(n.width<s)continue;if(n.height<f)continue;if(Math.abs(n.width-i.width)<s/100)continue;if(Math.abs(n.height-i.height)<s/100)continue;const e=n.width/30,o=n.height/100;n.x+=e,n.y+=o,n.width-=1.5*e,n.height-=2*o,u=n}return e.delete(),o.delete(),a.delete(),u}async function o(n,r){const e=await(0,t.Yk)(),a=n.roi(new e.Rect(50,0,n.cols/2,n.rows)),o=r.roi(new e.Rect(50,0,r.cols/2,r.rows));e.cvtColor(a,a,e.COLOR_RGBA2GRAY,0),e.cvtColor(o,o,e.COLOR_RGBA2GRAY,0),e.threshold(a,a,160,255,e.THRESH_BINARY),e.threshold(o,o,160,255,e.THRESH_BINARY);const i=new e.ORB(300),s=new e.BFMatcher(e.NORM_HAMMING,!0),f=new e.KeyPointVector,u=new e.KeyPointVector,l=new e.Mat,c=new e.Mat;i.detectAndCompute(a,new e.Mat,f,l),i.detectAndCompute(o,new e.Mat,u,c),a.delete(),o.delete();const d=new e.DMatchVector;s.match(l,c,d),l.delete(),c.delete();const h=[];let p=[];for(let t=0;t<d.size();t++)if(d.get(t).distance<50){const n=f.get(d.get(t).queryIdx).pt.x,r=f.get(d.get(t).queryIdx).pt.y,e=u.get(d.get(t).trainIdx).pt.x,a=u.get(d.get(t).trainIdx).pt.y;if(r>a&&e-n<5){const n=Math.floor((r-a)/10);h[n]=(h[n]||0)+1,p.push(r-a)}}f.delete(),u.delete();const v=h.indexOf(Math.max(...[...h].map((n=>n||0)))),w=10*v+10,m=10*v;p=p.filter((n=>n>=m&&n<=w));const y=e.matFromArray(p.length,1,e.CV_32F,p),g=e.mean(y)[0]+r.rows-n.rows;if(y.delete(),g<32)return!1;const _=r.roi(new e.Rect(0,r.rows-g-1,r.cols,g));return _}async function i(n){const r=await(0,t.Yk)(),e=n.roi(new r.Rect(n.cols-n.cols/3,0,n.cols/4,n.rows));r.cvtColor(e,e,r.COLOR_RGBA2GRAY,0),r.threshold(e,e,223,255,r.THRESH_BINARY);const a=r.Mat.ones(7,7,r.CV_8U),o=r.getStructuringElement(r.MORPH_RECT,new r.Size(e.cols/3*2,1));r.erode(e,e,a),r.dilate(e,e,o),r.dilate(e,e,a),a.delete(),o.delete();const i=[],s=new r.MatVector,f=new r.Mat;r.findContours(e,s,f,r.RETR_CCOMP,r.CHAIN_APPROX_SIMPLE);for(let t=0;t<s.size();++t){const n=r.boundingRect(s.get(t));n.width<.9*e.cols||i.push(n.y+n.height)}return i.sort(((n,r)=>n-r)),e.delete(),f.delete(),s.delete(),i}function s(n,r){const e=new n.Mat,t=new n.Mat,a=new n.MatVector;n.split(r,a),a.get(2).copyTo(e),a.delete(),n.threshold(e,e,170,255,n.THRESH_BINARY);const o=n.Mat.ones(3,15,n.CV_8U),i=n.getStructuringElement(n.MORPH_RECT,new n.Size(e.cols/5,1));n.dilate(e,t,i),n.bitwise_not(t,t),n.bitwise_or(e,t,e),n.erode(e,e,o),o.delete(),i.delete(),t.delete();const s=new n.MatVector,f=new n.Mat;n.rectangle(e,new n.Point(1,1),new n.Point(e.cols-1,e.rows-1),new n.Scalar(255,255,255,255),1),n.findContours(e,s,f,n.RETR_CCOMP,n.CHAIN_APPROX_SIMPLE);let u=[];for(let d=0;d<s.size();++d){const r=n.boundingRect(s.get(d));r.width>.9*e.cols||u.push(r)}e.delete(),f.delete(),s.delete(),u=u.map((e=>{let t="unknown";const a=r.roi(e);return e.x>.5*r.cols?e.width/e.height<=1.5?(t="reward",a.delete()):e.y+e.height>.8*r.rows?(t="date",e.width=r.cols-e.x-1,n.resize(a,a,new n.Size(a.cols/a.rows*32,32),0,0,n.INTER_AREA)):(t="status",n.resize(a,a,new n.Size(a.cols/a.rows*32,32),0,0,n.INTER_AREA)):e.width/e.height<=1.5?(t="icon",a.delete()):e.y+e.height/2<.5*r.rows?(t="title",n.resize(a,a,new n.Size(a.cols/a.rows*32,32),0,0,n.INTER_AREA)):(t="subtitle",n.resize(a,a,new n.Size(a.cols/a.rows*32,32),0,0,n.INTER_AREA)),{name:t,rect:e,roi:a}}));const l=u.find((n=>"reward"===n.name)),c=u.reduce(((n,r)=>"status"===r.name&&r.rect.width>n?r.rect.width:n),0);return u=u.filter((n=>!(n.rect.height<8)&&("reward"!==n.name&&("icon"!==n.name&&("status"===n.name&&n.rect.width<c&&(n.name="status2"),!(l&&n.rect.x>l.rect.x&&n.rect.x+n.rect.width<l.rect.x+l.rect.width)))))),r.delete(),u}},20244:function(n,r,e){"use strict";e.r(r),e.d(r,{getRect:function(){return d},init:function(){return y},lastImage:function(){return l},recognizeAchievement:function(){return m},rect:function(){return c},reset:function(){return h},scannerOnImage:function(){return w},scannerOnLine:function(){return p},scannerSplitLine:function(){return v}});var t=e(89039),a=e(21078),o=e(26669),i=e(95512);function s(n,r){let e,t;const a=[],o=[];if(n===r)return 0;if(0===n.length)return r.length;if(0===r.length)return n.length;let i=0;while(i<n.length)a[i]=n.charCodeAt(i),o[i]=++i;let s,f=0;while(f<r.length){const u=r.charCodeAt(f);s=e=f++,i=-1;while(++i<n.length)t=u===a[i]?e:e+1,e=o[i],o[i]=s=e>s?t>s?s+1:t:t>e?e+1:t}return s||1/0}function f(n,r,e){const t=[];let a=0;for(let i=0;i<e.length;i++){const o=e[i],f=s(r,o[n]);t.push({target:o,rating:f}),f<t[a].rating&&(a=i)}const o=t[a];return{ratings:t,bestMatch:o,bestMatchIndex:a}}function u(n,r,e,t=3){const a=f(n,r.replace(/\s\s+/g," "),e);return!/[\\u4E00-\\u9FFF]+/g.test(r)&&a.bestMatch.rating>t?null:a.bestMatch.target}let l=null,c=null;function d(){return c}function h(){if(l)try{l.delete()}catch(n){}l=null,c=null}async function p(n){const r=await(0,t.Yk)(),e=(0,t.SM)(r,n),o=(0,a.cvSplitAchievement)(r,e).map((n=>{const e=(0,t.gq)(r,n.roi);return n.roi.delete(),{name:n.name,rect:n.rect,image:e}}));return!o||o.length<=0?{success:!1}:await m({image:n,blocks:o})}async function v(n){const r=await(0,t.Yk)(),e=(0,t.SM)(r,n);return(0,a.cvSplitAchievement)(r,e).map((n=>{const e=(0,t.gq)(r,n.roi);return n.roi.delete(),{name:n.name,rect:n.rect,image:e}}))}async function w(n,r=!1,e=!1){const o=await(0,t.Yk)();try{const s=(0,t.SM)(o,n);c||(c=await(0,a.cvGetRect)(s)),c||(c=new o.Rect(0,0,s.cols,s.rows));let f=s.roi(c);if(s.delete(),!r){const n=await(0,a.cvSplitImage)(f);let r=n.length-1;while(f.rows-n[r]<10)r--;const e=f.roi(new o.Rect(0,0,f.cols,Math.min(n[r]+10,f.rows)));f.delete(),f=e}let u=f.clone();if(!e&&l){const n=await(0,a.cvDiffImage)(l,u);if(!n)return f.delete(),u.delete(),[];u.delete(),u=n;try{l.delete()}catch(i){}l=null}const d=await(0,a.cvSplitImage)(u),h=[];return d.forEach(((n,r)=>{const e=0===r?0:d[r-1],a=0===r?n:n-d[r-1],s=new o.Rect(0,e,u.cols,a),f=u.roi(s),l=(0,t.gq)(o,f);h.push({image:l,x:0,y:e});try{f.delete()}catch(i){}})),u.delete(),e?f.delete():l=f,h}catch(i){throw(0,t.dW)(o,i)}}async function m(n){let r=null;const e=n.blocks.find((n=>"title"===n.name)),t=n.blocks.find((n=>"subtitle"===n.name)),a={title:{},subtitle:{},status:{},date:{}};if(e&&t){const n=await(0,o.jh)(e.image);a.title=n;const s=!isNaN(n.confidence)&&i.qH.find((r=>r.str===n.text.replace(/…|「|」/g,"")));if(s&&n.confidence>85&&!/.*[0-9]{1,}.*/.test(i.Uf[s.obj.desc])&&!i.Uf[s.obj.desc].includes("次"))r=s.obj;else{const e=await(0,o.jh)(t.image);a.subtitle=e;const s=`${n.text}-${e.text}`.replace(/…|「|」/g,""),f=u("str",s,i.LE,s.length/3);if(f)r=f.obj;else{const n=u("str",e.text.replace(/…|「|」/g,""),i.FR,e.text.length/3);n&&(r=n.obj)}}}if(r){var s,f,l,c;let e=!0;const t=n.blocks.find((n=>"status"===n.name)),i=n.blocks.find((n=>"date"===n.name));if(t){a.status=await(0,o.jh)(t.image);const n=a.status.text.split("/").map((n=>n.trim())).filter((n=>!!n));if(2===n.length){const[r,t]=n;!isNaN(Number(r))&&!isNaN(Number(t))&&r<t&&(e=!1)}}i?(a.date=await(0,o.jh)(i.image),a.date.text.length<4&&(e=!1)):e=!1;const u={success:!0,done:e,achievement:r,status:null!==(s=null===(f=a.status)||void 0===f?void 0:f.text)&&void 0!==s?s:"",date:null!==(l=null===(c=a.date)||void 0===c?void 0:c.text)&&void 0!==l?l:"",result:a};return"达成"===u.status&&(u.done=!0),u}return{success:!1,result:a}}async function y(){await Promise.all([(0,o.S1)(),(0,t.Yk)()])}},87671:function(n){"use strict";n.exports="'\n疗\n绚\n诚\n娇\n溜\n题\n贿\n者\n廖\n更\n纳\n加\n奉\n公\n一\n就\n汴\n计\n与\n路\n房\n原\n妇\n2\n0\n8\n-\n7\n其\n>\n:\n]\n,\n，\n骑\n刈\n全\n消\n昏\n傈\n安\n久\n钟\n嗅\n不\n影\n处\n驽\n蜿\n资\n关\n椤\n地\n瘸\n专\n问\n忖\n票\n嫉\n炎\n韵\n要\n月\n田\n节\n陂\n鄙\n捌\n备\n拳\n伺\n眼\n网\n盎\n大\n傍\n心\n东\n愉\n汇\n蹿\n科\n每\n业\n里\n航\n晏\n字\n平\n录\n先\n1\n3\n彤\n鲶\n产\n稍\n督\n腴\n有\n象\n岳\n注\n绍\n在\n泺\n文\n定\n核\n名\n水\n过\n理\n让\n偷\n率\n等\n这\n发\n”\n为\n含\n肥\n酉\n相\n鄱\n七\n编\n猥\n锛\n日\n镀\n蒂\n掰\n倒\n辆\n栾\n栗\n综\n涩\n州\n雌\n滑\n馀\n了\n机\n块\n司\n宰\n甙\n兴\n矽\n抚\n保\n用\n沧\n秩\n如\n收\n息\n滥\n页\n疑\n埠\n!\n！\n姥\n异\n橹\n钇\n向\n下\n跄\n的\n椴\n沫\n国\n绥\n獠\n报\n开\n民\n蜇\n何\n分\n凇\n长\n讥\n藏\n掏\n施\n羽\n中\n讲\n派\n嘟\n人\n提\n浼\n间\n世\n而\n古\n多\n倪\n唇\n饯\n控\n庚\n首\n赛\n蜓\n味\n断\n制\n觉\n技\n替\n艰\n溢\n潮\n夕\n钺\n外\n摘\n枋\n动\n双\n单\n啮\n户\n枇\n确\n锦\n曜\n杜\n或\n能\n效\n霜\n盒\n然\n侗\n电\n晁\n放\n步\n鹃\n新\n杖\n蜂\n吒\n濂\n瞬\n评\n总\n隍\n对\n独\n合\n也\n是\n府\n青\n天\n诲\n墙\n组\n滴\n级\n邀\n帘\n示\n已\n时\n骸\n仄\n泅\n和\n遨\n店\n雇\n疫\n持\n巍\n踮\n境\n只\n亨\n目\n鉴\n崤\n闲\n体\n泄\n杂\n作\n般\n轰\n化\n解\n迂\n诿\n蛭\n璀\n腾\n告\n版\n服\n省\n师\n小\n规\n程\n线\n海\n办\n引\n二\n桧\n牌\n砺\n洄\n裴\n修\n图\n痫\n胡\n许\n犊\n事\n郛\n基\n柴\n呼\n食\n研\n奶\n律\n蛋\n因\n葆\n察\n戏\n褒\n戒\n再\n李\n骁\n工\n貂\n油\n鹅\n章\n啄\n休\n场\n给\n睡\n纷\n豆\n器\n捎\n说\n敏\n学\n会\n浒\n设\n诊\n格\n廓\n查\n来\n霓\n室\n溆\n￠\n诡\n寥\n焕\n舜\n柒\n狐\n回\n戟\n砾\n厄\n实\n翩\n尿\n五\n入\n径\n惭\n喹\n股\n宇\n篝\n|\n;\n美\n期\n云\n九\n祺\n扮\n靠\n锝\n槌\n系\n企\n酰\n阊\n暂\n蚕\n忻\n豁\n本\n羹\n执\n条\n钦\nH\n獒\n限\n进\n季\n楦\n于\n芘\n玖\n铋\n茯\n未\n答\n粘\n括\n样\n精\n欠\n矢\n甥\n帷\n嵩\n扣\n令\n仔\n风\n皈\n行\n支\n部\n蓉\n刮\n站\n蜡\n救\n钊\n汗\n松\n嫌\n成\n可\n.\n鹤\n院\n从\n交\n政\n怕\n活\n调\n球\n局\n验\n髌\n第\n韫\n谗\n串\n到\n圆\n年\n米\n/\n*\n友\n忿\n检\n区\n看\n自\n敢\n刃\n个\n兹\n弄\n流\n留\n同\n没\n齿\n星\n聆\n轼\n湖\n什\n三\n建\n蛔\n儿\n椋\n汕\n震\n颧\n鲤\n跟\n力\n情\n璺\n铨\n陪\n务\n指\n族\n训\n滦\n鄣\n濮\n扒\n商\n箱\n十\n召\n慷\n辗\n所\n莞\n管\n护\n臭\n横\n硒\n嗓\n接\n侦\n六\n露\n党\n馋\n驾\n剖\n高\n侬\n妪\n幂\n猗\n绺\n骐\n央\n酐\n孝\n筝\n课\n徇\n缰\n门\n男\n西\n项\n句\n谙\n瞒\n秃\n篇\n教\n碲\n罚\n声\n呐\n景\n前\n富\n嘴\n鳌\n稀\n免\n朋\n啬\n睐\n去\n赈\n鱼\n住\n肩\n愕\n速\n旁\n波\n厅\n健\n茼\n厥\n鲟\n谅\n投\n攸\n炔\n数\n方\n击\n呋\n谈\n绩\n别\n愫\n僚\n躬\n鹧\n胪\n炳\n招\n喇\n膨\n泵\n蹦\n毛\n结\n5\n4\n谱\n识\n陕\n粽\n婚\n拟\n构\n且\n搜\n任\n潘\n比\n郢\n妨\n醪\n陀\n桔\n碘\n扎\n选\n哈\n骷\n楷\n亿\n明\n缆\n脯\n监\n睫\n逻\n婵\n共\n赴\n淝\n凡\n惦\n及\n达\n揖\n谩\n澹\n减\n焰\n蛹\n番\n祁\n柏\n员\n禄\n怡\n峤\n龙\n白\n叽\n生\n闯\n起\n细\n装\n谕\n竟\n聚\n钙\n上\n导\n渊\n按\n艾\n辘\n挡\n耒\n盹\n饪\n臀\n记\n邮\n蕙\n受\n各\n医\n搂\n普\n滇\n朗\n茸\n带\n翻\n酚\n(\n光\n堤\n墟\n蔷\n万\n幻\n〓\n瑙\n辈\n昧\n盏\n亘\n蛀\n吉\n铰\n请\n子\n假\n闻\n税\n井\n诩\n哨\n嫂\n好\n面\n琐\n校\n馊\n鬣\n缂\n营\n访\n炖\n占\n农\n缀\n否\n经\n钚\n棵\n趟\n张\n亟\n吏\n茶\n谨\n捻\n论\n迸\n堂\n玉\n信\n吧\n瞠\n乡\n姬\n寺\n咬\n溏\n苄\n皿\n意\n赉\n宝\n尔\n钰\n艺\n特\n唳\n踉\n都\n荣\n倚\n登\n荐\n丧\n奇\n涵\n批\n炭\n近\n符\n傩\n感\n道\n着\n菊\n虹\n仲\n众\n懈\n濯\n颞\n眺\n南\n释\n北\n缝\n标\n既\n茗\n整\n撼\n迤\n贲\n挎\n耱\n拒\n某\n妍\n卫\n哇\n英\n矶\n藩\n治\n他\n元\n领\n膜\n遮\n穗\n蛾\n飞\n荒\n棺\n劫\n么\n市\n火\n温\n拈\n棚\n洼\n转\n果\n奕\n卸\n迪\n伸\n泳\n斗\n邡\n侄\n涨\n屯\n萋\n胭\n氡\n崮\n枞\n惧\n冒\n彩\n斜\n手\n豚\n随\n旭\n淑\n妞\n形\n菌\n吲\n沱\n争\n驯\n歹\n挟\n兆\n柱\n传\n至\n包\n内\n响\n临\n红\n功\n弩\n衡\n寂\n禁\n老\n棍\n耆\n渍\n织\n害\n氵\n渑\n布\n载\n靥\n嗬\n虽\n苹\n咨\n娄\n库\n雉\n榜\n帜\n嘲\n套\n瑚\n亲\n簸\n欧\n边\n6\n腿\n旮\n抛\n吹\n瞳\n得\n镓\n梗\n厨\n继\n漾\n愣\n憨\n士\n策\n窑\n抑\n躯\n襟\n脏\n参\n贸\n言\n干\n绸\n鳄\n穷\n藜\n音\n折\n详\n)\n举\n悍\n甸\n癌\n黎\n谴\n死\n罩\n迁\n寒\n驷\n袖\n媒\n蒋\n掘\n模\n纠\n恣\n观\n祖\n蛆\n碍\n位\n稿\n主\n澧\n跌\n筏\n京\n锏\n帝\n贴\n证\n糠\n才\n黄\n鲸\n略\n炯\n饱\n四\n出\n园\n犀\n牧\n容\n汉\n杆\n浈\n汰\n瑷\n造\n虫\n瘩\n怪\n驴\n济\n应\n花\n沣\n谔\n夙\n旅\n价\n矿\n以\n考\ns\nu\n呦\n晒\n巡\n茅\n准\n肟\n瓴\n詹\n仟\n褂\n译\n桌\n混\n宁\n怦\n郑\n抿\n些\n余\n鄂\n饴\n攒\n珑\n群\n阖\n岔\n琨\n藓\n预\n环\n洮\n岌\n宀\n杲\n瀵\n最\n常\n囡\n周\n踊\n女\n鼓\n袭\n喉\n简\n范\n薯\n遐\n疏\n粱\n黜\n禧\n法\n箔\n斤\n遥\n汝\n奥\n直\n贞\n撑\n置\n绱\n集\n她\n馅\n逗\n钧\n橱\n魉\n[\n恙\n躁\n唤\n9\n旺\n膘\n待\n脾\n惫\n购\n吗\n依\n盲\n度\n瘿\n蠖\n俾\n之\n镗\n拇\n鲵\n厝\n簧\n续\n款\n展\n啃\n表\n剔\n品\n钻\n腭\n损\n清\n锶\n统\n涌\n寸\n滨\n贪\n链\n吠\n冈\n伎\n迥\n咏\n吁\n览\n防\n迅\n失\n汾\n阔\n逵\n绀\n蔑\n列\n川\n凭\n努\n熨\n揪\n利\n俱\n绉\n抢\n鸨\n我\n即\n责\n膦\n易\n毓\n鹊\n刹\n玷\n岿\n空\n嘞\n绊\n排\n术\n估\n锷\n违\n们\n苟\n铜\n播\n肘\n件\n烫\n审\n鲂\n广\n像\n铌\n惰\n铟\n巳\n胍\n鲍\n康\n憧\n色\n恢\n想\n拷\n尤\n疳\n知\nS\nY\nF\nD\nA\n峄\n裕\n帮\n握\n搔\n氐\n氘\n难\n墒\n沮\n雨\n叁\n缥\n悴\n藐\n湫\n娟\n苑\n稠\n颛\n簇\n后\n阕\n闭\n蕤\n缚\n怎\n佞\n码\n嘤\n蔡\n痊\n舱\n螯\n帕\n赫\n昵\n升\n烬\n岫\n、\n疵\n蜻\n髁\n蕨\n隶\n烛\n械\n丑\n盂\n梁\n强\n鲛\n由\n拘\n揉\n劭\n龟\n撤\n钩\n呕\n孛\n费\n妻\n漂\n求\n阑\n崖\n秤\n甘\n通\n深\n补\n赃\n坎\n床\n啪\n承\n吼\n量\n暇\n钼\n烨\n阂\n擎\n脱\n逮\n称\nP\n神\n属\n矗\n华\n届\n狍\n葑\n汹\n育\n患\n窒\n蛰\n佼\n静\n槎\n运\n鳗\n庆\n逝\n曼\n疱\n克\n代\n官\n此\n麸\n耧\n蚌\n晟\n例\n础\n榛\n副\n测\n唰\n缢\n迹\n灬\n霁\n身\n岁\n赭\n扛\n又\n菡\n乜\n雾\n板\n读\n陷\n徉\n贯\n郁\n虑\n变\n钓\n菜\n圾\n现\n琢\n式\n乐\n维\n渔\n浜\n左\n吾\n脑\n钡\n警\nT\n啵\n拴\n偌\n漱\n湿\n硕\n止\n骼\n魄\n积\n燥\n联\n踢\n玛\n则\n窿\n见\n振\n畿\n送\n班\n钽\n您\n赵\n刨\n印\n讨\n踝\n籍\n谡\n舌\n崧\n汽\n蔽\n沪\n酥\n绒\n怖\n财\n帖\n肱\n私\n莎\n勋\n羔\n霸\n励\n哼\n帐\n将\n帅\n渠\n纪\n婴\n娩\n岭\n厘\n滕\n吻\n伤\n坝\n冠\n戊\n隆\n瘁\n介\n涧\n物\n黍\n并\n姗\n奢\n蹑\n掣\n垸\n锴\n命\n箍\n捉\n病\n辖\n琰\n眭\n迩\n艘\n绌\n繁\n寅\n若\n毋\n思\n诉\n类\n诈\n燮\n轲\n酮\n狂\n重\n反\n职\n筱\n县\n委\n磕\n绣\n奖\n晋\n濉\n志\n徽\n肠\n呈\n獐\n坻\n口\n片\n碰\n几\n村\n柿\n劳\n料\n获\n亩\n惕\n晕\n厌\n号\n罢\n池\n正\n鏖\n煨\n家\n棕\n复\n尝\n懋\n蜥\n锅\n岛\n扰\n队\n坠\n瘾\n钬\n@\n卧\n疣\n镇\n譬\n冰\n彷\n频\n黯\n据\n垄\n采\n八\n缪\n瘫\n型\n熹\n砰\n楠\n襁\n箐\n但\n嘶\n绳\n啤\n拍\n盥\n穆\n傲\n洗\n盯\n塘\n怔\n筛\n丿\n台\n恒\n喂\n葛\n永\n￥\n烟\n酒\n桦\n书\n砂\n蚝\n缉\n态\n瀚\n袄\n圳\n轻\n蛛\n超\n榧\n遛\n姒\n奘\n铮\n右\n荽\n望\n偻\n卡\n丶\n氰\n附\n做\n革\n索\n戚\n坨\n桷\n唁\n垅\n榻\n岐\n偎\n坛\n莨\n山\n殊\n微\n骇\n陈\n爨\n推\n嗝\n驹\n澡\n藁\n呤\n卤\n嘻\n糅\n逛\n侵\n郓\n酌\n德\n摇\n※\n鬃\n被\n慨\n殡\n羸\n昌\n泡\n戛\n鞋\n河\n宪\n沿\n玲\n鲨\n翅\n哽\n源\n铅\n语\n照\n邯\n址\n荃\n佬\n顺\n鸳\n町\n霭\n睾\n瓢\n夸\n椁\n晓\n酿\n痈\n咔\n侏\n券\n噎\n湍\n签\n嚷\n离\n午\n尚\n社\n锤\n背\n孟\n使\n浪\n缦\n潍\n鞅\n军\n姹\n驶\n笑\n鳟\n鲁\n》\n孽\n钜\n绿\n洱\n礴\n焯\n椰\n颖\n囔\n乌\n孔\n巴\n互\n性\n椽\n哞\n聘\n昨\n早\n暮\n胶\n炀\n隧\n低\n彗\n昝\n铁\n呓\n氽\n藉\n喔\n癖\n瑗\n姨\n权\n胱\n韦\n堑\n蜜\n酋\n楝\n砝\n毁\n靓\n歙\n锲\n究\n屋\n喳\n骨\n辨\n碑\n武\n鸠\n宫\n辜\n烊\n适\n坡\n殃\n培\n佩\n供\n走\n蜈\n迟\n翼\n况\n姣\n凛\n浔\n吃\n飘\n债\n犟\n金\n促\n苛\n崇\n坂\n莳\n畔\n绂\n兵\n蠕\n斋\n根\n砍\n亢\n欢\n恬\n崔\n剁\n餐\n榫\n快\n扶\n‖\n濒\n缠\n鳜\n当\n彭\n驭\n浦\n篮\n昀\n锆\n秸\n钳\n弋\n娣\n瞑\n夷\n龛\n苫\n拱\n致\n%\n嵊\n障\n隐\n弑\n初\n娓\n抉\n汩\n累\n蓖\n\"\n唬\n助\n苓\n昙\n押\n毙\n破\n城\n郧\n逢\n嚏\n獭\n瞻\n溱\n婿\n赊\n跨\n恼\n璧\n萃\n姻\n貉\n灵\n炉\n密\n氛\n陶\n砸\n谬\n衔\n点\n琛\n沛\n枳\n层\n岱\n诺\n脍\n榈\n埂\n征\n冷\n裁\n打\n蹴\n素\n瘘\n逞\n蛐\n聊\n激\n腱\n萘\n踵\n飒\n蓟\n吆\n取\n咙\n簋\n涓\n矩\n曝\n挺\n揣\n座\n你\n史\n舵\n焱\n尘\n苏\n笈\n脚\n溉\n榨\n诵\n樊\n邓\n焊\n义\n庶\n儋\n蟋\n蒲\n赦\n呷\n杞\n诠\n豪\n还\n试\n颓\n茉\n太\n除\n紫\n逃\n痴\n草\n充\n鳕\n珉\n祗\n墨\n渭\n烩\n蘸\n慕\n璇\n镶\n穴\n嵘\n恶\n骂\n险\n绋\n幕\n碉\n肺\n戳\n刘\n潞\n秣\n纾\n潜\n銮\n洛\n须\n罘\n销\n瘪\n汞\n兮\n屉\nr\n林\n厕\n质\n探\n划\n狸\n殚\n善\n煊\n烹\n〒\n锈\n逯\n宸\n辍\n泱\n柚\n袍\n远\n蹋\n嶙\n绝\n峥\n娥\n缍\n雀\n徵\n认\n镱\n谷\n=\n贩\n勉\n撩\n鄯\n斐\n洋\n非\n祚\n泾\n诒\n饿\n撬\n威\n晷\n搭\n芍\n锥\n笺\n蓦\n候\n琊\n档\n礁\n沼\n卵\n荠\n忑\n朝\n凹\n瑞\n头\n仪\n弧\n孵\n畏\n铆\n突\n衲\n车\n浩\n气\n茂\n悖\n厢\n枕\n酝\n戴\n湾\n邹\n飚\n攘\n锂\n写\n宵\n翁\n岷\n无\n喜\n丈\n挑\n嗟\n绛\n殉\n议\n槽\n具\n醇\n淞\n笃\n郴\n阅\n饼\n底\n壕\n砚\n弈\n询\n缕\n庹\n翟\n零\n筷\n暨\n舟\n闺\n甯\n撞\n麂\n茌\n蔼\n很\n珲\n捕\n棠\n角\n阉\n媛\n娲\n诽\n剿\n尉\n爵\n睬\n韩\n诰\n匣\n危\n糍\n镯\n立\n浏\n阳\n少\n盆\n舔\n擘\n匪\n申\n尬\n铣\n旯\n抖\n赘\n瓯\n居\nˇ\n哮\n游\n锭\n茏\n歌\n坏\n甚\n秒\n舞\n沙\n仗\n劲\n潺\n阿\n燧\n郭\n嗖\n霏\n忠\n材\n奂\n耐\n跺\n砀\n输\n岖\n媳\n氟\n极\n摆\n灿\n今\n扔\n腻\n枝\n奎\n药\n熄\n吨\n话\nq\n额\n慑\n嘌\n协\n喀\n壳\n埭\n视\n著\n於\n愧\n陲\n翌\n峁\n颅\n佛\n腹\n聋\n侯\n咎\n叟\n秀\n颇\n存\n较\n罪\n哄\n岗\n扫\n栏\n钾\n羌\n己\n璨\n枭\n霉\n煌\n涸\n衿\n键\n镝\n益\n岢\n奏\n连\n夯\n睿\n冥\n均\n糖\n狞\n蹊\n稻\n爸\n刿\n胥\n煜\n丽\n肿\n璃\n掸\n跚\n灾\n垂\n樾\n濑\n乎\n莲\n窄\n犹\n撮\n战\n馄\n软\n络\n显\n鸢\n胸\n宾\n妲\n恕\n埔\n蝌\n份\n遇\n巧\n瞟\n粒\n恰\n剥\n桡\n博\n讯\n凯\n堇\n阶\n滤\n卖\n斌\n骚\n彬\n兑\n磺\n樱\n舷\n两\n娱\n福\n仃\n差\n找\n桁\n÷\n净\n把\n阴\n污\n戬\n雷\n碓\n蕲\n楚\n罡\n焖\n抽\n妫\n咒\n仑\n闱\n尽\n邑\n菁\n爱\n贷\n沥\n鞑\n牡\n嗉\n崴\n骤\n塌\n嗦\n订\n拮\n滓\n捡\n锻\n次\n坪\n杩\n臃\n箬\n融\n珂\n鹗\n宗\n枚\n降\n鸬\n妯\n阄\n堰\n盐\n毅\n必\n杨\n崃\n俺\n甬\n状\n莘\n货\n耸\n菱\n腼\n铸\n唏\n痤\n孚\n澳\n懒\n溅\n翘\n疙\n杷\n淼\n缙\n骰\n喊\n悉\n砻\n坷\n艇\n赁\n界\n谤\n纣\n宴\n晃\n茹\n归\n饭\n梢\n铡\n街\n抄\n肼\n鬟\n苯\n颂\n撷\n戈\n炒\n咆\n茭\n瘙\n负\n仰\n客\n琉\n铢\n封\n卑\n珥\n椿\n镧\n窨\n鬲\n寿\n御\n袤\n铃\n萎\n砖\n餮\n脒\n裳\n肪\n孕\n嫣\n馗\n嵇\n恳\n氯\n江\n石\n褶\n冢\n祸\n阻\n狈\n羞\n银\n靳\n透\n咳\n叼\n敷\n芷\n啥\n它\n瓤\n兰\n痘\n懊\n逑\n肌\n往\n捺\n坊\n甩\n呻\n〃\n沦\n忘\n膻\n祟\n菅\n剧\n崆\n智\n坯\n臧\n霍\n墅\n攻\n眯\n倘\n拢\n骠\n铐\n庭\n岙\n瓠\n′\n缺\n泥\n迢\n捶\n?\n？\n郏\n喙\n掷\n沌\n纯\n秘\n种\n听\n绘\n固\n螨\n团\n香\n盗\n妒\n埚\n蓝\n拖\n旱\n荞\n铀\n血\n遏\n汲\n辰\n叩\n拽\n幅\n硬\n惶\n桀\n漠\n措\n泼\n唑\n齐\n肾\n念\n酱\n虚\n屁\n耶\n旗\n砦\n闵\n婉\n馆\n拭\n绅\n韧\n忏\n窝\n醋\n葺\n顾\n辞\n倜\n堆\n辋\n逆\n玟\n贱\n疾\n董\n惘\n倌\n锕\n淘\n嘀\n莽\n俭\n笏\n绑\n鲷\n杈\n择\n蟀\n粥\n嗯\n驰\n逾\n案\n谪\n褓\n胫\n哩\n昕\n颚\n鲢\n绠\n躺\n鹄\n崂\n儒\n俨\n丝\n尕\n泌\n啊\n萸\n彰\n幺\n吟\n骄\n苣\n弦\n脊\n瑰\n〈\n诛\n镁\n析\n闪\n剪\n侧\n哟\n框\n螃\n守\n嬗\n燕\n狭\n铈\n缮\n概\n迳\n痧\n鲲\n俯\n售\n笼\n痣\n扉\n挖\n满\n咋\n援\n邱\n扇\n歪\n便\n玑\n绦\n峡\n蛇\n叨\n〖\n泽\n胃\n斓\n喋\n怂\n坟\n猪\n该\n蚬\n炕\n弥\n赞\n棣\n晔\n娠\n挲\n狡\n创\n疖\n铕\n镭\n稷\n挫\n弭\n啾\n翔\n粉\n履\n苘\n哦\n楼\n秕\n铂\n土\n锣\n瘟\n挣\n栉\n习\n享\n桢\n袅\n磨\n桂\n谦\n延\n坚\n蔚\n噗\n署\n谟\n猬\n钎\n恐\n嬉\n雒\n倦\n衅\n亏\n璩\n睹\n刻\n殿\n王\n算\n雕\n麻\n丘\n柯\n骆\n丸\n塍\n谚\n添\n鲈\n垓\n桎\n蚯\n芥\n予\n飕\n镦\n谌\n窗\n醚\n菀\n亮\n搪\n莺\n蒿\n羁\n足\nJ\n真\n轶\n悬\n衷\n靛\n翊\n掩\n哒\n炅\n掐\n冼\n妮\nl\n谐\n稚\n荆\n擒\n犯\n陵\n虏\n浓\n崽\n刍\n陌\n傻\n孜\n千\n靖\n演\n矜\n钕\n煽\n杰\n酗\n渗\n伞\n栋\n俗\n泫\n戍\n罕\n沾\n疽\n灏\n煦\n芬\n磴\n叱\n阱\n榉\n湃\n蜀\n叉\n醒\n彪\n租\n郡\n篷\n屎\n良\n垢\n隗\n弱\n陨\n峪\n砷\n掴\n颁\n胎\n雯\n绵\n贬\n沐\n撵\n隘\n篙\n暖\n曹\n陡\n栓\n填\n臼\n彦\n瓶\n琪\n潼\n哪\n鸡\n摩\n啦\n俟\n锋\n域\n耻\n蔫\n疯\n纹\n撇\n毒\n绶\n痛\n酯\n忍\n爪\n赳\n歆\n嘹\n辕\n烈\n册\n朴\n钱\n吮\n毯\n癜\n娃\n谀\n邵\n厮\n炽\n璞\n邃\n丐\n追\n词\n瓒\n忆\n轧\n芫\n谯\n喷\n弟\n半\n冕\n裙\n掖\n墉\n绮\n寝\n苔\n势\n顷\n褥\n切\n衮\n君\n佳\n嫒\n蚩\n霞\n佚\n洙\n逊\n镖\n暹\n唛\n&\n殒\n顶\n碗\n獗\n轭\n铺\n蛊\n废\n恹\n汨\n崩\n珍\n那\n杵\n曲\n纺\n夏\n薰\n傀\n闳\n淬\n姘\n舀\n拧\n卷\n楂\n恍\n讪\n厩\n寮\n篪\n赓\n乘\n灭\n盅\n鞣\n沟\n慎\n挂\n饺\n鼾\n杳\n树\n缨\n丛\n絮\n娌\n臻\n嗳\n篡\n侩\n述\n衰\n矛\n圈\n蚜\n匕\n筹\n匿\n濞\n晨\n叶\n骋\n郝\n挚\n蚴\n滞\n增\n侍\n描\n瓣\n吖\n嫦\n蟒\n匾\n圣\n赌\n毡\n癞\n恺\n百\n曳\n需\n篓\n肮\n庖\n帏\n卿\n驿\n遗\n蹬\n鬓\n骡\n歉\n芎\n胳\n屐\n禽\n烦\n晌\n寄\n媾\n狄\n翡\n苒\n船\n廉\n终\n痞\n殇\n々\n畦\n饶\n改\n拆\n悻\n萄\n￡\n瓿\n乃\n訾\n桅\n匮\n溧\n拥\n纱\n铍\n骗\n蕃\n龋\n缬\n父\n佐\n疚\n栎\n醍\n掳\n蓄\nx\n惆\n颜\n鲆\n榆\n〔\n猎\n敌\n暴\n谥\n鲫\n贾\n罗\n玻\n缄\n扦\n芪\n癣\n落\n徒\n臾\n恿\n猩\n托\n邴\n肄\n牵\n春\n陛\n耀\n刊\n拓\n蓓\n邳\n堕\n寇\n枉\n淌\n啡\n湄\n兽\n酷\n萼\n碚\n濠\n萤\n夹\n旬\n戮\n梭\n琥\n椭\n昔\n勺\n蜊\n绐\n晚\n孺\n僵\n宣\n摄\n冽\n旨\n萌\n忙\n蚤\n眉\n噼\n蟑\n付\n契\n瓜\n悼\n颡\n壁\n曾\n窕\n颢\n澎\n仿\n俑\n浑\n嵌\n浣\n乍\n碌\n褪\n乱\n蔟\n隙\n玩\n剐\n葫\n箫\n纲\n围\n伐\n决\n伙\n漩\n瑟\n刑\n肓\n镳\n缓\n蹭\n氨\n皓\n典\n畲\n坍\n铑\n檐\n塑\n洞\n倬\n储\n胴\n淳\n戾\n吐\n灼\n惺\n妙\n毕\n珐\n缈\n虱\n盖\n羰\n鸿\n磅\n谓\n髅\n娴\n苴\n唷\n蚣\n霹\n抨\n贤\n唠\n犬\n誓\n逍\n庠\n逼\n麓\n籼\n釉\n呜\n碧\n秧\n氩\n摔\n霄\n穸\n纨\n辟\n妈\n映\n完\n牛\n缴\n嗷\n炊\n恩\n荔\n茆\n掉\n紊\n慌\n莓\n羟\n阙\n萁\n磐\n另\n蕹\n辱\n鳐\n湮\n吡\n吩\n唐\n睦\n垠\n舒\n圜\n冗\n瞿\n溺\n芾\n囱\n匠\n僳\n汐\n菩\n饬\n漓\n黑\n霰\n浸\n濡\n窥\n毂\n蒡\n兢\n驻\n鹉\n芮\n诙\n迫\n雳\n厂\n忐\n臆\n猴\n鸣\n蚪\n栈\n箕\n羡\n渐\n莆\n捍\n眈\n哓\n趴\n蹼\n埕\n嚣\n骛\n宏\n淄\n斑\n噜\n严\n瑛\n垃\n椎\n诱\n压\n庾\n绞\n焘\n廿\n抡\n迄\n棘\n夫\n纬\n锹\n眨\n瞌\n侠\n脐\n竞\n瀑\n孳\n骧\n遁\n姜\n颦\n荪\n滚\n萦\n伪\n逸\n粳\n爬\n锁\n矣\n役\n趣\n洒\n颔\n诏\n逐\n奸\n甭\n惠\n攀\n蹄\n泛\n尼\n拼\n阮\n鹰\n亚\n颈\n惑\n勒\n〉\n际\n肛\n爷\n刚\n钨\n丰\n养\n冶\n鲽\n辉\n蔻\n画\n覆\n皴\n妊\n麦\n返\n醉\n皂\n擀\n〗\n酶\n凑\n粹\n悟\n诀\n硖\n港\n卜\nz\n杀\n涕\n±\n舍\n铠\n抵\n弛\n段\n敝\n镐\n奠\n拂\n轴\n跛\n袱\ne\nt\n沉\n菇\n俎\n薪\n峦\n秭\n蟹\n历\n盟\n菠\n寡\n液\n肢\n喻\n染\n裱\n悱\n抱\n氙\n赤\n捅\n猛\n跑\n氮\n谣\n仁\n尺\n辊\n窍\n烙\n衍\n架\n擦\n倏\n璐\n瑁\n币\n楞\n胖\n夔\n趸\n邛\n惴\n饕\n虔\n蝎\n§\n哉\n贝\n宽\n辫\n炮\n扩\n饲\n籽\n魏\n菟\n锰\n伍\n猝\n末\n琳\n哚\n蛎\n邂\n呀\n姿\n鄞\n却\n歧\n仙\n恸\n椐\n森\n牒\n寤\n袒\n婆\n虢\n雅\n钉\n朵\n贼\n欲\n苞\n寰\n故\n龚\n坭\n嘘\n咫\n礼\n硷\n兀\n睢\n汶\n’\n铲\n烧\n绕\n诃\n浃\n钿\n哺\n柜\n讼\n颊\n璁\n腔\n洽\n咐\n脲\n簌\n筠\n镣\n玮\n鞠\n谁\n兼\n姆\n挥\n梯\n蝴\n谘\n漕\n刷\n躏\n宦\n弼\nb\n垌\n劈\n麟\n莉\n揭\n笙\n渎\n仕\n嗤\n仓\n配\n怏\n抬\n错\n泯\n镊\n孰\n猿\n邪\n仍\n秋\n鼬\n壹\n歇\n吵\n炼\n<\n尧\n射\n柬\n廷\n胧\n霾\n凳\n隋\n肚\n浮\n梦\n祥\n株\n堵\n退\nL\n鹫\n跎\n凶\n毽\n荟\n炫\n栩\n玳\n甜\n沂\n鹿\n顽\n伯\n爹\n赔\n蛴\n徐\n匡\n欣\n狰\n缸\n雹\n蟆\n疤\n默\n沤\n啜\n痂\n衣\n禅\nw\ni\nh\n辽\n葳\n黝\n钗\n停\n沽\n棒\n馨\n颌\n肉\n吴\n硫\n悯\n劾\n娈\n马\n啧\n吊\n悌\n镑\n峭\n帆\n瀣\n涉\n咸\n疸\n滋\n泣\n翦\n拙\n癸\n钥\n蜒\n+\n尾\n庄\n凝\n泉\n婢\n渴\n谊\n乞\n陆\n锉\n糊\n鸦\n淮\nI\nB\nN\n晦\n弗\n乔\n庥\n葡\n尻\n席\n橡\n傣\n渣\n拿\n惩\n麋\n斛\n缃\n矮\n蛏\n岘\n鸽\n姐\n膏\n催\n奔\n镒\n喱\n蠡\n摧\n钯\n胤\n柠\n拐\n璋\n鸥\n卢\n荡\n倾\n^\n_\n珀\n逄\n萧\n塾\n掇\n贮\n笆\n聂\n圃\n冲\n嵬\nM\n滔\n笕\n值\n炙\n偶\n蜱\n搐\n梆\n汪\n蔬\n腑\n鸯\n蹇\n敞\n绯\n仨\n祯\n谆\n梧\n糗\n鑫\n啸\n豺\n囹\n猾\n巢\n柄\n瀛\n筑\n踌\n沭\n暗\n苁\n鱿\n蹉\n脂\n蘖\n牢\n热\n木\n吸\n溃\n宠\n序\n泞\n偿\n拜\n檩\n厚\n朐\n毗\n螳\n吞\n媚\n朽\n担\n蝗\n橘\n畴\n祈\n糟\n盱\n隼\n郜\n惜\n珠\n裨\n铵\n焙\n琚\n唯\n咚\n噪\n骊\n丫\n滢\n勤\n棉\n呸\n咣\n淀\n隔\n蕾\n窈\n饨\n挨\n煅\n短\n匙\n粕\n镜\n赣\n撕\n墩\n酬\n馁\n豌\n颐\n抗\n酣\n氓\n佑\n搁\n哭\n递\n耷\n涡\n桃\n贻\n碣\n截\n瘦\n昭\n镌\n蔓\n氚\n甲\n猕\n蕴\n蓬\n散\n拾\n纛\n狼\n猷\n铎\n埋\n旖\n矾\n讳\n囊\n糜\n迈\n粟\n蚂\n紧\n鲳\n瘢\n栽\n稼\n羊\n锄\n斟\n睁\n桥\n瓮\n蹙\n祉\n醺\n鼻\n昱\n剃\n跳\n篱\n跷\n蒜\n翎\n宅\n晖\n嗑\n壑\n峻\n癫\n屏\n狠\n陋\n袜\n途\n憎\n祀\n莹\n滟\n佶\n溥\n臣\n约\n盛\n峰\n磁\n慵\n婪\n拦\n莅\n朕\n鹦\n粲\n裤\n哎\n疡\n嫖\n琵\n窟\n堪\n谛\n嘉\n儡\n鳝\n斩\n郾\n驸\n酊\n妄\n胜\n贺\n徙\n傅\n噌\n钢\n栅\n庇\n恋\n匝\n巯\n邈\n尸\n锚\n粗\n佟\n蛟\n薹\n纵\n蚊\n郅\n绢\n锐\n苗\n俞\n篆\n淆\n膀\n鲜\n煎\n诶\n秽\n寻\n涮\n刺\n怀\n噶\n巨\n褰\n魅\n灶\n灌\n桉\n藕\n谜\n舸\n薄\n搀\n恽\n借\n牯\n痉\n渥\n愿\n亓\n耘\n杠\n柩\n锔\n蚶\n钣\n珈\n喘\n蹒\n幽\n赐\n稗\n晤\n莱\n泔\n扯\n肯\n菪\n裆\n腩\n豉\n疆\n骜\n腐\n倭\n珏\n唔\n粮\n亡\n润\n慰\n伽\n橄\n玄\n誉\n醐\n胆\n龊\n粼\n塬\n陇\n彼\n削\n嗣\n绾\n芽\n妗\n垭\n瘴\n爽\n薏\n寨\n龈\n泠\n弹\n赢\n漪\n猫\n嘧\n涂\n恤\n圭\n茧\n烽\n屑\n痕\n巾\n赖\n荸\n凰\n腮\n畈\n亵\n蹲\n偃\n苇\n澜\n艮\n换\n骺\n烘\n苕\n梓\n颉\n肇\n哗\n悄\n氤\n涠\n葬\n屠\n鹭\n植\n竺\n佯\n诣\n鲇\n瘀\n鲅\n邦\n移\n滁\n冯\n耕\n癔\n戌\n茬\n沁\n巩\n悠\n湘\n洪\n痹\n锟\n循\n谋\n腕\n鳃\n钠\n捞\n焉\n迎\n碱\n伫\n急\n榷\n奈\n邝\n卯\n辄\n皲\n卟\n醛\n畹\n忧\n稳\n雄\n昼\n缩\n阈\n睑\n扌\n耗\n曦\n涅\n捏\n瞧\n邕\n淖\n漉\n铝\n耦\n禹\n湛\n喽\n莼\n琅\n诸\n苎\n纂\n硅\n始\n嗨\n傥\n燃\n臂\n赅\n嘈\n呆\n贵\n屹\n壮\n肋\n亍\n蚀\n卅\n豹\n腆\n邬\n迭\n浊\n}\n童\n螂\n捐\n圩\n勐\n触\n寞\n汊\n壤\n荫\n膺\n渌\n芳\n懿\n遴\n螈\n泰\n蓼\n蛤\n茜\n舅\n枫\n朔\n膝\n眙\n避\n梅\n判\n鹜\n璜\n牍\n缅\n垫\n藻\n黔\n侥\n惚\n懂\n踩\n腰\n腈\n札\n丞\n唾\n慈\n顿\n摹\n荻\n琬\n~\n斧\n沈\n滂\n胁\n胀\n幄\n莜\nZ\n匀\n鄄\n掌\n绰\n茎\n焚\n赋\n萱\n谑\n汁\n铒\n瞎\n夺\n蜗\n野\n娆\n冀\n弯\n篁\n懵\n灞\n隽\n芡\n脘\n俐\n辩\n芯\n掺\n喏\n膈\n蝈\n觐\n悚\n踹\n蔗\n熠\n鼠\n呵\n抓\n橼\n峨\n畜\n缔\n禾\n崭\n弃\n熊\n摒\n凸\n拗\n穹\n蒙\n抒\n祛\n劝\n闫\n扳\n阵\n醌\n踪\n喵\n侣\n搬\n仅\n荧\n赎\n蝾\n琦\n买\n婧\n瞄\n寓\n皎\n冻\n赝\n箩\n莫\n瞰\n郊\n笫\n姝\n筒\n枪\n遣\n煸\n袋\n舆\n痱\n涛\n母\n〇\n启\n践\n耙\n绲\n盘\n遂\n昊\n搞\n槿\n诬\n纰\n泓\n惨\n檬\n亻\n越\nC\no\n憩\n熵\n祷\n钒\n暧\n塔\n阗\n胰\n咄\n娶\n魔\n琶\n钞\n邻\n扬\n杉\n殴\n咽\n弓\n〆\n髻\n】\n吭\n揽\n霆\n拄\n殖\n脆\n彻\n岩\n芝\n勃\n辣\n剌\n钝\n嘎\n甄\n佘\n皖\n伦\n授\n徕\n憔\n挪\n皇\n庞\n稔\n芜\n踏\n溴\n兖\n卒\n擢\n饥\n鳞\n煲\n‰\n账\n颗\n叻\n斯\n捧\n鳍\n琮\n讹\n蛙\n纽\n谭\n酸\n兔\n莒\n睇\n伟\n觑\n羲\n嗜\n宜\n褐\n旎\n辛\n卦\n诘\n筋\n鎏\n溪\n挛\n熔\n阜\n晰\n鳅\n丢\n奚\n灸\n呱\n献\n陉\n黛\n鸪\n甾\n萨\n疮\n拯\n洲\n疹\n辑\n叙\n恻\n谒\n允\n柔\n烂\n氏\n逅\n漆\n拎\n惋\n扈\n湟\n纭\n啕\n掬\n擞\n哥\n忽\n涤\n鸵\n靡\n郗\n瓷\n扁\n廊\n怨\n雏\n钮\n敦\nE\n懦\n憋\n汀\n拚\n啉\n腌\n岸\nf\n痼\n瞅\n尊\n咀\n眩\n飙\n忌\n仝\n迦\n熬\n毫\n胯\n篑\n茄\n腺\n凄\n舛\n碴\n锵\n诧\n羯\n後\n漏\n汤\n宓\n仞\n蚁\n壶\n谰\n皑\n铄\n棰\n罔\n辅\n晶\n苦\n牟\n闽\n\\\n烃\n饮\n聿\n丙\n蛳\n朱\n煤\n涔\n鳖\n犁\n罐\n荼\n砒\n淦\n妤\n黏\n戎\n孑\n婕\n瑾\n戢\n钵\n枣\n捋\n砥\n衩\n狙\n桠\n稣\n阎\n肃\n梏\n诫\n孪\n昶\n婊\n衫\n嗔\n侃\n塞\n蜃\n樵\n峒\n貌\n屿\n欺\n缫\n阐\n栖\n诟\n珞\n荭\n吝\n萍\n嗽\n恂\n啻\n蜴\n磬\n峋\n俸\n豫\n谎\n徊\n镍\n韬\n魇\n晴\nU\n囟\n猜\n蛮\n坐\n囿\n伴\n亭\n肝\n佗\n蝠\n妃\n胞\n滩\n榴\n氖\n垩\n苋\n砣\n扪\n馏\n姓\n轩\n厉\n夥\n侈\n禀\n垒\n岑\n赏\n钛\n辐\n痔\n披\n纸\n碳\n“\n坞\n蠓\n挤\n荥\n沅\n悔\n铧\n帼\n蒌\n蝇\na\np\ny\nn\ng\n哀\n浆\n瑶\n凿\n桶\n馈\n皮\n奴\n苜\n佤\n伶\n晗\n铱\n炬\n优\n弊\n氢\n恃\n甫\n攥\n端\n锌\n灰\n稹\n炝\n曙\n邋\n亥\n眶\n碾\n拉\n萝\n绔\n捷\n浍\n腋\n姑\n菖\n凌\n涞\n麽\n锢\n桨\n潢\n绎\n镰\n殆\n锑\n渝\n铬\n困\n绽\n觎\n匈\n糙\n暑\n裹\n鸟\n盔\n肽\n迷\n綦\n『\n亳\n佝\n俘\n钴\n觇\n骥\n仆\n疝\n跪\n婶\n郯\n瀹\n唉\n脖\n踞\n针\n晾\n忒\n扼\n瞩\n叛\n椒\n疟\n嗡\n邗\n肆\n跆\n玫\n忡\n捣\n咧\n唆\n艄\n蘑\n潦\n笛\n阚\n沸\n泻\n掊\n菽\n贫\n斥\n髂\n孢\n镂\n赂\n麝\n鸾\n屡\n衬\n苷\n恪\n叠\n希\n粤\n爻\n喝\n茫\n惬\n郸\n绻\n庸\n撅\n碟\n宄\n妹\n膛\n叮\n饵\n崛\n嗲\n椅\n冤\n搅\n咕\n敛\n尹\n垦\n闷\n蝉\n霎\n勰\n败\n蓑\n泸\n肤\n鹌\n幌\n焦\n浠\n鞍\n刁\n舰\n乙\n竿\n裔\n。\n茵\n函\n伊\n兄\n丨\n娜\n匍\n謇\n莪\n宥\n似\n蝽\n翳\n酪\n翠\n粑\n薇\n祢\n骏\n赠\n叫\nQ\n噤\n噻\n竖\n芗\n莠\n潭\n俊\n羿\n耜\nO\n郫\n趁\n嗪\n囚\n蹶\n芒\n洁\n笋\n鹑\n敲\n硝\n啶\n堡\n渲\n揩\n』\n携\n宿\n遒\n颍\n扭\n棱\n割\n萜\n蔸\n葵\n琴\n捂\n饰\n衙\n耿\n掠\n募\n岂\n窖\n涟\n蔺\n瘤\n柞\n瞪\n怜\n匹\n距\n楔\n炜\n哆\n秦\n缎\n幼\n茁\n绪\n痨\n恨\n楸\n娅\n瓦\n桩\n雪\n嬴\n伏\n榔\n妥\n铿\n拌\n眠\n雍\n缇\n‘\n卓\n搓\n哌\n觞\n噩\n屈\n哧\n髓\n咦\n巅\n娑\n侑\n淫\n膳\n祝\n勾\n姊\n莴\n胄\n疃\n薛\n蜷\n胛\n巷\n芙\n芋\n熙\n闰\n勿\n窃\n狱\n剩\n钏\n幢\n陟\n铛\n慧\n靴\n耍\nk\n浙\n浇\n飨\n惟\n绗\n祜\n澈\n啼\n咪\n磷\n摞\n诅\n郦\n抹\n跃\n壬\n吕\n肖\n琏\n颤\n尴\n剡\n抠\n凋\n赚\n泊\n津\n宕\n殷\n倔\n氲\n漫\n邺\n涎\n怠\n$\n垮\n荬\n遵\n俏\n叹\n噢\n饽\n蜘\n孙\n筵\n疼\n鞭\n羧\n牦\n箭\n潴\nc\n眸\n祭\n髯\n啖\n坳\n愁\n芩\n驮\n倡\n巽\n穰\n沃\n胚\n怒\n凤\n槛\n剂\n趵\n嫁\nv\n邢\n灯\n鄢\n桐\n睽\n檗\n锯\n槟\n婷\n嵋\n圻\n诗\n蕈\n颠\n遭\n痢\n芸\n怯\n馥\n竭\n锗\n徜\n恭\n遍\n籁\n剑\n嘱\n苡\n龄\n僧\n桑\n潸\n弘\n澶\n楹\n悲\n讫\n愤\n腥\n悸\n谍\n椹\n呢\n桓\n葭\n攫\n阀\n翰\n躲\n敖\n柑\n郎\n笨\n橇\n呃\n魁\n燎\n脓\n葩\n磋\n垛\n玺\n狮\n沓\n砜\n蕊\n锺\n罹\n蕉\n翱\n虐\n闾\n巫\n旦\n茱\n嬷\n枯\n鹏\n贡\n芹\n汛\n矫\n绁\n拣\n禺\n佃\n讣\n舫\n惯\n乳\n趋\n疲\n挽\n岚\n虾\n衾\n蠹\n蹂\n飓\n氦\n铖\n孩\n稞\n瑜\n壅\n掀\n勘\n妓\n畅\n髋\nW\n庐\n牲\n蓿\n榕\n练\n垣\n唱\n邸\n菲\n昆\n婺\n穿\n绡\n麒\n蚱\n掂\n愚\n泷\n涪\n漳\n妩\n娉\n榄\n讷\n觅\n旧\n藤\n煮\n呛\n柳\n腓\n叭\n庵\n烷\n阡\n罂\n蜕\n擂\n猖\n咿\n媲\n脉\n【\n沏\n貅\n黠\n熏\n哲\n烁\n坦\n酵\n兜\n×\n潇\n撒\n剽\n珩\n圹\n乾\n摸\n樟\n帽\n嗒\n襄\n魂\n轿\n憬\n锡\n〕\n喃\n皆\n咖\n隅\n脸\n残\n泮\n袂\n鹂\n珊\n囤\n捆\n咤\n误\n徨\n闹\n淙\n芊\n淋\n怆\n囗\n拨\n梳\n渤\nR\nG\n绨\n蚓\n婀\n幡\n狩\n麾\n谢\n唢\n裸\n旌\n伉\n纶\n裂\n驳\n砼\n咛\n澄\n樨\n蹈\n宙\n澍\n倍\n貔\n操\n勇\n蟠\n摈\n砧\n虬\n够\n缁\n悦\n藿\n撸\n艹\n摁\n淹\n豇\n虎\n榭\nˉ\n吱\nd\n°\n喧\n荀\n踱\n侮\n奋\n偕\n饷\n犍\n惮\n坑\n璎\n徘\n宛\n妆\n袈\n倩\n窦\n昂\n荏\n乖\nK\n怅\n撰\n鳙\n牙\n袁\n酞\nX\n痿\n琼\n闸\n雁\n趾\n荚\n虻\n涝\n《\n杏\n韭\n偈\n烤\n绫\n鞘\n卉\n症\n遢\n蓥\n诋\n杭\n荨\n匆\n竣\n簪\n辙\n敕\n虞\n丹\n缭\n咩\n黟\nm\n淤\n瑕\n咂\n铉\n硼\n茨\n嶂\n痒\n畸\n敬\n涿\n粪\n窘\n熟\n叔\n嫔\n盾\n忱\n裘\n憾\n梵\n赡\n珙\n咯\n娘\n庙\n溯\n胺\n葱\n痪\n摊\n荷\n卞\n乒\n髦\n寐\n铭\n坩\n胗\n枷\n爆\n溟\n嚼\n羚\n砬\n轨\n惊\n挠\n罄\n竽\n菏\n氧\n浅\n楣\n盼\n枢\n炸\n阆\n杯\n谏\n噬\n淇\n渺\n俪\n秆\n墓\n泪\n跻\n砌\n痰\n垡\n渡\n耽\n釜\n讶\n鳎\n煞\n呗\n韶\n舶\n绷\n鹳\n缜\n旷\n铊\n皱\n龌\n檀\n霖\n奄\n槐\n艳\n蝶\n旋\n哝\n赶\n骞\n蚧\n腊\n盈\n丁\n`\n蜚\n矸\n蝙\n睨\n嚓\n僻\n鬼\n醴\n夜\n彝\n磊\n笔\n拔\n栀\n糕\n厦\n邰\n纫\n逭\n纤\n眦\n膊\n馍\n躇\n烯\n蘼\n冬\n诤\n暄\n骶\n哑\n瘠\n」\n臊\n丕\n愈\n咱\n螺\n擅\n跋\n搏\n硪\n谄\n笠\n淡\n嘿\n骅\n谧\n鼎\n皋\n姚\n歼\n蠢\n驼\n耳\n胬\n挝\n涯\n狗\n蒽\n孓\n犷\n凉\n芦\n箴\n铤\n孤\n嘛\n坤\nV\n茴\n朦\n挞\n尖\n橙\n诞\n搴\n碇\n洵\n浚\n帚\n蜍\n漯\n柘\n嚎\n讽\n芭\n荤\n咻\n祠\n秉\n跖\n埃\n吓\n糯\n眷\n馒\n惹\n娼\n鲑\n嫩\n讴\n轮\n瞥\n靶\n褚\n乏\n缤\n宋\n帧\n删\n驱\n碎\n扑\n俩\n俄\n偏\n涣\n竹\n噱\n皙\n佰\n渚\n唧\n斡\n#\n镉\n刀\n崎\n筐\n佣\n夭\n贰\n肴\n峙\n哔\n艿\n匐\n牺\n镛\n缘\n仡\n嫡\n劣\n枸\n堀\n梨\n簿\n鸭\n蒸\n亦\n稽\n浴\n{\n衢\n束\n槲\nj\n阁\n揍\n疥\n棋\n潋\n聪\n窜\n乓\n睛\n插\n冉\n阪\n苍\n搽\n「\n蟾\n螟\n幸\n仇\n樽\n撂\n慢\n跤\n幔\n俚\n淅\n覃\n觊\n溶\n妖\n帛\n侨\n曰\n妾\n泗\n·\n：\n瀘\n風\nË\n（\n）\n∶\n紅\n紗\n瑭\n雲\n頭\n鶏\n財\n許\n•\n¥\n樂\n焗\n麗\n—\n；\n滙\n東\n榮\n繪\n興\n…\n門\n業\nπ\n楊\n國\n顧\né\n盤\n寳\nΛ\n龍\n鳳\n島\n誌\n緣\n結\n銭\n萬\n勝\n祎\n璟\n優\n歡\n臨\n時\n購\n＝\n★\n藍\n昇\n鐵\n觀\n勅\n農\n聲\n畫\n兿\n術\n發\n劉\n記\n專\n耑\n園\n書\n壴\n種\nΟ\n●\n褀\n號\n銀\n匯\n敟\n锘\n葉\n橪\n廣\n進\n蒄\n鑽\n阝\n祙\n貢\n鍋\n豊\n夬\n喆\n團\n閣\n開\n燁\n賓\n館\n酡\n沔\n順\n＋\n硚\n劵\n饸\n陽\n車\n湓\n復\n萊\n氣\n軒\n華\n堃\n迮\n纟\n戶\n馬\n學\n裡\n電\n嶽\n獨\nマ\nシ\nサ\nジ\n燘\n袪\n環\n❤\n臺\n灣\n専\n賣\n孖\n聖\n攝\n線\n▪\nα\n傢\n俬\n夢\n達\n莊\n喬\n貝\n薩\n劍\n羅\n壓\n棛\n饦\n尃\n璈\n囍\n醫\nＧ\nＩ\nＡ\n＃\nＮ\n鷄\n髙\n嬰\n啓\n約\n隹\n潔\n賴\n藝\n～\n寶\n籣\n麺\n　\n嶺\n√\n義\n網\n峩\n長\n∧\n魚\n機\n構\n②\n鳯\n偉\nＬ\nＢ\n㙟\n畵\n鴿\n＇\n詩\n溝\n嚞\n屌\n藔\n佧\n玥\n蘭\n織\n１\n３\n９\n０\n７\n點\n砭\n鴨\n鋪\n銘\n廳\n弍\n‧\n創\n湯\n坶\n℃\n卩\n骝\n＆\n烜\n荘\n當\n潤\n扞\n係\n懷\n碶\n钅\n蚨\n讠\n☆\n叢\n爲\n埗\n涫\n塗\n→\n楽\n現\n鯨\n愛\n瑪\n鈺\n忄\n悶\n藥\n飾\n樓\n視\n孬\nㆍ\n燚\n苪\n師\n①\n丼\n锽\n│\n韓\n標\nè\n兒\n閏\n匋\n張\n漢\nÜ\n髪\n會\n閑\n檔\n習\n裝\nの\n峯\n菘\n輝\nИ\n雞\n釣\n億\n浐\nＫ\nＯ\nＲ\n８\nＨ\nＥ\nＰ\nＴ\nＷ\nＤ\nＳ\nＣ\nＭ\nＦ\n姌\n饹\n»\n晞\n廰\nä\n嵯\n鷹\n負\n飲\n絲\n冚\n楗\n澤\n綫\n區\n❋\n←\n質\n靑\n揚\n③\n滬\n統\n産\n協\n﹑\n乸\n畐\n經\n運\n際\n洺\n岽\n為\n粵\n諾\n崋\n豐\n碁\nɔ\nＶ\n２\n６\n齋\n誠\n訂\n´\n勑\n雙\n陳\n無\ní\n泩\n媄\n夌\n刂\nｉ\nｃ\nｔ\nｏ\nｒ\nａ\n嘢\n耄\n燴\n暃\n壽\n媽\n靈\n抻\n體\n唻\nÉ\n冮\n甹\n鎮\n錦\nʌ\n蜛\n蠄\n尓\n駕\n戀\n飬\n逹\n倫\n貴\n極\nЯ\nЙ\n寬\n磚\n嶪\n郎\n職\n｜\n間\nｎ\nｄ\n剎\n伈\n課\n飛\n橋\n瘊\n№\n譜\n骓\n圗\n滘\n縣\n粿\n咅\n養\n濤\n彳\n®\n％\nⅡ\n啰\n㴪\n見\n矞\n薬\n糁\n邨\n鲮\n顔\n罱\nЗ\n選\n話\n贏\n氪\n俵\n競\n瑩\n繡\n枱\nβ\n綉\ná\n獅\n爾\n™\n麵\n戋\n淩\n徳\n個\n劇\n場\n務\n簡\n寵\nｈ\n實\n膠\n轱\n圖\n築\n嘣\n樹\n㸃\n營\n耵\n孫\n饃\n鄺\n飯\n麯\n遠\n輸\n坫\n孃\n乚\n閃\n鏢\n㎡\n題\n廠\n關\n↑\n爺\n將\n軍\n連\n篦\n覌\n參\n箸\n－\n窠\n棽\n寕\n夀\n爰\n歐\n呙\n閥\n頡\n熱\n雎\n垟\n裟\n凬\n勁\n帑\n馕\n夆\n疌\n枼\n馮\n貨\n蒤\n樸\n彧\n旸\n靜\n龢\n暢\n㐱\n鳥\n珺\n鏡\n灡\n爭\n堷\n廚\nÓ\n騰\n診\n┅\n蘇\n褔\n凱\n頂\n豕\n亞\n帥\n嘬\n⊥\n仺\n桖\n複\n饣\n絡\n穂\n顏\n棟\n納\n▏\n濟\n親\n設\n計\n攵\n埌\n烺\nò\n頤\n燦\n蓮\n撻\n節\n講\n濱\n濃\n娽\n洳\n朿\n燈\n鈴\n護\n膚\n铔\n過\n補\nＺ\nＵ\n５\n４\n坋\n闿\n䖝\n餘\n缐\n铞\n貿\n铪\n桼\n趙\n鍊\n［\n㐂\n垚\n菓\n揸\n捲\n鐘\n滏\n𣇉\n爍\n輪\n燜\n鴻\n鮮\n動\n鹞\n鷗\n丄\n慶\n鉌\n翥\n飮\n腸\n⇋\n漁\n覺\n來\n熘\n昴\n翏\n鲱\n圧\n鄉\n萭\n頔\n爐\n嫚\nг\n貭\n類\n聯\n幛\n輕\n訓\n鑒\n夋\n锨\n芃\n珣\n䝉\n扙\n嵐\n銷\n處\nㄱ\n語\n誘\n苝\n歸\n儀\n燒\n楿\n內\n粢\n葒\n奧\n麥\n礻\n滿\n蠔\n穵\n瞭\n態\n鱬\n榞\n硂\n鄭\n黃\n煙\n祐\n奓\n逺\n＊\n瑄\n獲\n聞\n薦\n讀\n這\n樣\n決\n問\n啟\n們\n執\n説\n轉\n單\n隨\n唘\n帶\n倉\n庫\n還\n贈\n尙\n皺\n■\n餅\n產\n○\n∈\n報\n狀\n楓\n賠\n琯\n嗮\n禮\n｀\n傳\n＞\n≤\n嗞\nΦ\n≥\n換\n咭\n∣\n↓\n曬\nε\n応\n寫\n″\n終\n様\n純\n費\n療\n聨\n凍\n壐\n郵\nü\n黒\n∫\n製\n塊\n調\n軽\n確\n撃\n級\n馴\nⅢ\n涇\n繹\n數\n碼\n證\n狒\n処\n劑\n＜\n晧\n賀\n衆\n］\n櫥\n兩\n陰\n絶\n對\n鯉\n憶\n◎\nｐ\nｅ\nＹ\n蕒\n煖\n頓\n測\n試\n鼽\n僑\n碩\n妝\n帯\n≈\n鐡\n舖\n權\n喫\n倆\nˋ\n該\n悅\nā\n俫\n．\nｆ\nｓ\nｂ\nｍ\nｋ\nｇ\nｕ\nｊ\n貼\n淨\n濕\n針\n適\n備\nｌ\n／\n給\n謢\n強\n觸\n衛\n與\n⊙\n＄\n緯\n變\n⑴\n⑵\n⑶\n㎏\n殺\n∩\n幚\n─\n價\n▲\n離\nú\nó\n飄\n烏\n関\n閟\n﹝\n﹞\n邏\n輯\n鍵\n驗\n訣\n導\n歷\n屆\n層\n▼\n儱\n錄\n熳\nē\n艦\n吋\n錶\n辧\n飼\n顯\n④\n禦\n販\n気\n対\n枰\n閩\n紀\n幹\n瞓\n貊\n淚\n△\n眞\n墊\nΩ\n獻\n褲\n縫\n緑\n亜\n鉅\n餠\n｛\n｝\n◆\n蘆\n薈\n█\n◇\n溫\n彈\n晳\n粧\n犸\n穩\n訊\n崬\n凖\n熥\nП\n舊\n條\n紋\n圍\nⅣ\n筆\n尷\n難\n雜\n錯\n綁\n識\n頰\n鎖\n艶\n□\n殁\n殼\n⑧\n├\n▕\n鵬\nǐ\nō\nǒ\n糝\n綱\n▎\nμ\n盜\n饅\n醬\n籤\n蓋\n釀\n鹽\n據\nà\nɡ\n辦\n◥\n彐\n┌\n婦\n獸\n鲩\n伱\nī\n蒟\n蒻\n齊\n袆\n腦\n寧\n凈\n妳\n煥\n詢\n偽\n謹\n啫\n鯽\n騷\n鱸\n損\n傷\n鎻\n髮\n買\n冏\n儥\n両\n﹢\n∞\n載\n喰\nｚ\n羙\n悵\n燙\n曉\n員\n組\n徹\n艷\n痠\n鋼\n鼙\n縮\n細\n嚒\n爯\n≠\n維\n＂\n鱻\n壇\n厍\n帰\n浥\n犇\n薡\n軎\n²\n應\n醜\n刪\n緻\n鶴\n賜\n噁\n軌\n尨\n镔\n鷺\n槗\n彌\n葚\n濛\n請\n溇\n緹\n賢\n訪\n獴\n瑅\n資\n縤\n陣\n蕟\n栢\n韻\n祼\n恁\n伢\n謝\n劃\n涑\n總\n衖\n踺\n砋\n凉\n籃\n駿\n苼\n瘋\n昽\n紡\n驊\n腎\n﹗\n響\n杋\n剛\n嚴\n禪\n歓\n槍\n傘\n檸\n檫\n炣\n勢\n鏜\n鎢\n銑\n尐\n減\n奪\n惡\nθ\n僮\n婭\n臘\nū\nì\n殻\n鉄\n∑\n蛲\n焼\n緖\n續\n紹\n懮"},27546:function(n,r,e){"use strict";var t=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],a="undefined"===typeof globalThis?e.g:globalThis;n.exports=function(){for(var n=[],r=0;r<t.length;r++)"function"===typeof a[t[r]]&&(n[n.length]=t[r]);return n}},92814:function(n,r,e){"use strict";var t=e(42396),a=t("%Object.getOwnPropertyDescriptor%",!0);if(a)try{a([],"length")}catch(o){a=null}n.exports=a}}]);